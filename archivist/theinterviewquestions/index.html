<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>TheInterviewQuestions | Cookie</title>
<meta name="keywords" content="">
<meta name="description" content="收集运维面试题目，减少试错成本">
<meta name="author" content="Cookie">
<link rel="canonical" href="http://hugo.itshare.work/archivist/theinterviewquestions/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://hugo.itshare.work/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="http://hugo.itshare.work/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="http://hugo.itshare.work/img/Q.gif">
<link rel="apple-touch-icon" href="http://hugo.itshare.work/img/Q.gif">
<link rel="mask-icon" href="http://hugo.itshare.work/img/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script defer src="https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta property="og:title" content="TheInterviewQuestions" />
<meta property="og:description" content="收集运维面试题目，减少试错成本" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://hugo.itshare.work/archivist/theinterviewquestions/" />
<meta property="og:image" content="http://oss.itshare.work/itshare-work-images/2.jpg" /><meta property="article:section" content="archivist" />
<meta property="article:published_time" content="2022-09-12T22:01:08+00:00" />
<meta property="article:modified_time" content="2022-09-12T22:01:08+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://oss.itshare.work/itshare-work-images/2.jpg" />
<meta name="twitter:title" content="TheInterviewQuestions"/>
<meta name="twitter:description" content="收集运维面试题目，减少试错成本"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [

        {
          "@type": "ListItem",
          "position":  1 ,
          "name": "📒归档",
          "item": "http://hugo.itshare.work/archivist/"
        }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "TheInterviewQuestions",
      "item": "http://hugo.itshare.work/archivist/theinterviewquestions/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "TheInterviewQuestions",
  "name": "TheInterviewQuestions",
  "description": "收集运维面试题目，减少试错成本",
  "keywords": [
    
  ],
  "articleBody": "df和du的区别？\ndf 查看是文件系统的空间使用，包括元数据和数据，删除文件后，如果此文件正在使用，不会立即释放空间 du 查看是文件数据空间使用，不包括元数据，删除文件后空间立即释放 RAID0，1，5，6，10,01级别区别\n1 磁盘利用率 2 最少几盘硬盘实现 3 容错性，防止几块硬盘损坏 4 性能好坏？ 如何判断linux系统网线是联通的还是断了\n# link ok 说明网线是联通的 root@ubuntu200404:~# mii-tool ens33 ens33: negotiated 1000baseT-FD flow-control, link ok root@ubuntu200404:~# 三次握手过程以及为什么是三次握手\n探测ip冲突arping命令\n[root@centos7 /]# arping 192.168.179.129 ARPING 192.168.179.129 from 192.168.179.130 ens33 Unicast reply from 192.168.179.129 [00:0C:29:7C:80:CD] 0.689ms Unicast reply from 192.168.179.129 [00:0C:29:7C:80:CD] 0.797ms Unicast reply from 192.168.179.129 [00:0C:29:7C:80:CD] 0.746ms Unicast reply from 192.168.179.129 [00:0C:29:7C:80:CD] 0.874ms Unicast reply from 192.168.179.129 [00:0C:29:7C:80:CD] 0.712ms Unicast reply from 192.168.179.129 [00:0C:29:7C:80:CD] 0.845ms Unicast reply from 192.168.179.129 [00:0C:29:7C:80:CD] 0.706ms Unicast reply from 192.168.179.129 [00:0C:29:7C:80:CD] 0.741ms 简述 TCP/IP三次握手和四次挥手的工作原理? Centos7,8 Linux操作系统如何临时和永久配置IP地址?请写出操作步骤 用一行命令找出ifconfig命令结果中的IP地址?\nifconfig | grep inet |grep -v inet6 | tr -s \" \" | cut -d\" \" -f3 使用tcpdump 监听主机为192.168.1.1,tcp端口为80的数据,同时将输出结果保存成文件? 写一个She11脚本,实现判断192.168.1.0/24网络里,当前在线的IP有哪些，能ping 通则认为在线\n# 变量 NET=192.168.1.0 # 清空文件内容 cat /dev/null \u003e hosts.txt # 循环 for i in {1..254};do # ping 1秒钟不回应则认为不通 if ping -c1 -W1 $NET.$i;then # 屏幕打印，并将结果重定向到hosts.txt中 echo $NET.$i is up | tee -a hosts.txt fi done 写一个扫描某个主机端口的状态的脚本\n性能监控 解释uptime top w命令第一行\nuptime # uptime命令 [root@rocky ~]# uptime 21:14:45 up 1:31, 2 users, load average: 0.02, 0.01, 0.00 w命令 # w命令 [root@rocky ~]# w 21:15:57 up 1:32, 2 users, load average: 0.00, 0.00, 0.00 USER TTY FROM LOGIN@ IDLE JCPU PCPU WHAT root tty1 - 06Aug22 1:19m 0.10s 0.10s -bash root pts/0 192.168.179.1 19:45 1.00s 0.06s 0.00s w [root@rocky ~]# top命令 21:15:57 up 1:32 2 users load average: 0.00, 0.00, 0.00 当前系统时间 系统运行了多长时间 登录的用户数 系统1分钟、5分钟、15分钟的平均负载，一般不会超过1，超过5时建议警报 top命令详解\n面试题 4.1 解释top命令每一行的意义 4.2 如果查看一个进程的是否是多线程 4.3 如果实现秒级的计划任务 4.4 说明cron计划任务的格式\niptables有几个表以及每个表有几个链？ 五表五链\nMySQL相关面试题 面试题: VARCHAR(50) 能存放几个 UTF8 编码的汉字？\n存放的汉字个数与版本相关。 mysql 4.0以下版本，varchar(50) 指的是 50 字节，如果存放 UTF8 格式编码的汉字时（每个汉字3字 节），只能存放16 个。 mysql 5.0以上版本，varchar(50) 指的是 50 字符，无论存放的是数字、字母还是 UTF8 编码的汉字， 都可以存放 50 个。 MyISAM与MyISAM 的区别\n面试题: InnoDB中一颗的B+树可以存放多少行数据？\n假设定义一颗B+树高度为2，即一个根节点和若干叶子节点。那么这棵B+树的存放总行记录数=根节点指针数* 单个叶子记录的行数。这里先计算叶子节点，B+树中的单个叶子节点的大小为16K，假设每一条目为1K，那么 记录数即为16(16k/1K=16)，然后计算非叶子节点能够存放多少个指针，假设主键ID为bigint类型，那么长 度为8字节，而指针大小在InnoDB中是设置为6个字节，这样加起来一共是14个字节。那么通过页大小/(主键 ID大小+指针大小），即16384/14=1170个指针，所以一颗高度为2的B+树能存放16*1170=18720条这样的 记录。根据这个原理就可以算出一颗高度为3的B+树可以存放16*1170*1170=21902400条记录。所以在 InnoDB中B+树高度一般为2-3层，它就能满足千万级的数据存储 事务特性\nACID特性： A：atomicity 原子性；整个事务中的所有操作要么全部成功执行，要么全部失败后回滚 C：consistency一致性；数据库总是从一个一致性状态转换为另一个一致性状态,类似于能量守恒定 律(N50周启皓语录) I：Isolation隔离性；一个事务所做出的操作在提交之前，是不能为其它事务所见；隔离有多种隔离 级别，实现并发 D：durability持久性；一旦事务提交，其所做的修改会永久保存于数据库中\n事务隔离级别\nMySQL 主从数据不一致 造成主从不一致的原因**\n主库binlog格式为Statement，同步到从库执行后可能造成主从不一致。 主库执行更改前有执行set sql_log_bin=0，会使主库不记录binlog，从库也无法变更这部分数据。 从节点未设置只读，误操作写入数据 主库或从库意外宕机，宕机可能会造成binlog或者relaylog文件出现损坏，导致主从不一致 主从实例版本不一致，特别是高版本是主，低版本为从的情况下，主数据库上面支持的功能，从数 据库上面可能不支持该功能 主从sql_mode 不一致 MySQL自身bug导致 主从不一致修复方法\n将从库重新实现 虽然这也是一种解决方法，但是这个方案恢复时间比较慢，而且有时候从库也是承担一部分的查询 操作的，不能贸然重建。 使用percona-toolkit工具辅助 PT工具包中包含pt-table-checksum和pt-table-sync两个工具，主要用于检测主从是否一致以及修 复数据不一致情况。这种方案优点是修复速度快，不需要停止主从辅助，缺点是需要知识积累，需 要时间去学习，去测试，特别是在生产环境，还是要小心使用 关于使用方法，可以参考下面链接：https://www.cnblogs.com/feiren/p/7777218.html 手动重建不一致的表 在从库发现某几张表与主库数据不一致，而这几张表数据量也比较大，手工比对数据不现实，并且 重做整个库也比较慢，这个时候可以只重做这几张表来修复主从不一致 这种方案缺点是在执行导入期间需要暂时停止从库复制，不过也是可以接受的 ",
  "wordCount" : "2245",
  "inLanguage": "en",
  "image":"http://oss.itshare.work/itshare-work-images/2.jpg","datePublished": "2022-09-12T22:01:08Z",
  "dateModified": "2022-09-12T22:01:08Z",
  "author":[{
    "@type": "Person",
    "name": "Cookie"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://hugo.itshare.work/archivist/theinterviewquestions/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Cookie",
    "logo": {
      "@type": "ImageObject",
      "url": "http://hugo.itshare.work/img/Q.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    (function () {
        let  arr,reg = new RegExp("(^| )"+"change-themes"+"=([^;]*)(;|$)");
        if(arr = document.cookie.match(reg)) {
        } else {
            if (new Date().getHours() >= 19 || new Date().getHours() < 6) {
                document.body.classList.add('dark');
                localStorage.setItem("pref-theme", 'dark');
            } else {
                document.body.classList.remove('dark');
                localStorage.setItem("pref-theme", 'light');
            }
        }
    })()

    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://hugo.itshare.work/" accesskey="h" title="Cookie (Alt + H)">
            <img src="http://hugo.itshare.work/img/Q.gif" alt="logo" aria-label="logo"
                 height="35">Cookie</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://hugo.itshare.work/search" title="🔍 搜索 (Alt &#43; /)" accesskey=/>
                <span>🔍 搜索</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/" title="🏠 主页">
                <span>🏠 主页</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/posts" title="📚 文章">
                <span>📚 文章</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/archivist" title="📒 归档">
                <span>📒 归档</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/tags" title="🧩 标签">
                <span>🧩 标签</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/archives/" title="⏱️ 时间轴">
                <span>⏱️ 时间轴</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/about" title="🙋🏻‍♂️ 关于">
                <span>🙋🏻‍♂️ 关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }
</style>

<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="http://hugo.itshare.work/">🏠 主页</a>&nbsp;»&nbsp;<a href="http://hugo.itshare.work/archivist/">📒归档</a></div>
            <h1 class="post-title">
                TheInterviewQuestions
            </h1>
            <div class="post-description">
                收集运维面试题目，减少试错成本
            </div>
            <div class="post-meta">

<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2022-09-12
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>2245字
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>5分钟
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>Cookie
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
        </span>
    </span>
</span>
<span style="opacity: 0.8;">
                    <span id="post_meta_style_7">
                        &nbsp;&nbsp;
                        <span class="fa fa-eye" ></span>
                        <span>
                            <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
                            &nbsp;&nbsp;
                        </span>
                    </span>
                    <span id="post_meta_style_8">
                        <span class="fa fa-commenting-o"></span>
                        <span>
                            <script src="https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js"></script>
                            <script>
                                let url = document.documentURI
                                
                                let dnsUrl = "http://hugo.itshare.work/"
                                let urlSplit = url.split(dnsUrl)
                                let finalUrl = urlSplit[1]
                                if (finalUrl[0] !== '/') {
                                    finalUrl = '/'+finalUrl
                                }
                                twikoo.getCommentsCount({
                                    envId:  null , 
                                region:  null , 
                                urls: [ 
                                    
                                    finalUrl,
                                ],
                                    includeReply: false 
                                }).then(function (res) {
                                    let count = res[0].count
                                    const obj = document.getElementById("comment_count");
                                    obj.innerText = count
                                    
                                    
                                    
                                }).catch(function (err) {
                                    
                                    console.error(err);
                                });
                            </script>
                            <span id="comment_count"></span>
                        </span>
                    </span>
                </span>

</div>
        </header> 
<figure class="entry-cover1"><img style="zoom:;" loading="lazy" src="http://oss.itshare.work/itshare-work-images/2.jpg" alt="">
    
</figure><aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">文章目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e6%80%a7%e8%83%bd%e7%9b%91%e6%8e%a7" aria-label="性能监控">性能监控</a></li>
                <li>
                    <a href="#iptables%e6%9c%89%e5%87%a0%e4%b8%aa%e8%a1%a8%e4%bb%a5%e5%8f%8a%e6%af%8f%e4%b8%aa%e8%a1%a8%e6%9c%89%e5%87%a0%e4%b8%aa%e9%93%be" aria-label="iptables有几个表以及每个表有几个链？">iptables有几个表以及每个表有几个链？</a></li>
                <li>
                    <a href="#mysql%e7%9b%b8%e5%85%b3%e9%9d%a2%e8%af%95%e9%a2%98" aria-label="MySQL相关面试题">MySQL相关面试题</a>
                </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            const id = encodeURI(element.getAttribute('id')).toLowerCase();
            if (element === activeElement){
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        <div class="post-content"><p><strong>df和du的区别？</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>df 查看是文件系统的空间使用，包括元数据和数据，删除文件后，如果此文件正在使用，不会立即释放空间
</span></span><span style="display:flex;"><span>du 查看是文件数据空间使用，不包括元数据，删除文件后空间立即释放
</span></span></code></pre></div><p><strong>RAID0，1，5，6，10,01级别区别</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>1 磁盘利用率
</span></span><span style="display:flex;"><span>2 最少几盘硬盘实现
</span></span><span style="display:flex;"><span>3 容错性，防止几块硬盘损坏
</span></span><span style="display:flex;"><span>4 性能好坏？
</span></span></code></pre></div><p><strong>如何判断linux系统网线是联通的还是断了</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># link ok 说明网线是联通的</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:~# mii-tool ens33
</span></span><span style="display:flex;"><span>ens33: negotiated 1000baseT-FD flow-control, link ok
</span></span><span style="display:flex;"><span>root@ubuntu200404:~# 
</span></span></code></pre></div><p><strong>三次握手过程以及为什么是三次握手</strong></p>
<p><strong>探测ip冲突arping命令</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos7 /<span style="color:#f92672">]</span><span style="color:#75715e"># arping 192.168.179.129</span>
</span></span><span style="display:flex;"><span>ARPING 192.168.179.129 from 192.168.179.130 ens33
</span></span><span style="display:flex;"><span>Unicast reply from 192.168.179.129 <span style="color:#f92672">[</span>00:0C:29:7C:80:CD<span style="color:#f92672">]</span>  0.689ms
</span></span><span style="display:flex;"><span>Unicast reply from 192.168.179.129 <span style="color:#f92672">[</span>00:0C:29:7C:80:CD<span style="color:#f92672">]</span>  0.797ms
</span></span><span style="display:flex;"><span>Unicast reply from 192.168.179.129 <span style="color:#f92672">[</span>00:0C:29:7C:80:CD<span style="color:#f92672">]</span>  0.746ms
</span></span><span style="display:flex;"><span>Unicast reply from 192.168.179.129 <span style="color:#f92672">[</span>00:0C:29:7C:80:CD<span style="color:#f92672">]</span>  0.874ms
</span></span><span style="display:flex;"><span>Unicast reply from 192.168.179.129 <span style="color:#f92672">[</span>00:0C:29:7C:80:CD<span style="color:#f92672">]</span>  0.712ms
</span></span><span style="display:flex;"><span>Unicast reply from 192.168.179.129 <span style="color:#f92672">[</span>00:0C:29:7C:80:CD<span style="color:#f92672">]</span>  0.845ms
</span></span><span style="display:flex;"><span>Unicast reply from 192.168.179.129 <span style="color:#f92672">[</span>00:0C:29:7C:80:CD<span style="color:#f92672">]</span>  0.706ms
</span></span><span style="display:flex;"><span>Unicast reply from 192.168.179.129 <span style="color:#f92672">[</span>00:0C:29:7C:80:CD<span style="color:#f92672">]</span>  0.741ms
</span></span></code></pre></div><p><strong>简述 TCP/IP三次握手和四次挥手的工作原理?</strong>
<strong>Centos7,8 Linux操作系统如何临时和永久配置IP地址?请写出操作步骤</strong>
<strong>用一行命令找出ifconfig命令结果中的IP地址?</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ifconfig | grep inet |grep -v inet6 | tr -s <span style="color:#e6db74">&#34; &#34;</span> | cut -d<span style="color:#e6db74">&#34; &#34;</span> -f3
</span></span></code></pre></div><p><strong>使用tcpdump 监听主机为192.168.1.1,tcp端口为80的数据,同时将输出结果保存成文件?</strong>
<strong>写一个She11脚本,实现判断192.168.1.0/24网络里,当前在线的IP有哪些，能ping 通则认为在线</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 变量</span>
</span></span><span style="display:flex;"><span>NET<span style="color:#f92672">=</span>192.168.1.0
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 清空文件内容</span>
</span></span><span style="display:flex;"><span>cat /dev/null &gt; hosts.txt
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 循环</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i in <span style="color:#f92672">{</span>1..254<span style="color:#f92672">}</span>;<span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ping 1秒钟不回应则认为不通</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> ping -c1 -W1 $NET.$i;<span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 屏幕打印，并将结果重定向到hosts.txt中</span>
</span></span><span style="display:flex;"><span>    echo $NET.$i is up | tee -a hosts.txt
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p><strong>写一个扫描某个主机端口的状态的脚本</strong></p>
<h1 id="性能监控">性能监控<a hidden class="anchor" aria-hidden="true" href="#性能监控">#</a></h1>
<p><strong>解释uptime top w命令第一行</strong></p>
<ul>
<li>uptime</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># uptime命令
</span></span><span style="display:flex;"><span>[root@rocky ~]# uptime
</span></span><span style="display:flex;"><span> 21:14:45 up  1:31,  2 users,  load average: 0.02, 0.01, 0.00
</span></span></code></pre></div><ul>
<li>w命令</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># w命令
</span></span><span style="display:flex;"><span>[root@rocky ~]# w 
</span></span><span style="display:flex;"><span> 21:15:57 up  1:32,  2 users,  load average: 0.00, 0.00, 0.00
</span></span><span style="display:flex;"><span>USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
</span></span><span style="display:flex;"><span>root     tty1     -                06Aug22  1:19m  0.10s  0.10s -bash
</span></span><span style="display:flex;"><span>root     pts/0    192.168.179.1    19:45    1.00s  0.06s  0.00s w
</span></span><span style="display:flex;"><span>[root@rocky ~]# 
</span></span></code></pre></div><ul>
<li>top命令</li>
</ul>
<p><img loading="lazy" src="../img/1662383968738.png" alt="1662383968738"  />
</p>
<table>
<thead>
<tr>
<th>21:15:57</th>
<th>up  1:32</th>
<th>2 users</th>
<th>load average: 0.00, 0.00, 0.00</th>
</tr>
</thead>
<tbody>
<tr>
<td>当前系统时间</td>
<td>系统运行了多长时间</td>
<td>登录的用户数</td>
<td>系统1分钟、5分钟、15分钟的平均负载，一般不会超过1，超过5时建议警报</td>
</tr>
</tbody>
</table>
<p><strong>top命令详解</strong></p>
<p><img loading="lazy" src="../img/1662383968738.png" alt="1662383968738"  />
</p>
<p><img loading="lazy" src="../img/1662386034301.png" alt="1662386034301"  />
</p>
<p><strong>面试题</strong>
4.1 解释top命令每一行的意义
4.2 如果查看一个进程的是否是多线程
4.3 如果实现秒级的计划任务
4.4 说明cron计划任务的格式</p>
<h1 id="iptables有几个表以及每个表有几个链">iptables有几个表以及每个表有几个链？<a hidden class="anchor" aria-hidden="true" href="#iptables有几个表以及每个表有几个链">#</a></h1>
<p>五表五链</p>
<h1 id="mysql相关面试题">MySQL相关面试题<a hidden class="anchor" aria-hidden="true" href="#mysql相关面试题">#</a></h1>
<p><strong>面试题: VARCHAR(50) 能存放几个 UTF8 编码的汉字？</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>存放的汉字个数与版本相关。
</span></span><span style="display:flex;"><span>mysql 4.0以下版本，varchar(50) 指的是 50 字节，如果存放 UTF8 格式编码的汉字时（每个汉字3字
</span></span><span style="display:flex;"><span>节），只能存放16 个。
</span></span><span style="display:flex;"><span>mysql 5.0以上版本，varchar(50) 指的是 50 字符，无论存放的是数字、字母还是 UTF8 编码的汉字，
</span></span><span style="display:flex;"><span>都可以存放 50 个。
</span></span></code></pre></div><p><strong>MyISAM与MyISAM 的区别</strong></p>
<p><strong>面试题: InnoDB中一颗的B+树可以存放多少行数据？</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>假设定义一颗B+树高度为2，即一个根节点和若干叶子节点。那么这棵B+树的存放总行记录数=根节点指针数*
</span></span><span style="display:flex;"><span>单个叶子记录的行数。这里先计算叶子节点，B+树中的单个叶子节点的大小为16K，假设每一条目为1K，那么
</span></span><span style="display:flex;"><span>记录数即为16(16k/1K=16)，然后计算非叶子节点能够存放多少个指针，假设主键ID为bigint类型，那么长
</span></span><span style="display:flex;"><span>度为8字节，而指针大小在InnoDB中是设置为6个字节，这样加起来一共是14个字节。那么通过页大小/(主键
</span></span><span style="display:flex;"><span>ID大小+指针大小），即16384/14=1170个指针，所以一颗高度为2的B+树能存放16*1170=18720条这样的
</span></span><span style="display:flex;"><span>记录。根据这个原理就可以算出一颗高度为3的B+树可以存放16*1170*1170=21902400条记录。所以在
</span></span><span style="display:flex;"><span>InnoDB中B+树高度一般为2-3层，它就能满足千万级的数据存储
</span></span></code></pre></div><p><strong>事务特性</strong></p>
<p>ACID特性：
A：atomicity 原子性；整个事务中的所有操作要么全部成功执行，要么全部失败后回滚
C：consistency一致性；数据库总是从一个一致性状态转换为另一个一致性状态,类似于能量守恒定
律(N50周启皓语录)
I：Isolation隔离性；一个事务所做出的操作在提交之前，是不能为其它事务所见；隔离有多种隔离
级别，实现并发
D：durability持久性；一旦事务提交，其所做的修改会永久保存于数据库中</p>
<p><strong>事务隔离级别</strong></p>
<p><img loading="lazy" src="../image.assets/1668916687561.png" alt="1668916687561"  />
</p>
<p><img loading="lazy" src="../image.assets/1668916735065.png" alt="1668916735065"  />
</p>
<p><strong>MySQL 主从数据不一致</strong>
<strong>造成主从不一致的原因</strong>**</p>
<ul>
<li>主库binlog格式为Statement，同步到从库执行后可能造成主从不一致。</li>
<li>主库执行更改前有执行set sql_log_bin=0，会使主库不记录binlog，从库也无法变更这部分数据。</li>
<li>从节点未设置只读，误操作写入数据</li>
<li>主库或从库意外宕机，宕机可能会造成binlog或者relaylog文件出现损坏，导致主从不一致</li>
<li>主从实例版本不一致，特别是高版本是主，低版本为从的情况下，主数据库上面支持的功能，从数</li>
<li>据库上面可能不支持该功能</li>
<li>主从sql_mode 不一致</li>
<li>MySQL自身bug导致</li>
</ul>
<p><strong>主从不一致修复方法</strong></p>
<ul>
<li>将从库重新实现
虽然这也是一种解决方法，但是这个方案恢复时间比较慢，而且有时候从库也是承担一部分的查询
操作的，不能贸然重建。</li>
<li>使用percona-toolkit工具辅助
PT工具包中包含pt-table-checksum和pt-table-sync两个工具，主要用于检测主从是否一致以及修
复数据不一致情况。这种方案优点是修复速度快，不需要停止主从辅助，缺点是需要知识积累，需
要时间去学习，去测试，特别是在生产环境，还是要小心使用
关于使用方法，可以参考下面链接：https://www.cnblogs.com/feiren/p/7777218.html</li>
<li>手动重建不一致的表
在从库发现某几张表与主库数据不一致，而这几张表数据量也比较大，手工比对数据不现实，并且
重做整个库也比较慢，这个时候可以只重做这几张表来修复主从不一致
这种方案缺点是在执行导入期间需要暂时停止从库复制，不过也是可以接受的</li>
</ul>


        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="http://hugo.itshare.work/archivist/ssh%E6%9C%8D%E5%8A%A1/">
    <span class="title">« 上一页</span>
    <br>
    <span>ssh服务</span>
  </a>
  <a class="next" href="http://hugo.itshare.work/archivist/rocky%E4%B8%8A%E5%AE%9E%E7%8E%B0%E7%A7%81%E6%9C%89ca%E5%92%8C%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7/">
    <span class="title">下一页 »</span>
    <br>
    <span>Rocky上实现私有CA和证书申请</span>
  </a>
</nav>

        </footer>
    </div>
</article>
</main>

<footer class="footer">
    <span>
        Copyright
        &copy;
        2022-2023
        <a href="http://hugo.itshare.work/" style="color:#939393;">Cookie</a>
        All Rights Reserved
    </span>
    <a href="https://beian.miit.gov.cn/" target="_blank" style="color:#939393;"></a>&nbsp;
    <span>
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null"
           style="display:inline-block;text-decoration:none;height:20px;color:#939393;">
            <img src="" style="float:left;margin: 0px 5px 0px 0px;"/>
            
        </a>
    </span>
    <span id="busuanzi_container">
        <span class="fa fa-user"></span> <span id="busuanzi_value_site_uv"></span>
        <span class="fa fa-eye"></span> <span id="busuanzi_value_site_pv"></span>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        (function() {
            document.cookie = "change-themes" + "="+ escape ("false");
        })()

        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    });
</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\n————————————————\r\n' +
                    '版权声明：本文为「'+"Cookie"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。' +
                '\r\n原文链接：' + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\n————————————————\r\n' +
                    '版权声明：本文为「'+"Cookie"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。' +
                '\r\n原文链接：' + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;
        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = '📄复制';

        function copyingDone() {
            copybutton.innerText = '👌🏻已复制!';
            setTimeout(() => {
                copybutton.innerText = '📄复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent +
                    '\r\n————————————————\r\n' +
                    '版权声明：本文为「'+"Cookie"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。' +
                '\r\n原文链接：' + location.href;
                navigator.clipboard.writeText(text);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {}
            selection.removeRange(range);
        });

        let language = codeblock.className.replaceAll("language-", "")
        let macTool = document.createElement("div")
        let macTool1 = document.createElement("div")
        let macTool2 = document.createElement("div")
        let macTool3 = document.createElement("div")
        let languageType = document.createElement("div")
        languageType.innerText = language
        macTool.setAttribute('class', 'mac-tool')
        macTool1.setAttribute('class', 'mac bb1')
        macTool2.setAttribute('class', 'mac bb2')
        macTool3.setAttribute('class', 'mac bb3')
        languageType.setAttribute('class', 'language-type')
        macTool.appendChild(macTool1)
        macTool.appendChild(macTool2)
        macTool.appendChild(macTool3)
        macTool.appendChild(languageType)

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
            container.appendChild(macTool)
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        }
    });
</script>
</body>

</html>
