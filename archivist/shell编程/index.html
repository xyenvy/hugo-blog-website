<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>shellç¼–ç¨‹ | Cookie</title>
<meta name="keywords" content="">
<meta name="description" content="shell æ˜¯æ“ä½œç³»ç»Ÿçš„æœ€å¤–å±‚ã€‚shell åˆå¹¶ç¼–ç¨‹è¯­è¨€ä»¥æ§åˆ¶è¿›ç¨‹å’Œæ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨å’Œæ§åˆ¶å…¶å®ƒç¨‹åºã€‚shell é€šè¿‡æç¤ºæ‚¨è¾“å…¥ï¼Œå‘æ“ä½œç³»ç»Ÿè§£é‡Šè¯¥è¾“å…¥ï¼Œç„¶åå¤„ç†æ¥è‡ªæ“ä½œç³»ç»Ÿçš„ä»»ä½•ç»“æœè¾“å‡ºæ¥ç®¡ç†æ‚¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚">
<meta name="author" content="Cookie">
<link rel="canonical" href="http://hugo.itshare.work/archivist/shell%E7%BC%96%E7%A8%8B/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://hugo.itshare.work/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="http://hugo.itshare.work/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="http://hugo.itshare.work/img/Q.gif">
<link rel="apple-touch-icon" href="http://hugo.itshare.work/img/Q.gif">
<link rel="mask-icon" href="http://hugo.itshare.work/img/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script defer src="https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta property="og:title" content="shellç¼–ç¨‹" />
<meta property="og:description" content="shell æ˜¯æ“ä½œç³»ç»Ÿçš„æœ€å¤–å±‚ã€‚shell åˆå¹¶ç¼–ç¨‹è¯­è¨€ä»¥æ§åˆ¶è¿›ç¨‹å’Œæ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨å’Œæ§åˆ¶å…¶å®ƒç¨‹åºã€‚shell é€šè¿‡æç¤ºæ‚¨è¾“å…¥ï¼Œå‘æ“ä½œç³»ç»Ÿè§£é‡Šè¯¥è¾“å…¥ï¼Œç„¶åå¤„ç†æ¥è‡ªæ“ä½œç³»ç»Ÿçš„ä»»ä½•ç»“æœè¾“å‡ºæ¥ç®¡ç†æ‚¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://hugo.itshare.work/archivist/shell%E7%BC%96%E7%A8%8B/" />
<meta property="og:image" content="http://oss.itshare.work/itshare-work-images/2.jpg" /><meta property="article:section" content="archivist" />
<meta property="article:published_time" content="2022-08-03T22:23:02+00:00" />
<meta property="article:modified_time" content="2022-08-03T22:23:02+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://oss.itshare.work/itshare-work-images/2.jpg" />
<meta name="twitter:title" content="shellç¼–ç¨‹"/>
<meta name="twitter:description" content="shell æ˜¯æ“ä½œç³»ç»Ÿçš„æœ€å¤–å±‚ã€‚shell åˆå¹¶ç¼–ç¨‹è¯­è¨€ä»¥æ§åˆ¶è¿›ç¨‹å’Œæ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨å’Œæ§åˆ¶å…¶å®ƒç¨‹åºã€‚shell é€šè¿‡æç¤ºæ‚¨è¾“å…¥ï¼Œå‘æ“ä½œç³»ç»Ÿè§£é‡Šè¯¥è¾“å…¥ï¼Œç„¶åå¤„ç†æ¥è‡ªæ“ä½œç³»ç»Ÿçš„ä»»ä½•ç»“æœè¾“å‡ºæ¥ç®¡ç†æ‚¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [

        {
          "@type": "ListItem",
          "position":  1 ,
          "name": "ğŸ“’å½’æ¡£",
          "item": "http://hugo.itshare.work/archivist/"
        }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "shellç¼–ç¨‹",
      "item": "http://hugo.itshare.work/archivist/shell%E7%BC%96%E7%A8%8B/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "shellç¼–ç¨‹",
  "name": "shellç¼–ç¨‹",
  "description": "shell æ˜¯æ“ä½œç³»ç»Ÿçš„æœ€å¤–å±‚ã€‚shell åˆå¹¶ç¼–ç¨‹è¯­è¨€ä»¥æ§åˆ¶è¿›ç¨‹å’Œæ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨å’Œæ§åˆ¶å…¶å®ƒç¨‹åºã€‚shell é€šè¿‡æç¤ºæ‚¨è¾“å…¥ï¼Œå‘æ“ä½œç³»ç»Ÿè§£é‡Šè¯¥è¾“å…¥ï¼Œç„¶åå¤„ç†æ¥è‡ªæ“ä½œç³»ç»Ÿçš„ä»»ä½•ç»“æœè¾“å‡ºæ¥ç®¡ç†æ‚¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚",
  "keywords": [
    
  ],
  "articleBody": "å†…å®¹ç®€è¿° shell æ˜¯æ“ä½œç³»ç»Ÿçš„æœ€å¤–å±‚ã€‚shell åˆå¹¶ç¼–ç¨‹è¯­è¨€ä»¥æ§åˆ¶è¿›ç¨‹å’Œæ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨å’Œæ§åˆ¶å…¶å®ƒç¨‹åºã€‚shell é€šè¿‡æç¤ºæ‚¨è¾“å…¥ï¼Œå‘æ“ä½œç³»ç»Ÿè§£é‡Šè¯¥è¾“å…¥ï¼Œç„¶åå¤„ç†æ¥è‡ªæ“ä½œç³»ç»Ÿçš„ä»»ä½•ç»“æœè¾“å‡ºæ¥ç®¡ç†æ‚¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚\n1.ç¼–ç¨‹åŸºç¡€ Linusï¼šTalk is cheap, show me the code\n1.1 ç¨‹åºç»„æˆ ç¨‹åºï¼šç®—æ³•+æ•°æ®ç»“æ„ ç®—æ³•ï¼šå¤„ç†æ•°æ®çš„æ–¹å¼ æ•°æ®ç»“æ„ï¼šæ•°æ®åœ¨è®¡ç®—æœºä¸­çš„ç±»å‹å’Œç»„ç»‡æ–¹å¼ æ•°æ®ï¼šæ˜¯ç¨‹åºçš„æ ¸å¿ƒï¼Œç¨‹åºä¸ºæ•°æ®æä¾›æœåŠ¡ 1.2 ç¨‹åºç¼–ç¨‹é£æ ¼ é¢å‘è¿‡ç¨‹è¯­è¨€ åšä¸€ä»¶äº‹æƒ…ï¼Œæ’å‡ºä¸ªæ­¥éª¤ï¼Œç¬¬ä¸€æ­¥å¹²ä»€ä¹ˆï¼Œç¬¬äºŒæ­¥å¹²ä»€ä¹ˆï¼Œå¦‚æœå‡ºç°æƒ…å†µAï¼Œåšä»€ä¹ˆå¤„ç†ï¼Œå¦‚æœå‡ºç°äº†æƒ…å†µBï¼Œåšä»€ä¹ˆå¤„ç† é—®é¢˜è§„æ¨¡å°ï¼Œå¯ä»¥æ­¥éª¤åŒ–ï¼ŒæŒ‰éƒ¨å°±ç­å¤„ç† ä»¥æŒ‡ä»¤ä¸ºä¸­å¿ƒï¼Œæ•°æ®æœåŠ¡äºæŒ‡ä»¤ Cï¼Œshell é¢å‘å¯¹è±¡è¯­è¨€ å°†ç¼–ç¨‹çœ‹æˆæ˜¯ä¸€ä¸ªäº‹ç‰©ï¼Œå¯¹å¤–ç•Œæ¥è¯´ï¼Œäº‹ç‰©æ˜¯ç›´æ¥ä½¿ç”¨çš„,ä¸ç”¨å…³å¿ƒäº‹ç‰©å†…éƒ¨çš„æƒ…å†µã€‚è€Œç¼–ç¨‹å°±æ˜¯è®¾ç½®äº‹ç‰©èƒ½å¤Ÿå®ŒæˆåŠŸèƒ½ã€‚ ä¸€ç§è®¤è¯†ä¸–ç•Œã€åˆ†æä¸–ç•Œçš„æ–¹æ³•è®ºã€‚å°†ä¸‡äº‹ä¸‡ç‰©æŠ½è±¡ä¸ºå„ç§å¯¹è±¡ ç±»æ˜¯æŠ½è±¡çš„æ¦‚å¿µï¼Œæ˜¯ä¸‡äº‹ä¸‡ç‰©çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç±»äº‹ç‰©çš„å…±åŒç‰¹å¾çš„é›†åˆ å¯¹è±¡æ˜¯ç±»çš„å…·ä½“å®ç°ï¼Œæ˜¯ä¸€ä¸ªå®ä½“ é—®é¢˜è§„æ¨¡å¤§ï¼Œå¤æ‚ç³»ç»Ÿ ä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼ŒæŒ‡ä»¤æœåŠ¡äºæ•°æ® javaï¼ŒC#ï¼Œpythonï¼Œgolangç­‰ 1.3 ç¼–ç¨‹è¯­è¨€ ç¼–ç¨‹è¯­è¨€æ’è¡Œæ¦œé“¾æ¥\nhttps://www.tiobe.com/tiobe-index/ è®¡ç®—æœºï¼šè¿è¡ŒäºŒè¿›åˆ¶æŒ‡ä»¤\nç¼–ç¨‹è¯­è¨€ï¼šäººä¸è®¡ç®—æœºä¹‹é—´äº¤äº’çš„è¯­è¨€ã€‚åˆ†ä¸ºä¸¤ç§ï¼šä½çº§è¯­è¨€å’Œé«˜çº§è¯­è¨€\nä½çº§ç¼–ç¨‹è¯­è¨€ï¼š æœºå™¨ï¼šäºŒè¿›åˆ¶çš„0å’Œ1çš„åºåˆ—ï¼Œç§°ä¸ºæœºå™¨æŒ‡ä»¤ã€‚ä¸è‡ªç„¶è¯­è¨€å·®å¼‚å¤ªå¤§ï¼Œéš¾æ‡‚ã€éš¾å†™ æ±‡ç¼–ï¼šç”¨ä¸€äº›åŠ©è®°ç¬¦å·æ›¿ä»£æœºå™¨æŒ‡ä»¤ï¼Œç§°ä¸ºæ±‡ç¼–è¯­è¨€\nå¦‚ï¼šADD A,B å°†å¯„å­˜å™¨Açš„æ•°ä¸å¯„å­˜å™¨Bçš„æ•°ç›¸åŠ å¾—åˆ°çš„æ•°æ”¾åˆ°å¯„å­˜å™¨Aä¸­\næ±‡ç¼–è¯­è¨€å†™å¥½çš„ç¨‹åºéœ€è¦æ±‡ç¼–ç¨‹åºè½¬æ¢æˆæœºå™¨æŒ‡ä»¤\næ±‡ç¼–è¯­è¨€ç¨å¾®å¥½ç†è§£ï¼Œå³æœºå™¨æŒ‡ä»¤å¯¹åº”çš„åŠ©è®°ç¬¦ï¼ŒåŠ©è®°ç¬¦æ›´æ¥è¿‘è‡ªç„¶è¯­è¨€ é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼š ç¼–è¯‘ï¼šé«˜çº§è¯­è¨€â€“\u003eç¼–è¯‘å™¨â€“\u003eæœºå™¨ä»£ç æ–‡ä»¶â€“\u003eæ‰§è¡Œï¼Œå¦‚ï¼šCï¼ŒC++ è§£é‡Šï¼šé«˜çº§è¯­è¨€â€“\u003eæ‰§è¡Œâ€“\u003eè§£é‡Šå™¨â€“\u003eæœºå™¨ä»£ç ï¼Œå¦‚ï¼šshellï¼Œpythonï¼Œphpï¼ŒJavaScriptï¼Œperl ç¼–è¯‘å’Œè§£é‡Šå‹è¯­è¨€\n1.4 ç¼–ç¨‹é€»è¾‘å¤„ç†æ–¹å¼ ä¸‰ç§å¤„ç†é€»è¾‘\né¡ºåºæ‰§è¡Œï¼šç¨‹åºæŒ‰ä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œ é€‰æ‹©æ‰§è¡Œï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ ¹æ®æ¡ä»¶çš„ä¸åŒï¼Œè¿›è¡Œé€‰æ‹©ä¸åŒåˆ†æ”¯ç»§ç»­æ‰§è¡Œ å¾ªç¯æ‰§è¡Œï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦é‡å¤æ‰§è¡Œå¤šæ¬¡æŸæ®µè¯­å¥ 2.shell è„šæœ¬è¯­è¨€çš„åŸºæœ¬ç”¨æ³• 2.1 shell è„šæœ¬çš„ç”¨é€” å°†ç®€å•çš„å‘½ä»¤ç»„åˆå®Œæˆå¤æ‚çš„å·¥ä½œ,è‡ªåŠ¨åŒ–æ‰§è¡Œå‘½ä»¤,æé«˜å·¥ä½œæ•ˆç‡ å‡å°‘æ‰‹å·¥å‘½ä»¤çš„è¾“å…¥ï¼Œä¸€å®šç¨‹åº¦ä¸Šé¿å…äººä¸ºé”™è¯¯ å°†è½¯ä»¶æˆ–åº”ç”¨çš„å®‰è£…åŠé…ç½®å®ç°æ ‡å‡†åŒ– ç”¨äºå®ç°æ—¥å¸¸æ€§çš„,é‡å¤æ€§çš„,éäº¤äº’å¼çš„è¿ç»´å·¥ä½œ,å¦‚:æ–‡ä»¶æ‰“åŒ…å‹ç¼©å¤‡ä»½,ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€å¹¶å®ç°å‘Šè­¦ç­‰ 2.2 shellè„šæœ¬åŸºæœ¬ç»“æ„ shellè„šæœ¬ç¼–ç¨‹ï¼šæ˜¯åŸºäºè¿‡ç¨‹å¼ã€è§£é‡Šæ‰§è¡Œçš„è¯­è¨€\nç¼–ç¨‹è¯­è¨€çš„åŸºæœ¬ç»“æ„ï¼š\nå„ç§ç³»ç»Ÿå‘½ä»¤çš„ç»„åˆ æ•°æ®å­˜å‚¨ï¼šå˜é‡ã€æ•°ç»„ è¡¨è¾¾å¼ï¼ša + b æ§åˆ¶è¯­å¥ï¼šif shellè„šæœ¬ï¼šåŒ…å«ä¸€äº›å‘½ä»¤æˆ–å£°æ˜ï¼Œå¹¶ç¬¦åˆä¸€å®šæ ¼å¼çš„æ–‡æœ¬æ–‡ä»¶ æ ¼å¼è¦æ±‚ï¼šé¦–è¡Œshebangæœºåˆ¶\n#!/bin/bash #!/usr/bin/python #!/usr/bin/perl #!/usr/bin/ruby #!/usr/bin/lua 2.3 shellè„šæœ¬åˆ›å»ºè¿‡ç¨‹ ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨æ–‡æœ¬ç¼–ç¼–è¾‘å™¨æ¥åˆ›å»ºæ–‡æœ¬æ–‡ä»¶\nç¬¬ä¸€è¡Œå¿…é¡»åŒ…æ‹¬shellå£°æ˜åºåˆ—ï¼š#! ç¤ºä¾‹ï¼š\n#!/bin/bash\t# ä½¿ç”¨bashï¼Œæ·»åŠ æ³¨é‡Š,æ³¨é‡Šä»¥#å¼€å¤´\tç¬¬äºŒæ­¥ï¼šåŠ æ‰§è¡Œæƒé™ ç»™äºˆæ‰§è¡Œæƒé™ï¼Œåœ¨å‘½ä»¤è¡Œä¸ŠæŒ‡å®šè„šæœ¬çš„ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„ ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œè„šæœ¬ ç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå°†è„šæœ¬ä½œä¸ºè§£é‡Šå™¨ç¨‹åºçš„å‚æ•°è¿è¡Œ\næ‰©å±•ï¼šæŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ˜¯ä½•ç§shellï¼Œç»ˆç«¯è¾“å…¥ï¼šecho $SHELL\nroot@ubuntu200404:~# echo $SHELL /bin/bash root@ubuntu200404:~# 2.4 shellè„šæœ¬æ³¨é‡Šè§„èŒƒ ç¬¬ä¸€è¡Œä¸€èˆ¬ä¸ºè°ƒç”¨ä½¿ç”¨çš„è¯­è¨€ ç¨‹åºåï¼Œé¿å…æ›´æ”¹æ–‡ä»¶åä¸ºæ— æ³•æ‰¾åˆ°æ­£ç¡®çš„æ–‡ä»¶ ç‰ˆæœ¬å· æ›´æ”¹åçš„æ—¶é—´ ä½œè€…ç›¸å…³ä¿¡æ¯ è¯¥ç¨‹åºçš„ä½œç”¨ï¼ŒåŠæ³¨æ„äº‹é¡¹ æœ€åæ˜¯å„ç‰ˆæœ¬çš„æ›´æ–°ç®€è¦è¯´æ˜ 2.5 ç¬¬ä¸€ä¸ªshellè„šæœ¬ èŒƒä¾‹ï¼šç¬¬ä¸€ä¸ªshellè„šæœ¬hello world\nå‚è€ƒæ–‡æ¡£ï¼š\nhttps://zh.wikipedia.org/wiki/Hello_World https://zh.wikipedia.org/wiki/Hello_World%E7%A8%8B%E5%BA%8F%E6%A0%B7%E4%BE%8B (ç¨‹åºæ ·ä¾‹)[https://zh.wikipedia.org/wiki/Hello_World]\nç¬¬ä¸€æ­¥ï¼švimåˆ›å»ºhello.shæ–‡æœ¬\nroot@ubuntu200404:~# vim hello.sh ç¬¬äºŒæ­¥ï¼šå£°æ˜åºåˆ—å’Œæ·»åŠ è„šæœ¬åç§°ã€æ—¥æœŸç­‰\n#!/bin/bash #****************** #filename:hello.sh #Data:2022-08-06 #author:admin #****************** ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ä»£ç \n#ç»å…¸å†™æ³• echo \"hello, world\" #æµè¡Œå†™æ³• echo 'Hello, world!' ç¬¬å››æ­¥ï¼šæ‰§è¡Œshellè„šæœ¬\næ–¹æ³•ä¸€ï¼š\nroot@ubuntu200404:~# bash hello.sh hello world! ****************** hello world! root@ubuntu200404:~# æ–¹æ³•äºŒï¼š\nroot@ubuntu200404:/data/scripts# cat /data/scripts/hello.sh | bash hello world! ****************** hello world! root@ubuntu200404:/data/scripts# æ–¹æ³•ä¸‰ï¼š\nroot@ubuntu200404:/data/scripts# bash \u003c /data/scripts/hello.sh hello world! ****************** hello world! root@ubuntu200404:/data/scripts# æ–¹æ³•å››ï¼šæ·»åŠ æ‰§è¡Œæƒé™ä½¿ç”¨ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„\n# ç»å¯¹è·¯å¾„ root@ubuntu200404:/data/scripts# /data/scripts/hello.sh hello world! ****************** hello world! root@ubuntu200404:/data/scripts# # ç›¸å¯¹è·¯å¾„ root@ubuntu200404:/data/scripts# pwd /data/scripts root@ubuntu200404:/data/scripts# ./hello.sh hello world! ****************** hello world! root@ubuntu200404:/data/scripts# æ–¹æ³•äº”ï¼šå°†è„šæœ¬æ·»åŠ åˆ°pathå˜é‡ä¸­\n# å½“å‰pathä½ç½® root@ubuntu200404:/data/scripts# echo $PATH /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin root@ubuntu200404:/data/scripts# # ç»™hello.shæ–‡ä»¶åˆ›å»ºè½¯é“¾æ¥æ”¾åˆ°/usr/local/binç›®å½•ä¸‹ root@ubuntu200404:/data/scripts# ln -s /data/scripts/hello.sh /usr/local/bin/ root@ubuntu200404:/data/scripts# ls /usr/local/bin/\thello.sh root@ubuntu200404:/data/scripts# # æ‰§è¡Œshellè„šæœ¬ root@ubuntu200404:/data/scripts# hello.sh hello world! ****************** hello world! root@ubuntu200404:/data/scripts# æ–¹æ³•å…­ï¼šæœ¬æ–¹æ³•å¯ä»¥å®ç°æ‰§è¡Œè¿œç¨‹ä¸»æœºçš„shellè„šæœ¬\n# æ‰©å±•ï¼šcurlåŠ -sé€‰é¡¹ä¸æ˜¾ç¤ºä¸‹è½½ä¿¡æ¯ root@ubuntu200404:/data# curl -s http://wangxiaochun.com/testdir/hello.sh |bash hello, world Hello, world! root@ubuntu200404:/data# æ¡ˆä¾‹ï¼šå¤‡ä»½è„šæœ¬\n# è„šæœ¬å†…å®¹ root@ubuntu200404:/data/scripts# cat -n bacup.sh 1\t#!/bin/bash 2\t#------------------ 3\t#filename:bacup.sh 4\t#å¤‡ä»½è„šæœ¬ 5\t#------------------ 6\t7\t8\ttar zcf /data/scripts-`date +%F_%s`.tar.gz /data/ \u0026\u003e /dev/null 9\t10\techo -e \"\\E[1;32mbacup is success!\\E[0m\" # æ‰§è¡Œè„šæœ¬ root@ubuntu200404:/data/scripts# bash bacup.sh bacup is success! root@ubuntu200404:/data/scripts# 2.6 shellè„šæœ¬è°ƒè¯• åªæ£€æµ‹è„šæœ¬ä¸­çš„è¯­æ³•é”™è¯¯ï¼Œä½†æ— æ³•æ£€æŸ¥å‡ºå‘½ä»¤é”™è¯¯ï¼Œä½†ä¸çœŸæ­£æ‰§è¡Œè„šæœ¬\nbash -n /path/to/some_script è°ƒè¯•å¹¶æ‰§è¡Œ\nbash -x /path/to/some_script æ¡ˆä¾‹1ï¼š\nroot@ubuntu200404:/data/scripts# bash -x hello.sh + echo 'hello world!' hello world! + echo '******************' ****************** + echo 'hello world!' hello world! root@ubuntu200404:/data/scripts# æ¡ˆä¾‹2:å¤šè¡Œé‡å®šå‘\nè„šæœ¬å†…å®¹ï¼š\n#!/bin/bash # å¤šè¡Œé‡å®šå‘ #data:2022-08-06 #author:admin #-------------------------------------------- echo start cat \u003e/data/demo.conf \u003c",
  "wordCount" : "14832",
  "inLanguage": "en",
  "image":"http://oss.itshare.work/itshare-work-images/2.jpg","datePublished": "2022-08-03T22:23:02Z",
  "dateModified": "2022-08-03T22:23:02Z",
  "author":[{
    "@type": "Person",
    "name": "Cookie"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://hugo.itshare.work/archivist/shell%E7%BC%96%E7%A8%8B/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Cookie",
    "logo": {
      "@type": "ImageObject",
      "url": "http://hugo.itshare.work/img/Q.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    (function () {
        let  arr,reg = new RegExp("(^| )"+"change-themes"+"=([^;]*)(;|$)");
        if(arr = document.cookie.match(reg)) {
        } else {
            if (new Date().getHours() >= 19 || new Date().getHours() < 6) {
                document.body.classList.add('dark');
                localStorage.setItem("pref-theme", 'dark');
            } else {
                document.body.classList.remove('dark');
                localStorage.setItem("pref-theme", 'light');
            }
        }
    })()

    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://hugo.itshare.work/" accesskey="h" title="Cookie (Alt + H)">
            <img src="http://hugo.itshare.work/img/Q.gif" alt="logo" aria-label="logo"
                 height="35">Cookie</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://hugo.itshare.work/search" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                <span>ğŸ” æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/" title="ğŸ  ä¸»é¡µ">
                <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/posts" title="ğŸ“š æ–‡ç« ">
                <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/archivist" title="ğŸ“’ å½’æ¡£">
                <span>ğŸ“’ å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/tags" title="ğŸ§© æ ‡ç­¾">
                <span>ğŸ§© æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/archives/" title="â±ï¸ æ—¶é—´è½´">
                <span>â±ï¸ æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="http://hugo.itshare.work/about" title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº">
                <span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }
</style>

<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="http://hugo.itshare.work/">ğŸ  ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="http://hugo.itshare.work/archivist/">ğŸ“’å½’æ¡£</a></div>
            <h1 class="post-title">
                shellç¼–ç¨‹
            </h1>
            <div class="post-description">
                shell æ˜¯æ“ä½œç³»ç»Ÿçš„æœ€å¤–å±‚ã€‚shell åˆå¹¶ç¼–ç¨‹è¯­è¨€ä»¥æ§åˆ¶è¿›ç¨‹å’Œæ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨å’Œæ§åˆ¶å…¶å®ƒç¨‹åºã€‚shell é€šè¿‡æç¤ºæ‚¨è¾“å…¥ï¼Œå‘æ“ä½œç³»ç»Ÿè§£é‡Šè¯¥è¾“å…¥ï¼Œç„¶åå¤„ç†æ¥è‡ªæ“ä½œç³»ç»Ÿçš„ä»»ä½•ç»“æœè¾“å‡ºæ¥ç®¡ç†æ‚¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚
            </div>
            <div class="post-meta">

<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2022-08-03
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>14832å­—
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>30åˆ†é’Ÿ
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>Cookie
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
        </span>
    </span>
</span>
<span style="opacity: 0.8;">
                    <span id="post_meta_style_7">
                        &nbsp;&nbsp;
                        <span class="fa fa-eye" ></span>
                        <span>
                            <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
                            &nbsp;&nbsp;
                        </span>
                    </span>
                    <span id="post_meta_style_8">
                        <span class="fa fa-commenting-o"></span>
                        <span>
                            <script src="https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js"></script>
                            <script>
                                let url = document.documentURI
                                
                                let dnsUrl = "http://hugo.itshare.work/"
                                let urlSplit = url.split(dnsUrl)
                                let finalUrl = urlSplit[1]
                                if (finalUrl[0] !== '/') {
                                    finalUrl = '/'+finalUrl
                                }
                                twikoo.getCommentsCount({
                                    envId:  null , 
                                region:  null , 
                                urls: [ 
                                    
                                    finalUrl,
                                ],
                                    includeReply: false 
                                }).then(function (res) {
                                    let count = res[0].count
                                    const obj = document.getElementById("comment_count");
                                    obj.innerText = count
                                    
                                    
                                    
                                }).catch(function (err) {
                                    
                                    console.error(err);
                                });
                            </script>
                            <span id="comment_count"></span>
                        </span>
                    </span>
                </span>

</div>
        </header> 
<figure class="entry-cover1"><img style="zoom:;" loading="lazy" src="http://oss.itshare.work/itshare-work-images/2.jpg" alt="">
    
</figure><aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">æ–‡ç« ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%86%85%e5%ae%b9%e7%ae%80%e8%bf%b0" aria-label="å†…å®¹ç®€è¿°">å†…å®¹ç®€è¿°</a></li>
                <li>
                    <a href="#1%e7%bc%96%e7%a8%8b%e5%9f%ba%e7%a1%80" aria-label="1.ç¼–ç¨‹åŸºç¡€">1.ç¼–ç¨‹åŸºç¡€</a><ul>
                        
                <li>
                    <a href="#11-%e7%a8%8b%e5%ba%8f%e7%bb%84%e6%88%90" aria-label="1.1 ç¨‹åºç»„æˆ">1.1 ç¨‹åºç»„æˆ</a></li>
                <li>
                    <a href="#12-%e7%a8%8b%e5%ba%8f%e7%bc%96%e7%a8%8b%e9%a3%8e%e6%a0%bc" aria-label="1.2 ç¨‹åºç¼–ç¨‹é£æ ¼">1.2 ç¨‹åºç¼–ç¨‹é£æ ¼</a></li>
                <li>
                    <a href="#13-%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80" aria-label="1.3 ç¼–ç¨‹è¯­è¨€">1.3 ç¼–ç¨‹è¯­è¨€</a></li>
                <li>
                    <a href="#14-%e7%bc%96%e7%a8%8b%e9%80%bb%e8%be%91%e5%a4%84%e7%90%86%e6%96%b9%e5%bc%8f" aria-label="1.4 ç¼–ç¨‹é€»è¾‘å¤„ç†æ–¹å¼">1.4 ç¼–ç¨‹é€»è¾‘å¤„ç†æ–¹å¼</a></li></ul>
                </li>
                <li>
                    <a href="#2shell-%e8%84%9a%e6%9c%ac%e8%af%ad%e8%a8%80%e7%9a%84%e5%9f%ba%e6%9c%ac%e7%94%a8%e6%b3%95" aria-label="2.shell è„šæœ¬è¯­è¨€çš„åŸºæœ¬ç”¨æ³•">2.shell è„šæœ¬è¯­è¨€çš„åŸºæœ¬ç”¨æ³•</a><ul>
                        
                <li>
                    <a href="#21-shell-%e8%84%9a%e6%9c%ac%e7%9a%84%e7%94%a8%e9%80%94" aria-label="2.1 shell è„šæœ¬çš„ç”¨é€”">2.1 shell è„šæœ¬çš„ç”¨é€”</a></li>
                <li>
                    <a href="#22-shell%e8%84%9a%e6%9c%ac%e5%9f%ba%e6%9c%ac%e7%bb%93%e6%9e%84" aria-label="2.2 shellè„šæœ¬åŸºæœ¬ç»“æ„">2.2 shellè„šæœ¬åŸºæœ¬ç»“æ„</a></li>
                <li>
                    <a href="#23-shell%e8%84%9a%e6%9c%ac%e5%88%9b%e5%bb%ba%e8%bf%87%e7%a8%8b" aria-label="2.3 shellè„šæœ¬åˆ›å»ºè¿‡ç¨‹">2.3 shellè„šæœ¬åˆ›å»ºè¿‡ç¨‹</a></li>
                <li>
                    <a href="#24-shell%e8%84%9a%e6%9c%ac%e6%b3%a8%e9%87%8a%e8%a7%84%e8%8c%83" aria-label="2.4 shellè„šæœ¬æ³¨é‡Šè§„èŒƒ">2.4 shellè„šæœ¬æ³¨é‡Šè§„èŒƒ</a></li>
                <li>
                    <a href="#25-%e7%ac%ac%e4%b8%80%e4%b8%aashell%e8%84%9a%e6%9c%ac" aria-label="2.5 ç¬¬ä¸€ä¸ªshellè„šæœ¬">2.5 ç¬¬ä¸€ä¸ªshellè„šæœ¬</a></li>
                <li>
                    <a href="#26-shell%e8%84%9a%e6%9c%ac%e8%b0%83%e8%af%95" aria-label="2.6 shellè„šæœ¬è°ƒè¯•">2.6 shellè„šæœ¬è°ƒè¯•</a></li>
                <li>
                    <a href="#27-%e5%8f%98%e9%87%8f" aria-label="2.7 å˜é‡">2.7 å˜é‡</a><ul>
                        
                <li>
                    <a href="#271-%e5%8f%98%e9%87%8f" aria-label="2.7.1 å˜é‡">2.7.1 å˜é‡</a></li>
                <li>
                    <a href="#272-%e5%8f%98%e9%87%8f%e7%b1%bb%e5%9e%8b" aria-label="2.7.2 å˜é‡ç±»å‹">2.7.2 å˜é‡ç±»å‹</a></li>
                <li>
                    <a href="#273-shell%e4%b8%ad%e5%8f%98%e9%87%8f%e5%91%bd%e4%bb%a4%e8%a7%84%e5%88%99" aria-label="2.7.3 shellä¸­å˜é‡å‘½ä»¤è§„åˆ™">2.7.3 shellä¸­å˜é‡å‘½ä»¤è§„åˆ™</a><ul>
                        
                <li>
                    <a href="#2731-%e5%91%bd%e5%90%8d%e8%a6%81%e6%b1%82" aria-label="2.7.3.1 å‘½åè¦æ±‚">2.7.3.1 å‘½åè¦æ±‚</a></li>
                <li>
                    <a href="#2732-%e5%91%bd%e4%bb%a4%e4%b9%a0%e6%83%af" aria-label="2.7.3.2 å‘½ä»¤ä¹ æƒ¯">2.7.3.2 å‘½ä»¤ä¹ æƒ¯</a></li></ul>
                </li>
                <li>
                    <a href="#274-%e5%8f%98%e9%87%8f%e5%ae%9a%e4%b9%89%e5%92%8c%e5%bc%95%e7%94%a8" aria-label="2.7.4 å˜é‡å®šä¹‰å’Œå¼•ç”¨">2.7.4 å˜é‡å®šä¹‰å’Œå¼•ç”¨</a></li>
                <li>
                    <a href="#275-%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f" aria-label="2.7.5 ç¯å¢ƒå˜é‡">2.7.5 ç¯å¢ƒå˜é‡</a></li>
                <li>
                    <a href="#276-%e5%8f%aa%e8%af%bb%e5%8f%98%e9%87%8f" aria-label="2.7.6 åªè¯»å˜é‡">2.7.6 åªè¯»å˜é‡</a></li>
                <li>
                    <a href="#277-%e4%bd%8d%e7%bd%ae%e5%8f%98%e9%87%8f" aria-label="2.7.7 ä½ç½®å˜é‡">2.7.7 ä½ç½®å˜é‡</a></li>
                <li>
                    <a href="#278--%e5%88%a9%e7%94%a8%e8%bd%af%e9%93%be%e6%8e%a5%e5%ae%9e%e7%8e%b0%e5%90%8c%e4%b8%80%e4%b8%aa%e8%84%9a%e6%9c%ac%e4%b8%8d%e5%90%8c%e5%8a%9f%e8%83%bd" aria-label="2.7.8  åˆ©ç”¨è½¯é“¾æ¥å®ç°åŒä¸€ä¸ªè„šæœ¬ä¸åŒåŠŸèƒ½">2.7.8  åˆ©ç”¨è½¯é“¾æ¥å®ç°åŒä¸€ä¸ªè„šæœ¬ä¸åŒåŠŸèƒ½</a></li>
                <li>
                    <a href="#279-%e9%80%80%e5%87%ba%e7%8a%b6%e6%80%81%e7%a0%81%e5%8f%98%e9%87%8f" aria-label="2.7.9 é€€å‡ºçŠ¶æ€ç å˜é‡">2.7.9 é€€å‡ºçŠ¶æ€ç å˜é‡</a></li>
                <li>
                    <a href="#2710-%e8%84%9a%e6%9c%ac%e5%ae%89%e5%85%a8%e5%92%8c-set" aria-label="2.7.10 è„šæœ¬å®‰å…¨å’Œ set">2.7.10 è„šæœ¬å®‰å…¨å’Œ set</a></li></ul>
                </li>
                <li>
                    <a href="#28-%e7%ae%97%e6%9c%af%e8%bf%90%e7%ae%97" aria-label="2.8 ç®—æœ¯è¿ç®—">2.8 ç®—æœ¯è¿ç®—</a></li>
                <li>
                    <a href="#29-%e9%80%bb%e8%be%91%e8%bf%90%e7%ae%97" aria-label="2.9 é€»è¾‘è¿ç®—">2.9 é€»è¾‘è¿ç®—</a></li>
                <li>
                    <a href="#210-%e6%9d%a1%e4%bb%b6%e6%b5%8b%e8%af%95%e5%91%bd%e4%bb%a4" aria-label="2.10 æ¡ä»¶æµ‹è¯•å‘½ä»¤">2.10 æ¡ä»¶æµ‹è¯•å‘½ä»¤</a><ul>
                        
                <li>
                    <a href="#2101-%e5%8f%98%e9%87%8f%e6%b5%8b%e8%af%95" aria-label="2.10.1 å˜é‡æµ‹è¯•">2.10.1 å˜é‡æµ‹è¯•</a></li>
                <li>
                    <a href="#2102-%e6%95%b0%e5%80%bc%e6%b5%8b%e8%af%95" aria-label="2.10.2 æ•°å€¼æµ‹è¯•">2.10.2 æ•°å€¼æµ‹è¯•</a></li>
                <li>
                    <a href="#2103-%e7%ae%97%e6%9c%af%e8%a1%a8%e8%be%be%e5%bc%8f%e6%af%94%e8%be%83" aria-label="2.10.3 ç®—æœ¯è¡¨è¾¾å¼æ¯”è¾ƒ">2.10.3 ç®—æœ¯è¡¨è¾¾å¼æ¯”è¾ƒ</a></li>
                <li>
                    <a href="#2104-%e5%ad%97%e7%ac%a6%e7%aa%9c%e6%b5%8b%e8%af%95" aria-label="2.10.4 å­—ç¬¦çªœæµ‹è¯•">2.10.4 å­—ç¬¦çªœæµ‹è¯•</a></li>
                <li>
                    <a href="#2105-%e6%96%87%e4%bb%b6%e6%b5%8b%e8%af%95" aria-label="2.10.5 æ–‡ä»¶æµ‹è¯•">2.10.5 æ–‡ä»¶æµ‹è¯•</a></li></ul>
                </li>
                <li>
                    <a href="#211-%e5%85%b3%e4%ba%8e%e5%92%8c" aria-label="2.11 å…³äºï¼ˆï¼‰å’Œ">2.11 å…³äºï¼ˆï¼‰å’Œ</a></li>
                <li>
                    <a href="#212-%e7%bb%84%e5%90%88%e6%b5%8b%e8%af%95" aria-label="2.12 ç»„åˆæµ‹è¯•">2.12 ç»„åˆæµ‹è¯•</a><ul>
                        
                <li>
                    <a href="#2121-%e7%ac%ac%e4%b8%80%e7%a7%8d%e6%96%b9%e5%bc%8f" aria-label="2.12.1 ç¬¬ä¸€ç§æ–¹å¼">2.12.1 ç¬¬ä¸€ç§æ–¹å¼</a></li>
                <li>
                    <a href="#2122-%e7%ac%ac%e4%ba%8c%e7%a7%8d%e6%96%b9%e5%bc%8f" aria-label="2.12.2 ç¬¬äºŒç§æ–¹å¼">2.12.2 ç¬¬äºŒç§æ–¹å¼</a></li></ul>
                </li>
                <li>
                    <a href="#213-%e4%bd%bf%e7%94%a8read%e5%91%bd%e4%bb%a4%e6%9d%a5%e6%8e%a5%e5%8f%97%e8%be%93%e5%85%a5" aria-label="2.13 ä½¿ç”¨readå‘½ä»¤æ¥æ¥å—è¾“å…¥">2.13 ä½¿ç”¨readå‘½ä»¤æ¥æ¥å—è¾“å…¥</a></li></ul>
                </li>
                <li>
                    <a href="#3--%e6%9d%a1%e4%bb%b6%e9%80%89%e6%8b%a9if" aria-label="3  æ¡ä»¶é€‰æ‹©if">3  æ¡ä»¶é€‰æ‹©if</a></li>
                <li>
                    <a href="#4-%e5%be%aa%e7%8e%af" aria-label="4 å¾ªç¯">4 å¾ªç¯</a><ul>
                        
                <li>
                    <a href="#41-for%e5%be%aa%e7%8e%af" aria-label="4.1 forå¾ªç¯">4.1 forå¾ªç¯</a></li>
                <li>
                    <a href="#42-while%e5%be%aa%e7%8e%af" aria-label="4.2 whileå¾ªç¯">4.2 whileå¾ªç¯</a></li></ul>
                </li>
                <li>
                    <a href="#5-%e5%85%b6%e4%bb%96%e8%84%9a%e6%9c%ac%e7%9b%b8%e5%85%b3%e5%b7%a5%e5%85%b7" aria-label="5 å…¶ä»–è„šæœ¬ç›¸å…³å·¥å…·">5 å…¶ä»–è„šæœ¬ç›¸å…³å·¥å…·</a><ul>
                        
                <li>
                    <a href="#51-trap%e5%91%bd%e4%bb%a4" aria-label="5.1 trapå‘½ä»¤">5.1 trapå‘½ä»¤</a></li>
                <li>
                    <a href="#5-2-except%e5%ae%9e%e7%8e%b0%e8%87%aa%e5%8a%a8%e5%8c%96%e7%9a%84%e9%9d%9e%e4%ba%a4%e4%ba%92%e6%93%8d%e4%bd%9c" aria-label="5. 2 exceptå®ç°è‡ªåŠ¨åŒ–çš„éäº¤äº’æ“ä½œ">5. 2 exceptå®ç°è‡ªåŠ¨åŒ–çš„éäº¤äº’æ“ä½œ</a></li></ul>
                </li>
                <li>
                    <a href="#6-%e6%95%b0%e7%bb%84" aria-label="6 æ•°ç»„">6 æ•°ç»„</a><ul>
                        
                <li>
                    <a href="#61-%e6%95%b0%e7%bb%84%e4%bb%8b%e7%bb%8d" aria-label="6.1 æ•°ç»„ä»‹ç»">6.1 æ•°ç»„ä»‹ç»</a></li>
                <li>
                    <a href="#62-%e5%a3%b0%e6%98%8e%e6%95%b0%e7%bb%84" aria-label="6.2 å£°æ˜æ•°ç»„">6.2 å£°æ˜æ•°ç»„</a></li>
                <li>
                    <a href="#63-%e6%95%b0%e7%bb%84%e8%b5%8b%e5%80%bc" aria-label="6.3 æ•°ç»„èµ‹å€¼">6.3 æ•°ç»„èµ‹å€¼</a></li>
                <li>
                    <a href="#64-%e6%98%be%e7%a4%ba%e6%89%80%e6%9c%89%e6%95%b0%e7%bb%84" aria-label="6.4 æ˜¾ç¤ºæ‰€æœ‰æ•°ç»„">6.4 æ˜¾ç¤ºæ‰€æœ‰æ•°ç»„</a></li>
                <li>
                    <a href="#65-%e5%bc%95%e7%94%a8%e6%95%b0%e7%bb%84" aria-label="6.5 å¼•ç”¨æ•°ç»„">6.5 å¼•ç”¨æ•°ç»„</a></li>
                <li>
                    <a href="#66-%e5%88%a0%e9%99%a4%e6%95%b0%e7%bb%84" aria-label="6.6 åˆ é™¤æ•°ç»„">6.6 åˆ é™¤æ•°ç»„</a></li>
                <li>
                    <a href="#67-%e6%95%b0%e7%bb%84%e6%95%b0%e6%8d%ae%e5%a4%84%e7%90%86" aria-label="6.7 æ•°ç»„æ•°æ®å¤„ç†">6.7 æ•°ç»„æ•°æ®å¤„ç†</a></li></ul>
                </li>
                <li>
                    <a href="#7-%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%a4%84%e7%90%86" aria-label="7 å­—ç¬¦ä¸²å¤„ç†">7 å­—ç¬¦ä¸²å¤„ç†</a><ul>
                        
                <li>
                    <a href="#71-%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%88%87%e7%89%87" aria-label="7.1 å­—ç¬¦ä¸²åˆ‡ç‰‡">7.1 å­—ç¬¦ä¸²åˆ‡ç‰‡</a></li>
                <li>
                    <a href="#72-%e5%9f%ba%e4%ba%8e%e6%a8%a1%e5%bc%8f%e5%8f%96%e5%ad%90%e4%b8%b2" aria-label="7.2 åŸºäºæ¨¡å¼å–å­ä¸²">7.2 åŸºäºæ¨¡å¼å–å­ä¸²</a></li>
                <li>
                    <a href="#73-%e6%9f%a5%e6%89%be%e5%92%8c%e6%9b%bf%e6%8d%a2" aria-label="7.3 æŸ¥æ‰¾å’Œæ›¿æ¢">7.3 æŸ¥æ‰¾å’Œæ›¿æ¢</a></li>
                <li>
                    <a href="#74-%e6%9f%a5%e6%89%be%e5%92%8c%e5%88%a0%e9%99%a4" aria-label="7.4 æŸ¥æ‰¾å’Œåˆ é™¤">7.4 æŸ¥æ‰¾å’Œåˆ é™¤</a></li>
                <li>
                    <a href="#75-%e5%ad%97%e7%ac%a6%e5%a4%a7%e5%b0%8f%e5%86%99%e8%bd%ac%e6%8d%a2" aria-label="7.5 å­—ç¬¦å¤§å°å†™è½¬æ¢">7.5 å­—ç¬¦å¤§å°å†™è½¬æ¢</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            const id = encodeURI(element.getAttribute('id')).toLowerCase();
            if (element === activeElement){
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        <div class="post-content"><h1 id="å†…å®¹ç®€è¿°">å†…å®¹ç®€è¿°<a hidden class="anchor" aria-hidden="true" href="#å†…å®¹ç®€è¿°">#</a></h1>
<p>shell æ˜¯æ“ä½œç³»ç»Ÿçš„æœ€å¤–å±‚ã€‚shell åˆå¹¶ç¼–ç¨‹è¯­è¨€ä»¥æ§åˆ¶è¿›ç¨‹å’Œæ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨å’Œæ§åˆ¶å…¶å®ƒç¨‹åºã€‚shell é€šè¿‡æç¤ºæ‚¨è¾“å…¥ï¼Œå‘æ“ä½œç³»ç»Ÿè§£é‡Šè¯¥è¾“å…¥ï¼Œç„¶åå¤„ç†æ¥è‡ªæ“ä½œç³»ç»Ÿçš„ä»»ä½•ç»“æœè¾“å‡ºæ¥ç®¡ç†æ‚¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚</p>
<h1 id="1ç¼–ç¨‹åŸºç¡€">1.ç¼–ç¨‹åŸºç¡€<a hidden class="anchor" aria-hidden="true" href="#1ç¼–ç¨‹åŸºç¡€">#</a></h1>
<p>Linusï¼šTalk is cheap, show me the code</p>
<h2 id="11-ç¨‹åºç»„æˆ">1.1 ç¨‹åºç»„æˆ<a hidden class="anchor" aria-hidden="true" href="#11-ç¨‹åºç»„æˆ">#</a></h2>
<ul>
<li>ç¨‹åºï¼šç®—æ³•+æ•°æ®ç»“æ„</li>
<li>ç®—æ³•ï¼šå¤„ç†æ•°æ®çš„æ–¹å¼</li>
<li>æ•°æ®ç»“æ„ï¼šæ•°æ®åœ¨è®¡ç®—æœºä¸­çš„ç±»å‹å’Œç»„ç»‡æ–¹å¼</li>
<li>æ•°æ®ï¼šæ˜¯ç¨‹åºçš„æ ¸å¿ƒï¼Œç¨‹åºä¸ºæ•°æ®æä¾›æœåŠ¡</li>
</ul>
<h2 id="12-ç¨‹åºç¼–ç¨‹é£æ ¼">1.2 ç¨‹åºç¼–ç¨‹é£æ ¼<a hidden class="anchor" aria-hidden="true" href="#12-ç¨‹åºç¼–ç¨‹é£æ ¼">#</a></h2>
<ul>
<li>é¢å‘è¿‡ç¨‹è¯­è¨€
<ul>
<li>åšä¸€ä»¶äº‹æƒ…ï¼Œæ’å‡ºä¸ªæ­¥éª¤ï¼Œç¬¬ä¸€æ­¥å¹²ä»€ä¹ˆï¼Œç¬¬äºŒæ­¥å¹²ä»€ä¹ˆï¼Œå¦‚æœå‡ºç°æƒ…å†µAï¼Œåšä»€ä¹ˆå¤„ç†ï¼Œå¦‚æœå‡ºç°äº†æƒ…å†µBï¼Œåšä»€ä¹ˆå¤„ç†</li>
<li>é—®é¢˜è§„æ¨¡å°ï¼Œå¯ä»¥æ­¥éª¤åŒ–ï¼ŒæŒ‰éƒ¨å°±ç­å¤„ç†</li>
<li>ä»¥æŒ‡ä»¤ä¸ºä¸­å¿ƒï¼Œæ•°æ®æœåŠ¡äºæŒ‡ä»¤</li>
<li>Cï¼Œshell</li>
</ul>
</li>
<li>é¢å‘å¯¹è±¡è¯­è¨€
<ul>
<li>å°†ç¼–ç¨‹çœ‹æˆæ˜¯ä¸€ä¸ªäº‹ç‰©ï¼Œå¯¹å¤–ç•Œæ¥è¯´ï¼Œäº‹ç‰©æ˜¯ç›´æ¥ä½¿ç”¨çš„,ä¸ç”¨å…³å¿ƒäº‹ç‰©å†…éƒ¨çš„æƒ…å†µã€‚è€Œç¼–ç¨‹å°±æ˜¯è®¾ç½®äº‹ç‰©èƒ½å¤Ÿå®ŒæˆåŠŸèƒ½ã€‚</li>
<li>ä¸€ç§è®¤è¯†ä¸–ç•Œã€åˆ†æä¸–ç•Œçš„æ–¹æ³•è®ºã€‚å°†ä¸‡äº‹ä¸‡ç‰©æŠ½è±¡ä¸ºå„ç§å¯¹è±¡</li>
<li>ç±»æ˜¯æŠ½è±¡çš„æ¦‚å¿µï¼Œæ˜¯ä¸‡äº‹ä¸‡ç‰©çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç±»äº‹ç‰©çš„å…±åŒç‰¹å¾çš„é›†åˆ</li>
<li>å¯¹è±¡æ˜¯ç±»çš„å…·ä½“å®ç°ï¼Œæ˜¯ä¸€ä¸ªå®ä½“</li>
<li>é—®é¢˜è§„æ¨¡å¤§ï¼Œå¤æ‚ç³»ç»Ÿ</li>
<li>ä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼ŒæŒ‡ä»¤æœåŠ¡äºæ•°æ®</li>
<li>javaï¼ŒC#ï¼Œpythonï¼Œgolangç­‰</li>
</ul>
</li>
</ul>
<h2 id="13-ç¼–ç¨‹è¯­è¨€">1.3 ç¼–ç¨‹è¯­è¨€<a hidden class="anchor" aria-hidden="true" href="#13-ç¼–ç¨‹è¯­è¨€">#</a></h2>
<p><strong>ç¼–ç¨‹è¯­è¨€æ’è¡Œæ¦œé“¾æ¥</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>https://www.tiobe.com/tiobe-index/
</span></span></code></pre></div><p>è®¡ç®—æœºï¼šè¿è¡ŒäºŒè¿›åˆ¶æŒ‡ä»¤<br>
ç¼–ç¨‹è¯­è¨€ï¼šäººä¸è®¡ç®—æœºä¹‹é—´äº¤äº’çš„è¯­è¨€ã€‚åˆ†ä¸ºä¸¤ç§ï¼šä½çº§è¯­è¨€å’Œé«˜çº§è¯­è¨€</p>
<ul>
<li>ä½çº§ç¼–ç¨‹è¯­è¨€ï¼š
<ul>
<li>æœºå™¨ï¼šäºŒè¿›åˆ¶çš„0å’Œ1çš„åºåˆ—ï¼Œç§°ä¸ºæœºå™¨æŒ‡ä»¤ã€‚ä¸è‡ªç„¶è¯­è¨€å·®å¼‚å¤ªå¤§ï¼Œéš¾æ‡‚ã€éš¾å†™</li>
<li>æ±‡ç¼–ï¼šç”¨ä¸€äº›åŠ©è®°ç¬¦å·æ›¿ä»£æœºå™¨æŒ‡ä»¤ï¼Œç§°ä¸ºæ±‡ç¼–è¯­è¨€<br>
å¦‚ï¼šADD A,B å°†å¯„å­˜å™¨Açš„æ•°ä¸å¯„å­˜å™¨Bçš„æ•°ç›¸åŠ å¾—åˆ°çš„æ•°æ”¾åˆ°å¯„å­˜å™¨Aä¸­<br>
æ±‡ç¼–è¯­è¨€å†™å¥½çš„ç¨‹åºéœ€è¦æ±‡ç¼–ç¨‹åºè½¬æ¢æˆæœºå™¨æŒ‡ä»¤<br>
æ±‡ç¼–è¯­è¨€ç¨å¾®å¥½ç†è§£ï¼Œå³æœºå™¨æŒ‡ä»¤å¯¹åº”çš„åŠ©è®°ç¬¦ï¼ŒåŠ©è®°ç¬¦æ›´æ¥è¿‘è‡ªç„¶è¯­è¨€</li>
</ul>
</li>
<li>é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼š
<ul>
<li>ç¼–è¯‘ï¼šé«˜çº§è¯­è¨€&ndash;&gt;ç¼–è¯‘å™¨&ndash;&gt;æœºå™¨ä»£ç æ–‡ä»¶&ndash;&gt;æ‰§è¡Œï¼Œå¦‚ï¼šCï¼ŒC++</li>
<li>è§£é‡Šï¼šé«˜çº§è¯­è¨€&ndash;&gt;æ‰§è¡Œ&ndash;&gt;è§£é‡Šå™¨&ndash;&gt;æœºå™¨ä»£ç ï¼Œå¦‚ï¼šshellï¼Œpythonï¼Œphpï¼ŒJavaScriptï¼Œperl</li>
</ul>
</li>
<li>ç¼–è¯‘å’Œè§£é‡Šå‹è¯­è¨€<br>
<img loading="lazy" src="/posts.images/image.assets/1659747737724.png" alt="1659747737724"  />
</li>
</ul>
<h2 id="14-ç¼–ç¨‹é€»è¾‘å¤„ç†æ–¹å¼">1.4 ç¼–ç¨‹é€»è¾‘å¤„ç†æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#14-ç¼–ç¨‹é€»è¾‘å¤„ç†æ–¹å¼">#</a></h2>
<p><img loading="lazy" src="/posts.images/image.assets/1659747842228.png" alt="1659747842228"  />
</p>
<p><img loading="lazy" src="/posts.images/image.assets/1659747863045.png" alt="1659747863045"  />
</p>
<p><strong>ä¸‰ç§å¤„ç†é€»è¾‘</strong></p>
<ul>
<li>é¡ºåºæ‰§è¡Œï¼šç¨‹åºæŒ‰ä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œ</li>
<li>é€‰æ‹©æ‰§è¡Œï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ ¹æ®æ¡ä»¶çš„ä¸åŒï¼Œè¿›è¡Œé€‰æ‹©ä¸åŒåˆ†æ”¯ç»§ç»­æ‰§è¡Œ</li>
<li>å¾ªç¯æ‰§è¡Œï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦é‡å¤æ‰§è¡Œå¤šæ¬¡æŸæ®µè¯­å¥</li>
</ul>
<h1 id="2shell-è„šæœ¬è¯­è¨€çš„åŸºæœ¬ç”¨æ³•">2.shell è„šæœ¬è¯­è¨€çš„åŸºæœ¬ç”¨æ³•<a hidden class="anchor" aria-hidden="true" href="#2shell-è„šæœ¬è¯­è¨€çš„åŸºæœ¬ç”¨æ³•">#</a></h1>
<h2 id="21-shell-è„šæœ¬çš„ç”¨é€”">2.1 shell è„šæœ¬çš„ç”¨é€”<a hidden class="anchor" aria-hidden="true" href="#21-shell-è„šæœ¬çš„ç”¨é€”">#</a></h2>
<ul>
<li>å°†ç®€å•çš„å‘½ä»¤ç»„åˆå®Œæˆå¤æ‚çš„å·¥ä½œ,è‡ªåŠ¨åŒ–æ‰§è¡Œå‘½ä»¤,æé«˜å·¥ä½œæ•ˆç‡</li>
<li>å‡å°‘æ‰‹å·¥å‘½ä»¤çš„è¾“å…¥ï¼Œä¸€å®šç¨‹åº¦ä¸Šé¿å…äººä¸ºé”™è¯¯</li>
<li>å°†è½¯ä»¶æˆ–åº”ç”¨çš„å®‰è£…åŠé…ç½®å®ç°æ ‡å‡†åŒ–</li>
<li>ç”¨äºå®ç°æ—¥å¸¸æ€§çš„,é‡å¤æ€§çš„,éäº¤äº’å¼çš„è¿ç»´å·¥ä½œ,å¦‚:æ–‡ä»¶æ‰“åŒ…å‹ç¼©å¤‡ä»½,ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€å¹¶å®ç°å‘Šè­¦ç­‰</li>
</ul>
<h2 id="22-shellè„šæœ¬åŸºæœ¬ç»“æ„">2.2 shellè„šæœ¬åŸºæœ¬ç»“æ„<a hidden class="anchor" aria-hidden="true" href="#22-shellè„šæœ¬åŸºæœ¬ç»“æ„">#</a></h2>
<p><strong>shellè„šæœ¬ç¼–ç¨‹ï¼šæ˜¯åŸºäºè¿‡ç¨‹å¼ã€è§£é‡Šæ‰§è¡Œçš„è¯­è¨€</strong></p>
<hr>
<p><strong>ç¼–ç¨‹è¯­è¨€çš„åŸºæœ¬ç»“æ„ï¼š</strong></p>
<ul>
<li>å„ç§ç³»ç»Ÿå‘½ä»¤çš„ç»„åˆ</li>
<li>æ•°æ®å­˜å‚¨ï¼šå˜é‡ã€æ•°ç»„</li>
<li>è¡¨è¾¾å¼ï¼ša + b</li>
<li>æ§åˆ¶è¯­å¥ï¼šif</li>
</ul>
<p>shellè„šæœ¬ï¼šåŒ…å«ä¸€äº›å‘½ä»¤æˆ–å£°æ˜ï¼Œå¹¶ç¬¦åˆä¸€å®šæ ¼å¼çš„æ–‡æœ¬æ–‡ä»¶
æ ¼å¼è¦æ±‚ï¼šé¦–è¡Œshebangæœºåˆ¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#!/usr/bin/python</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/perl</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/ruby</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/lua</span>
</span></span></code></pre></div><h2 id="23-shellè„šæœ¬åˆ›å»ºè¿‡ç¨‹">2.3 shellè„šæœ¬åˆ›å»ºè¿‡ç¨‹<a hidden class="anchor" aria-hidden="true" href="#23-shellè„šæœ¬åˆ›å»ºè¿‡ç¨‹">#</a></h2>
<p><strong>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨æ–‡æœ¬ç¼–ç¼–è¾‘å™¨æ¥åˆ›å»ºæ–‡æœ¬æ–‡ä»¶</strong></p>
<p><strong>ç¬¬ä¸€è¡Œå¿…é¡»åŒ…æ‹¬shellå£°æ˜åºåˆ—ï¼š#!</strong>
ç¤ºä¾‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash	# ä½¿ç”¨bashï¼Œæ·»åŠ æ³¨é‡Š,æ³¨é‡Šä»¥#å¼€å¤´	
</span></span></span></code></pre></div><p>ç¬¬äºŒæ­¥ï¼šåŠ æ‰§è¡Œæƒé™
ç»™äºˆæ‰§è¡Œæƒé™ï¼Œåœ¨å‘½ä»¤è¡Œä¸ŠæŒ‡å®šè„šæœ¬çš„ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„
ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œè„šæœ¬
ç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå°†è„šæœ¬ä½œä¸ºè§£é‡Šå™¨ç¨‹åºçš„å‚æ•°è¿è¡Œ</p>
<p><strong>æ‰©å±•ï¼šæŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ˜¯ä½•ç§shellï¼Œç»ˆç«¯è¾“å…¥ï¼šecho $SHELL</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@ubuntu200404:~# echo $SHELL
</span></span><span style="display:flex;"><span>/bin/bash
</span></span><span style="display:flex;"><span>root@ubuntu200404:~#
</span></span></code></pre></div><h2 id="24-shellè„šæœ¬æ³¨é‡Šè§„èŒƒ">2.4 shellè„šæœ¬æ³¨é‡Šè§„èŒƒ<a hidden class="anchor" aria-hidden="true" href="#24-shellè„šæœ¬æ³¨é‡Šè§„èŒƒ">#</a></h2>
<ul>
<li>ç¬¬ä¸€è¡Œä¸€èˆ¬ä¸ºè°ƒç”¨ä½¿ç”¨çš„è¯­è¨€</li>
<li>ç¨‹åºåï¼Œé¿å…æ›´æ”¹æ–‡ä»¶åä¸ºæ— æ³•æ‰¾åˆ°æ­£ç¡®çš„æ–‡ä»¶</li>
<li>ç‰ˆæœ¬å·</li>
<li>æ›´æ”¹åçš„æ—¶é—´</li>
<li>ä½œè€…ç›¸å…³ä¿¡æ¯</li>
<li>è¯¥ç¨‹åºçš„ä½œç”¨ï¼ŒåŠæ³¨æ„äº‹é¡¹</li>
<li>æœ€åæ˜¯å„ç‰ˆæœ¬çš„æ›´æ–°ç®€è¦è¯´æ˜</li>
</ul>
<h2 id="25-ç¬¬ä¸€ä¸ªshellè„šæœ¬">2.5 ç¬¬ä¸€ä¸ªshellè„šæœ¬<a hidden class="anchor" aria-hidden="true" href="#25-ç¬¬ä¸€ä¸ªshellè„šæœ¬">#</a></h2>
<p><strong>èŒƒä¾‹ï¼šç¬¬ä¸€ä¸ªshellè„šæœ¬hello world</strong></p>
<p><strong>å‚è€ƒæ–‡æ¡£ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>https://zh.wikipedia.org/wiki/Hello_World
</span></span><span style="display:flex;"><span>https://zh.wikipedia.org/wiki/Hello_World%E7%A8%8B%E5%BA%8F%E6%A0%B7%E4%BE%8B
</span></span></code></pre></div><p>(ç¨‹åºæ ·ä¾‹)[https://zh.wikipedia.org/wiki/Hello_World]</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼švimåˆ›å»ºhello.shæ–‡æœ¬</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:~# vim hello.sh
</span></span></code></pre></div><p><strong>ç¬¬äºŒæ­¥ï¼šå£°æ˜åºåˆ—å’Œæ·»åŠ è„šæœ¬åç§°ã€æ—¥æœŸç­‰</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vim" data-lang="vim"><span style="display:flex;"><span>#!<span style="color:#e6db74">/bin/</span><span style="color:#a6e22e">bash</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#******************<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#<span style="color:#a6e22e">filename</span>:<span style="color:#a6e22e">hello</span>.<span style="color:#a6e22e">sh</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#<span style="color:#a6e22e">Data</span>:<span style="color:#ae81ff">2022-08-06</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#<span style="color:#a6e22e">author</span>:<span style="color:#a6e22e">admin</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#******************<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p><strong>ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ä»£ç </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#ç»å…¸å†™æ³•</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;hello, world&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æµè¡Œå†™æ³•</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#39;Hello, world!&#39;</span>
</span></span></code></pre></div><p><strong>ç¬¬å››æ­¥ï¼šæ‰§è¡Œshellè„šæœ¬</strong></p>
<p>æ–¹æ³•ä¸€ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@ubuntu200404:~# bash hello.sh 
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>******************
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>root@ubuntu200404:~# 
</span></span></code></pre></div><p>æ–¹æ³•äºŒï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# cat /data/scripts/hello.sh | bash
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>******************
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span></code></pre></div><p>æ–¹æ³•ä¸‰ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# bash &lt; /data/scripts/hello.sh 
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>******************
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p>æ–¹æ³•å››ï¼šæ·»åŠ æ‰§è¡Œæƒé™ä½¿ç”¨ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ç»å¯¹è·¯å¾„</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# /data/scripts/hello.sh 
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>******************
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç›¸å¯¹è·¯å¾„</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# pwd
</span></span><span style="display:flex;"><span>/data/scripts
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# ./hello.sh 
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>******************
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span></code></pre></div><p>æ–¹æ³•äº”ï¼šå°†è„šæœ¬æ·»åŠ åˆ°pathå˜é‡ä¸­</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># å½“å‰pathä½ç½®</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $PATH
</span></span><span style="display:flex;"><span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç»™hello.shæ–‡ä»¶åˆ›å»ºè½¯é“¾æ¥æ”¾åˆ°/usr/local/binç›®å½•ä¸‹</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# ln -s /data/scripts/hello.sh /usr/local/bin/ 
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# ls /usr/local/bin/						
</span></span><span style="display:flex;"><span>hello.sh
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰§è¡Œshellè„šæœ¬</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# hello.sh 
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>******************
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span></code></pre></div><p>æ–¹æ³•å…­ï¼šæœ¬æ–¹æ³•å¯ä»¥å®ç°æ‰§è¡Œè¿œç¨‹ä¸»æœºçš„shellè„šæœ¬</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># æ‰©å±•ï¼šcurlåŠ -sé€‰é¡¹ä¸æ˜¾ç¤ºä¸‹è½½ä¿¡æ¯</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data# curl -s http://wangxiaochun.com/testdir/hello.sh |bash
</span></span><span style="display:flex;"><span>hello, world
</span></span><span style="display:flex;"><span>Hello, world!
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data# 
</span></span></code></pre></div><p>æ¡ˆä¾‹ï¼šå¤‡ä»½è„šæœ¬</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># è„šæœ¬å†…å®¹</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# cat -n bacup.sh 
</span></span><span style="display:flex;"><span>     1	<span style="color:#75715e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span>     2	<span style="color:#75715e">#------------------</span>
</span></span><span style="display:flex;"><span>     3	<span style="color:#75715e">#filename:bacup.sh</span>
</span></span><span style="display:flex;"><span>     4	<span style="color:#75715e">#å¤‡ä»½è„šæœ¬</span>
</span></span><span style="display:flex;"><span>     5	<span style="color:#75715e">#------------------</span>
</span></span><span style="display:flex;"><span>     6	
</span></span><span style="display:flex;"><span>     7	
</span></span><span style="display:flex;"><span>     8	tar zcf /data/scripts-<span style="color:#e6db74">`</span>date +%F_%s<span style="color:#e6db74">`</span>.tar.gz /data/ &amp;&gt; /dev/null
</span></span><span style="display:flex;"><span>     9	
</span></span><span style="display:flex;"><span>    10	echo -e <span style="color:#e6db74">&#34;\E[1;32mbacup is success!\E[0m&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰§è¡Œè„šæœ¬</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# bash bacup.sh 
</span></span><span style="display:flex;"><span>bacup is success!
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span></code></pre></div><h2 id="26-shellè„šæœ¬è°ƒè¯•">2.6 shellè„šæœ¬è°ƒè¯•<a hidden class="anchor" aria-hidden="true" href="#26-shellè„šæœ¬è°ƒè¯•">#</a></h2>
<p><strong>åªæ£€æµ‹è„šæœ¬ä¸­çš„è¯­æ³•é”™è¯¯ï¼Œä½†æ— æ³•æ£€æŸ¥å‡ºå‘½ä»¤é”™è¯¯ï¼Œä½†ä¸çœŸæ­£æ‰§è¡Œè„šæœ¬</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bash -n /path/to/some_script
</span></span></code></pre></div><p><strong>è°ƒè¯•å¹¶æ‰§è¡Œ</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bash -x /path/to/some_script
</span></span></code></pre></div><p><strong>æ¡ˆä¾‹1ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# bash -x hello.sh 
</span></span><span style="display:flex;"><span>+ echo <span style="color:#e6db74">&#39;hello world!&#39;</span>
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>+ echo <span style="color:#e6db74">&#39;******************&#39;</span>
</span></span><span style="display:flex;"><span>******************
</span></span><span style="display:flex;"><span>+ echo <span style="color:#e6db74">&#39;hello world!&#39;</span>
</span></span><span style="display:flex;"><span>hello world!
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>æ¡ˆä¾‹2:å¤šè¡Œé‡å®šå‘</strong></p>
<p>è„šæœ¬å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e"># å¤šè¡Œé‡å®šå‘</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#data:2022-08-06</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#author:admin</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#--------------------------------------------</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo start
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cat &gt;/data/demo.conf <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">line 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">line 2
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">line 3
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo end
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p>æ£€æŸ¥é”™è¯¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# bash -n demo1.sh 
</span></span><span style="display:flex;"><span>demo1.sh: line 17: warning: here-document at line <span style="color:#ae81ff">11</span> delimited by end-of-file <span style="color:#f92672">(</span>wanted <span style="color:#e6db74">`</span>EOF<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p>æ£€æŸ¥å‡ºç¬¬åä¸ƒè¡Œæœ‰é”™è¯¯ï¼Œè‚‰çœ¼è§‚å¯Ÿæ²¡æœ‰é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºæœ‰äº›é”™è¯¯ä¸æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„ï¼Œå¯ä»¥é€šè¿‡cat -A filenameæˆ–è€…åœ¨viå‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥ï¼šset list</p>
<p><img loading="lazy" src="/posts.images/image.assets/1659754821095.png" alt="1659754821095"  />
</p>
<p>ä½¿ç”¨cat -A filenameå‘½ä»¤åå‘ç°EOFåé¢å¤šäº†ä¸ªç©ºæ ¼å¯¼è‡´é”™è¯¯ã€‚åˆ é™¤æ‰ç©ºæ ¼è„šæœ¬å³å¯æˆåŠŸè¿è¡Œã€‚</p>
<p>åœ¨viå‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥set list</p>
<p><img loading="lazy" src="/posts.images/image.assets/1659754927224.png" alt="1659754927224"  />
</p>
<p><strong>æ€»ç»“ï¼šè„šæœ¬é”™è¯¯å¸¸è§çš„æœ‰ä¸‰ç§</strong></p>
<ul>
<li>è¯­æ³•é”™è¯¯ï¼Œä¼šå¯¼è‡´åç»­çš„å‘½ä»¤ä¸ç»§ç»­æ‰§è¡Œï¼Œå¯ä»¥ç”¨bash -n æ£€æŸ¥é”™è¯¯ï¼Œæç¤ºçš„å‡ºé”™è¡Œæ•°ä¸ä¸€å®šæ˜¯å‡†
ç¡®çš„</li>
<li>å‘½ä»¤é”™è¯¯ï¼Œé»˜è®¤åç»­çš„å‘½ä»¤è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Œç”¨bash -n æ— æ³•æ£€æŸ¥å‡ºæ¥ ï¼Œå¯ä»¥ä½¿ç”¨ bash -x è¿›è¡Œè§‚å¯Ÿ</li>
<li>é€»è¾‘é”™è¯¯ï¼šåªèƒ½ä½¿ç”¨ bash -x è¿›è¡Œè§‚å¯Ÿ</li>
</ul>
<h2 id="27-å˜é‡">2.7 å˜é‡<a hidden class="anchor" aria-hidden="true" href="#27-å˜é‡">#</a></h2>
<h3 id="271-å˜é‡">2.7.1 å˜é‡<a hidden class="anchor" aria-hidden="true" href="#271-å˜é‡">#</a></h3>
<p><strong>å˜é‡è¡¨ç¤ºå‘½åçš„å†…å­˜ç©ºé—´ï¼Œå°†æ•°æ®æ”¾åœ¨å†…å­˜ç©ºé—´ä¸­ï¼Œé€šè¿‡å˜é‡åå¼•ç”¨ï¼Œè·å–æ•°æ®</strong></p>
<hr>
<h3 id="272-å˜é‡ç±»å‹">2.7.2 å˜é‡ç±»å‹<a hidden class="anchor" aria-hidden="true" href="#272-å˜é‡ç±»å‹">#</a></h3>
<p><strong>å˜é‡ç±»å‹ï¼š</strong></p>
<ul>
<li>å†…ç½®å˜é‡ï¼Œå¦‚ï¼šPS1ï¼ŒPATHï¼ŒUIDï¼ŒHOSTNAMEï¼Œ$$ï¼ŒBASHPIDï¼ŒPPIDï¼Œ$?ï¼ŒHISTSIZE</li>
<li>ç”¨æˆ·è‡ªå®šä¹‰å˜é‡</li>
</ul>
<p><strong>ä¸åŒçš„å˜é‡å­˜æ”¾çš„æ•°æ®ä¸åŒï¼Œå†³å®šäº†ä»¥ä¸‹</strong></p>
<ul>
<li>æ•°æ®å­˜å‚¨æ–¹å¼</li>
<li>å‚ä¸çš„è¿ç®—</li>
<li>è¡¨ç¤ºçš„æ•°æ®èŒƒå›´</li>
</ul>
<p><strong>å˜é‡æ•°æ®ç±»å‹ï¼š</strong></p>
<ul>
<li>å­—ç¬¦</li>
<li>æ•°å€¼ï¼šæ•´å‹ã€æµ®ç‚¹å‹,bash ä¸æ”¯æŒæµ®ç‚¹æ•°</li>
</ul>
<h3 id="273-shellä¸­å˜é‡å‘½ä»¤è§„åˆ™">2.7.3 shellä¸­å˜é‡å‘½ä»¤è§„åˆ™<a hidden class="anchor" aria-hidden="true" href="#273-shellä¸­å˜é‡å‘½ä»¤è§„åˆ™">#</a></h3>
<h4 id="2731-å‘½åè¦æ±‚">2.7.3.1 å‘½åè¦æ±‚<a hidden class="anchor" aria-hidden="true" href="#2731-å‘½åè¦æ±‚">#</a></h4>
<ul>
<li>
<p>åŒºåˆ†å¤§å°å†™</p>
</li>
<li>
<p>ä¸èƒ½ä½¿ç¨‹åºä¸­çš„ä¿ç•™å­—å’Œå†…ç½®å˜é‡ï¼šå¦‚ï¼šif, for
åªèƒ½ä½¿ç”¨æ•°å­—ã€å­—æ¯åŠä¸‹åˆ’çº¿ï¼Œä¸”ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œæ³¨æ„ï¼šä¸æ”¯æŒçŸ­æ¨ªçº¿ â€œ - â€ï¼Œå’Œä¸»æœºåç›¸å</p>
</li>
<li>
<p>åªèƒ½ä½¿ç”¨æ•°å­—ã€å­—æ¯åŠä¸‹åˆ’çº¿ï¼Œä¸”ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œæ³¨æ„ï¼šä¸æ”¯æŒçŸ­æ¨ªçº¿ â€œ - â€ï¼Œå’Œä¸»æœºåç›¸å</p>
</li>
</ul>
<h4 id="2732-å‘½ä»¤ä¹ æƒ¯">2.7.3.2 å‘½ä»¤ä¹ æƒ¯<a hidden class="anchor" aria-hidden="true" href="#2732-å‘½ä»¤ä¹ æƒ¯">#</a></h4>
<ul>
<li>è§åçŸ¥ä¹‰ï¼Œç”¨è‹±æ–‡å•è¯å‘½åï¼Œå¹¶ä½“ç°å‡ºå®é™…ä½œç”¨ï¼Œä¸è¦ç”¨ç®€å†™ï¼Œå¦‚ï¼šATM</li>
<li>å˜é‡åå¤§å†™</li>
<li>å±€éƒ¨å˜é‡å°å†™</li>
<li>å‡½æ•°åå°å†™</li>
<li>å¤§é©¼å³°StudentFirstName,ç”±å¤šä¸ªå•è¯ç»„æˆï¼Œä¸”æ¯ä¸ªå•è¯çš„é¦–å­—æ¯æ˜¯å¤§å†™ï¼Œå…¶å®ƒå°å†™</li>
<li>å°é©¼å³°studentFirstName ,ç”±å¤šä¸ªå•è¯ç»„æˆï¼Œç¬¬ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å°å†™ï¼Œåç»­æ¯ä¸ªå•è¯çš„é¦–å­—æ¯æ˜¯å¤§å†™ï¼Œå…¶å®ƒå°å†™</li>
<li>ä¸‹åˆ’çº¿: student_name</li>
</ul>
<h3 id="274-å˜é‡å®šä¹‰å’Œå¼•ç”¨">2.7.4 å˜é‡å®šä¹‰å’Œå¼•ç”¨<a hidden class="anchor" aria-hidden="true" href="#274-å˜é‡å®šä¹‰å’Œå¼•ç”¨">#</a></h3>
<p><strong>å˜é‡çš„ç”Ÿæ•ˆèŒƒå›´ç­‰æ ‡å‡†åˆ’åˆ†å˜é‡ç±»å‹</strong></p>
<ul>
<li>æ™®é€šå˜é‡ï¼šç”Ÿæ•ˆèŒƒå›´ä¸ºå½“å‰shellè¿›ç¨‹ï¼›å¯¹å½“å‰shellä¹‹å¤–çš„å…¶å®ƒshellè¿›ç¨‹ï¼ŒåŒ…æ‹¬å½“å‰shellçš„å­shellè¿›ç¨‹å‡æ— æ•ˆ</li>
<li>ç¯å¢ƒå˜é‡ï¼šç”Ÿæ•ˆèŒƒå›´ä¸ºå½“å‰shellè¿›ç¨‹åŠå…¶å­è¿›ç¨‹</li>
<li>æœ¬åœ°å˜é‡ï¼šç”Ÿæ•ˆèŒƒå›´ä¸ºå½“å‰shellè¿›ç¨‹ä¸­æŸä»£ç ç‰‡æ–­ï¼Œé€šå¸¸æŒ‡å‡½æ•°</li>
</ul>
<p><strong>å˜é‡èµ‹å€¼ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;value&#39;</span>
</span></span></code></pre></div><p><strong>value å¯ä»¥æ˜¯ä»¥ä¸‹å¤šç§å½¢å¼</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ç›´æ¥å­—ä¸²ï¼šname<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;root&#39;</span>
</span></span><span style="display:flex;"><span>å˜é‡å¼•ç”¨ï¼šname<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$USER<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>å‘½ä»¤å¼•ç”¨ï¼šname<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>COMMAND<span style="color:#e6db74">`</span> æˆ–è€… name<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>COMMAND<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><p>**æ³¨æ„ï¼š**å˜é‡èµ‹å€¼æ˜¯ä¸´æ—¶ç”Ÿæ•ˆï¼Œå½“é€€å‡ºç»ˆç«¯åï¼Œå˜é‡ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œæ— æ³•æŒä¹…ä¿å­˜ï¼Œè„šæœ¬ä¸­çš„å˜é‡ä¼šéšç€è„šæœ¬ç»“æŸï¼Œä¹Ÿä¼šè‡ªåŠ¨åˆ é™¤</p>
<p><strong>å˜é‡å¼•ç”¨ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$name
</span></span><span style="display:flex;"><span><span style="color:#e6db74">${</span>name<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p><strong>å¼±å¼•ç”¨å’Œå¼ºå¼•ç”¨</strong></p>
<ul>
<li>&ldquo;$name&rdquo; å¼±å¼•ç”¨ï¼Œå…¶ä¸­çš„å˜é‡å¼•ç”¨ä¼šè¢«æ›¿æ¢ä¸ºå˜é‡å€¼</li>
<li>&lsquo;$name&rsquo; å¼ºå¼•ç”¨ï¼Œå…¶ä¸­çš„å˜é‡å¼•ç”¨ä¸ä¼šè¢«æ›¿æ¢ä¸ºå˜é‡å€¼ï¼Œè€Œä¿æŒåŸå­—ç¬¦ä¸²</li>
</ul>
<p><strong>èŒƒä¾‹ï¼šå˜é‡çš„å„ç§èµ‹å€¼æ–¹å¼å’Œå¼•ç”¨</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>æ–¹å¼1ï¼š
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# TITLE<span style="color:#f92672">=</span>cto
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $TITLE
</span></span><span style="display:flex;"><span>cto
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>æ–¹å¼äºŒï¼š
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# T<span style="color:#f92672">=</span>ceo
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# NAME<span style="color:#f92672">=</span>$T
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $NAME
</span></span><span style="display:flex;"><span>ceo
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>æ–¹å¼ä¸‰ï¼š
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# NAME<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>whoami<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $NAME
</span></span><span style="display:flex;"><span>root
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>æ–¹å¼å››ï¼š
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# seq <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¼±å¼•ç”¨</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo <span style="color:#e6db74">&#34;</span>$NUM<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>åˆ é™¤å˜é‡ï¼š unset name</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>unset &lt;name&gt;
</span></span><span style="display:flex;"><span>æ¡ˆä¾‹ï¼š
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# NUM<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>seq 10<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $NUM
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# unset NUM
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $NUM
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>æ˜¾ç¤ºå·²æœ‰çš„å˜é‡</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>set
</span></span></code></pre></div><h3 id="275-ç¯å¢ƒå˜é‡">2.7.5 ç¯å¢ƒå˜é‡<a hidden class="anchor" aria-hidden="true" href="#275-ç¯å¢ƒå˜é‡">#</a></h3>
<p><strong>ç¯å¢ƒå˜é‡ï¼š</strong></p>
<ul>
<li>å¯ä»¥ä½¿å­è¿›ç¨‹ï¼ˆåŒ…æ‹¬å­™å­è¿›ç¨‹ï¼‰ç»§æ‰¿çˆ¶è¿›ç¨‹çš„å˜é‡ï¼Œä½†æ˜¯æ— æ³•è®©çˆ¶è¿›ç¨‹ä½¿ç”¨å­è¿›ç¨‹çš„å˜é‡</li>
<li>ä¸€æ—¦å­è¿›ç¨‹ä¿®æ”¹ä»çˆ¶è¿›ç¨‹ç»§æ‰¿çš„å˜é‡ï¼Œå°†ä¼šæ–°çš„å€¼ä¼ é€’ç»™å­™å­è¿›</li>
<li>ä¸€èˆ¬åªåœ¨ç³»ç»Ÿé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œåœ¨è„šæœ¬ä¸­è¾ƒå°‘ä½¿ç”¨</li>
</ul>
<p><strong>å˜é‡å£°æ˜å’Œèµ‹å€¼ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#å£°æ˜å¹¶èµ‹å€¼
</span></span><span style="display:flex;"><span>export name=VALUE
</span></span><span style="display:flex;"><span>declare -x name=VALUE
</span></span><span style="display:flex;"><span>#æˆ–è€…åˆ†ä¸¤æ­¥å®ç°
</span></span><span style="display:flex;"><span>name=VALUE
</span></span><span style="display:flex;"><span>export name
</span></span></code></pre></div><p><strong>å˜é‡å¼•ç”¨ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$name
</span></span><span style="display:flex;"><span>${name}
</span></span></code></pre></div><p><strong>æ˜¾ç¤ºæ‰€æœ‰ç¯å¢ƒå˜é‡ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>env
</span></span><span style="display:flex;"><span>printenv
</span></span><span style="display:flex;"><span>export
</span></span><span style="display:flex;"><span>declare -x
</span></span></code></pre></div><p><strong>æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹çš„ç¯å¢ƒå˜é‡</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cat /proc/$PID/environ
</span></span></code></pre></div><p><strong>åˆ é™¤å˜é‡</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>unset name
</span></span></code></pre></div><p><strong>bashå†…å»ºçš„ç¯å¢ƒå˜é‡</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PATH
</span></span><span style="display:flex;"><span>SHELL
</span></span><span style="display:flex;"><span>USER
</span></span><span style="display:flex;"><span>UID
</span></span><span style="display:flex;"><span>HOME
</span></span><span style="display:flex;"><span>PWD
</span></span><span style="display:flex;"><span>SHLVL #shellçš„åµŒå¥—å±‚æ•°ï¼Œå³æ·±åº¦
</span></span><span style="display:flex;"><span>LANG
</span></span><span style="display:flex;"><span>MAIL
</span></span><span style="display:flex;"><span>HOSTNAME
</span></span><span style="display:flex;"><span>HISTSIZE
</span></span><span style="display:flex;"><span>_ #ä¸‹åˆ’çº¿,è¡¨ç¤ºå‰ä¸€å‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°
</span></span></code></pre></div><p><strong>æ‰©å±•ï¼špstree -p</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# pstree -p
</span></span><span style="display:flex;"><span>systemd<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>â”€â”¬â”€VGAuthService<span style="color:#f92672">(</span>757<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€accounts-daemon<span style="color:#f92672">(</span>811<span style="color:#f92672">)</span>â”€â”¬â”€<span style="color:#f92672">{</span>accounts-daemon<span style="color:#f92672">}(</span>818<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚                      â””â”€<span style="color:#f92672">{</span>accounts-daemon<span style="color:#f92672">}(</span>864<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€atd<span style="color:#f92672">(</span>837<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€cron<span style="color:#f92672">(</span>815<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€dbus-daemon<span style="color:#f92672">(</span>817<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€irqbalance<span style="color:#f92672">(</span>824<span style="color:#f92672">)</span>â”€â”€â”€<span style="color:#f92672">{</span>irqbalance<span style="color:#f92672">}(</span>853<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€login<span style="color:#f92672">(</span>1206<span style="color:#f92672">)</span>â”€â”€â”€bash<span style="color:#f92672">(</span>1402<span style="color:#f92672">)</span>â”€â”€â”€sudo<span style="color:#f92672">(</span>1413<span style="color:#f92672">)</span>â”€â”€â”€bash<span style="color:#f92672">(</span>1420<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€multipathd<span style="color:#f92672">(</span>702<span style="color:#f92672">)</span>â”€â”¬â”€<span style="color:#f92672">{</span>multipathd<span style="color:#f92672">}(</span>703<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚                 â”œâ”€<span style="color:#f92672">{</span>multipathd<span style="color:#f92672">}(</span>704<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚                 â”œâ”€<span style="color:#f92672">{</span>multipathd<span style="color:#f92672">}(</span>705<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚                 â”œâ”€<span style="color:#f92672">{</span>multipathd<span style="color:#f92672">}(</span>706<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚                 â”œâ”€<span style="color:#f92672">{</span>multipathd<span style="color:#f92672">}(</span>707<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚                 â””â”€<span style="color:#f92672">{</span>multipathd<span style="color:#f92672">}(</span>708<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€networkd-dispat<span style="color:#f92672">(</span>825<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€polkitd<span style="color:#f92672">(</span>872<span style="color:#f92672">)</span>â”€â”¬â”€<span style="color:#f92672">{</span>polkitd<span style="color:#f92672">}(</span>875<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚              â””â”€<span style="color:#f92672">{</span>polkitd<span style="color:#f92672">}(</span>877<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€rsyslogd<span style="color:#f92672">(</span>826<span style="color:#f92672">)</span>â”€â”¬â”€<span style="color:#f92672">{</span>rsyslogd<span style="color:#f92672">}(</span>839<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚               â”œâ”€<span style="color:#f92672">{</span>rsyslogd<span style="color:#f92672">}(</span>840<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚               â””â”€<span style="color:#f92672">{</span>rsyslogd<span style="color:#f92672">}(</span>841<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€snapd<span style="color:#f92672">(</span>828<span style="color:#f92672">)</span>â”€â”¬â”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>915<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â”œâ”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>916<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â”œâ”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>917<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â”œâ”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>918<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â”œâ”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>919<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â”œâ”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>945<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â”œâ”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>946<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â”œâ”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>952<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â”œâ”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>954<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚            â””â”€<span style="color:#f92672">{</span>snapd<span style="color:#f92672">}(</span>975<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€sshd<span style="color:#f92672">(</span>859<span style="color:#f92672">)</span>â”€â”¬â”€sshd<span style="color:#f92672">(</span>3292<span style="color:#f92672">)</span>â”€â”€â”€bash<span style="color:#f92672">(</span>3421<span style="color:#f92672">)</span>â”€â”€â”€pstree<span style="color:#f92672">(</span>13708<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚           â””â”€sshd<span style="color:#f92672">(</span>6603<span style="color:#f92672">)</span>â”€â”€â”€bash<span style="color:#f92672">(</span>6736<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€systemd<span style="color:#f92672">(</span>1477<span style="color:#f92672">)</span>â”€â”€â”€<span style="color:#f92672">(</span>sd-pam<span style="color:#f92672">)(</span>1478<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€systemd<span style="color:#f92672">(</span>1392<span style="color:#f92672">)</span>â”€â”€â”€<span style="color:#f92672">(</span>sd-pam<span style="color:#f92672">)(</span>1393<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€systemd-journal<span style="color:#f92672">(</span>495<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€systemd-logind<span style="color:#f92672">(</span>830<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€systemd-network<span style="color:#f92672">(</span>2826<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€systemd-resolve<span style="color:#f92672">(</span>799<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€systemd-timesyn<span style="color:#f92672">(</span>746<span style="color:#f92672">)</span>â”€â”€â”€<span style="color:#f92672">{</span>systemd-timesyn<span style="color:#f92672">}(</span>778<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€systemd-udevd<span style="color:#f92672">(</span>525<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€udisksd<span style="color:#f92672">(</span>836<span style="color:#f92672">)</span>â”€â”¬â”€<span style="color:#f92672">{</span>udisksd<span style="color:#f92672">}(</span>863<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚              â”œâ”€<span style="color:#f92672">{</span>udisksd<span style="color:#f92672">}(</span>866<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚              â”œâ”€<span style="color:#f92672">{</span>udisksd<span style="color:#f92672">}(</span>883<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚              â””â”€<span style="color:#f92672">{</span>udisksd<span style="color:#f92672">}(</span>906<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€unattended-upgr<span style="color:#f92672">(</span>878<span style="color:#f92672">)</span>â”€â”€â”€<span style="color:#f92672">{</span>unattended-upgr<span style="color:#f92672">}(</span>908<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”œâ”€upowerd<span style="color:#f92672">(</span>2940<span style="color:#f92672">)</span>â”€â”¬â”€<span style="color:#f92672">{</span>upowerd<span style="color:#f92672">}(</span>2942<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â”‚               â””â”€<span style="color:#f92672">{</span>upowerd<span style="color:#f92672">}(</span>2943<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>           â””â”€vmtoolsd<span style="color:#f92672">(</span>758<span style="color:#f92672">)</span>â”€â”¬â”€<span style="color:#f92672">{</span>vmtoolsd<span style="color:#f92672">}(</span>781<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                           â””â”€<span style="color:#f92672">{</span>vmtoolsd<span style="color:#f92672">}(</span>2774<span style="color:#f92672">)</span>
</span></span></code></pre></div><h3 id="276-åªè¯»å˜é‡">2.7.6 åªè¯»å˜é‡<a hidden class="anchor" aria-hidden="true" href="#276-åªè¯»å˜é‡">#</a></h3>
<p><strong>åªè¯»å˜é‡ï¼šåªèƒ½å£°æ˜å®šä¹‰ï¼Œä½†åç»­ä¸èƒ½ä¿®æ”¹å’Œåˆ é™¤ï¼Œå³å¸¸é‡</strong>
<strong>å£°æ˜åªè¯»å˜é‡ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>readonly name
</span></span><span style="display:flex;"><span>declare -r name
</span></span></code></pre></div><p><strong>æŸ¥çœ‹åªè¯»å˜é‡ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>readonly <span style="color:#f92672">[</span>-p<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>declare -r
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# readonly PI=3.14159
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $PI
</span></span><span style="display:flex;"><span>3.14159
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# PI=3.14
</span></span><span style="display:flex;"><span>-bash: PI: readonly variable
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><h3 id="277-ä½ç½®å˜é‡">2.7.7 ä½ç½®å˜é‡<a hidden class="anchor" aria-hidden="true" href="#277-ä½ç½®å˜é‡">#</a></h3>
<p><strong>ä½ç½®å˜é‡ï¼šåœ¨bash shellä¸­å†…ç½®çš„å˜é‡, åœ¨è„šæœ¬ä»£ç ä¸­è°ƒç”¨é€šè¿‡å‘½ä»¤è¡Œä¼ é€’ç»™è„šæœ¬çš„å‚æ•°</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$1, $2, ... å¯¹åº”ç¬¬1ä¸ªã€ç¬¬2ä¸ªç­‰å‚æ•°ï¼Œshift [n]æ¢ä½ç½®
</span></span><span style="display:flex;"><span>$0 å‘½ä»¤æœ¬èº«,åŒ…æ‹¬è·¯å¾„
</span></span><span style="display:flex;"><span>$* ä¼ é€’ç»™è„šæœ¬çš„æ‰€æœ‰å‚æ•°ï¼Œå…¨éƒ¨å‚æ•°åˆä¸ºä¸€ä¸ªå­—ç¬¦ä¸²
</span></span><span style="display:flex;"><span>$@ ä¼ é€’ç»™è„šæœ¬çš„æ‰€æœ‰å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°ä¸ºç‹¬ç«‹å­—ç¬¦ä¸²
</span></span><span style="display:flex;"><span>$# ä¼ é€’ç»™è„šæœ¬çš„å‚æ•°çš„ä¸ªæ•°
</span></span><span style="display:flex;"><span>æ³¨æ„ï¼š$@ $* åªåœ¨è¢«åŒå¼•å·åŒ…èµ·æ¥çš„æ—¶å€™æ‰ä¼šæœ‰å·®å¼‚
</span></span></code></pre></div><p><strong>æ¸…ç©ºæ‰€æœ‰ä½ç½®å˜é‡</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>set --
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>echo <span style="color:#e6db74">&#34;1st arg is </span>$1<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;2st arg is </span>$2<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;3st arg is </span>$3<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;10st arg is </span><span style="color:#e6db74">${</span>10<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;11st arg is </span><span style="color:#e6db74">${</span>11<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;The number of arg is </span>$#<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;All args are </span>$*<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;All args are </span>$@<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;The scriptname is `basename </span>$0<span style="color:#e6db74">`&#34;</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# bash args.sh <span style="color:#f92672">{</span>a..z<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>1st arg is a
</span></span><span style="display:flex;"><span>2st arg is b
</span></span><span style="display:flex;"><span>3st arg is c
</span></span><span style="display:flex;"><span>10st arg is j
</span></span><span style="display:flex;"><span>11st arg is k
</span></span><span style="display:flex;"><span>The number of arg is <span style="color:#ae81ff">26</span>
</span></span><span style="display:flex;"><span>All args are a b c d e f g h i j k l m n o p q r s t u v w x y z
</span></span><span style="display:flex;"><span>All args are a b c d e f g h i j k l m n o p q r s t u v w x y z
</span></span><span style="display:flex;"><span>The scriptname is args.sh
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼šåˆ åº“è·‘è·¯ä¹‹å®‰å…¨å‘½ä»¤</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># æŸ¥çœ‹å‘½ä»¤</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# cat /data/scripts/rm.sh
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#-----------------</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#åˆ åº“è·‘è·¯ä¹‹å®‰å…¨å‘½ä»¤</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#-----------------</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#filename:rm.sh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#data:2022-08-06</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#author:admin</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#-----------------</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WARNING_COLOR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;echo -e \E[1;31m&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>END<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;\E[0m&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DIR<span style="color:#f92672">=</span>/tmp/<span style="color:#e6db74">`</span>date +%F_%H-%M-%S<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mkdir <span style="color:#e6db74">${</span>DIR<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mv $* <span style="color:#e6db74">${</span>DIR<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">${</span>WARNING_COLOR<span style="color:#e6db74">}</span>Move $* to <span style="color:#e6db74">${</span>END<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç»™/data/scripts/rm.shæ·»åŠ æ‰§è¡Œæƒé™</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# chmod a+x /data/scripts/rm.sh
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ·»åŠ åˆ«å</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts#alias rm<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/data/scripts/rm.sh&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# touch <span style="color:#f92672">{</span>1..9<span style="color:#f92672">}</span>.TXT
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# rm *.TXT
</span></span><span style="display:flex;"><span>Move 1.TXT 2.TXT 3.TXT 4.TXT 5.TXT 6.TXT 7.TXT 8.TXT 9.TXT to 
</span></span></code></pre></div><p>*<em>èŒƒä¾‹ï¼š$<em>å’Œ$@çš„åŒºåˆ«</em></em></p>
<ol>
<li>å½“ $* å’Œ $@ ä¸å¸¦åŒå¼•å·æ—¶å®ƒä»¬ä¸¤ä¸ªæ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼Œéƒ½æ˜¯æ¥æ”¶æ‰€æœ‰å‚æ•°ç„¶ååˆ†åˆ«å•ç‹¬å¤„ç†æ¯ä¸ªå‚æ•°ï¼è€Œå½“$*å¸¦åŒå¼•å·çš„æ—¶å€™ï¼Œä¼šæŠŠæ¥æ”¶çš„æ‰€æœ‰å‚æ•°å½“æˆä¸€ä¸ªå­—æ®µå¤„ç†</li>
<li>å°†$@ä¸$* èµ‹å€¼ç»™å˜é‡ä¹‹åï¼Œç»“æœè·Ÿä¸å¸¦å¼•å·æ˜¯ä¸€æ ·çš„ï¼è¿™æ˜¯æˆ‘ä»¬éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå½“$* èµ‹å€¼ç»™å˜é‡çš„æ—¶å€™è¿˜æ˜¯è·Ÿä¸å¸¦å¼•å·çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼</li>
</ol>
<h3 id="278--åˆ©ç”¨è½¯é“¾æ¥å®ç°åŒä¸€ä¸ªè„šæœ¬ä¸åŒåŠŸèƒ½">2.7.8  åˆ©ç”¨è½¯é“¾æ¥å®ç°åŒä¸€ä¸ªè„šæœ¬ä¸åŒåŠŸèƒ½<a hidden class="anchor" aria-hidden="true" href="#278--åˆ©ç”¨è½¯é“¾æ¥å®ç°åŒä¸€ä¸ªè„šæœ¬ä¸åŒåŠŸèƒ½">#</a></h3>
<p><strong>èŒƒä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#cat test.sh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#********************************************************************</span>
</span></span><span style="display:flex;"><span>echo $0
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#ln -s test.sh a.sh</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#ln -s test.sh b.sh</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#./a.sh</span>
</span></span><span style="display:flex;"><span>./a.sh
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#./b.sh</span>
</span></span><span style="display:flex;"><span>./b.sh
</span></span></code></pre></div><h3 id="279-é€€å‡ºçŠ¶æ€ç å˜é‡">2.7.9 é€€å‡ºçŠ¶æ€ç å˜é‡<a hidden class="anchor" aria-hidden="true" href="#279-é€€å‡ºçŠ¶æ€ç å˜é‡">#</a></h3>
<p><strong>è¿›ç¨‹æ‰§è¡Œåï¼Œå°†ä½¿ç”¨å˜é‡ $? ä¿å­˜çŠ¶æ€ç çš„ç›¸å…³æ•°å­—ï¼Œä¸åŒçš„å€¼ååº”æˆåŠŸæˆ–å¤±è´¥ï¼Œ$?å–å€¼èŒƒä¾‹ 0-255</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$?çš„å€¼ä¸º0 #ä»£è¡¨æˆåŠŸ
</span></span><span style="display:flex;"><span>$?çš„å€¼æ˜¯1åˆ°255 #ä»£è¡¨å¤±è´¥
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼šçŠ¶æ€ç ä¸º0</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# ll
</span></span><span style="display:flex;"><span>total 40
</span></span><span style="display:flex;"><span>drwxr-xr-x 2 root root 4096 Aug  6 07:29 ./
</span></span><span style="display:flex;"><span>drwxr-xr-x 3 root root 4096 Aug  6 02:41 ../
</span></span><span style="display:flex;"><span>-rw-r--r-- 1 root root  241 Aug  6 06:48 args.sh
</span></span><span style="display:flex;"><span>-rw-r--r-- 1 root root  192 Aug  6 02:40 bacup.sh
</span></span><span style="display:flex;"><span>-rw-r--r-- 1 root root  185 Aug  6 03:38 demo1.sh
</span></span><span style="display:flex;"><span>-rw-r--r-- 1 root root   85 Aug  6 07:26 f1.sh
</span></span><span style="display:flex;"><span>-rw-r--r-- 1 root root   41 Aug  6 07:29 file.sh
</span></span><span style="display:flex;"><span>-rwxr-xr-x 1 root root  208 Aug  6 01:42 hello.sh*
</span></span><span style="display:flex;"><span>-rwxr-xr-x 1 root root  285 Aug  6 07:20 rm.sh*
</span></span><span style="display:flex;"><span>-rwxr-xr-x 1 root root  284 Aug  6 07:01 rm.sh.bak*
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $?
</span></span><span style="display:flex;"><span>0
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼šçŠ¶æ€ç ä¸æ˜¯0</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# ls ajdksh
</span></span><span style="display:flex;"><span>ls: cannot access &#39;ajdksh&#39;: No such file or directory
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $?
</span></span><span style="display:flex;"><span>2
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>ç”¨æˆ·å¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è‡ªå®šä¹‰é€€å‡ºçŠ¶æ€ç </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>exit [n]
</span></span></code></pre></div><p><strong>æ¡ˆä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# cat exit.sh 
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">`</span>hostname<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>exit <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#39;success&#39;</span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# bash exit.sh 
</span></span><span style="display:flex;"><span>ubuntu200404
</span></span><span style="display:flex;"><span>exit.sh: line 4: exit: 200: numeric argument required
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>è„šæœ¬ä¸­ä¸€æ—¦é‡åˆ°exitå‘½ä»¤ï¼Œè„šæœ¬ä¼šç«‹å³ç»ˆæ­¢ï¼›ç»ˆæ­¢é€€å‡ºçŠ¶æ€å–å†³äºexitå‘½ä»¤åé¢çš„æ•°å­—</li>
<li>å¦‚æœexitåé¢æ— æ•°å­—,ç»ˆæ­¢é€€å‡ºçŠ¶æ€å–å†³äºexitå‘½ä»¤å‰é¢å‘½ä»¤æ‰§è¡Œç»“æœ</li>
<li>å¦‚æœæ²¡æœ‰exitå‘½ä»¤, å³æœªç»™è„šæœ¬æŒ‡å®šé€€å‡ºçŠ¶æ€ç ï¼Œæ•´ä¸ªè„šæœ¬çš„é€€å‡ºçŠ¶æ€ç å–å†³äºè„šæœ¬ä¸­æ‰§è¡Œçš„æœ€åä¸€æ¡å‘½ä»¤çš„çŠ¶æ€ç </li>
</ul>
<h3 id="2710-è„šæœ¬å®‰å…¨å’Œ-set">2.7.10 è„šæœ¬å®‰å…¨å’Œ set<a hidden class="anchor" aria-hidden="true" href="#2710-è„šæœ¬å®‰å…¨å’Œ-set">#</a></h3>
<p><strong>set å‘½ä»¤ï¼šå¯ä»¥ç”¨æ¥å®šåˆ¶ shell ç¯å¢ƒ</strong>
$- å˜é‡
hï¼šhashallï¼Œæ‰“å¼€é€‰é¡¹åï¼ŒShell ä¼šå°†å‘½ä»¤æ‰€åœ¨çš„è·¯å¾„hashä¸‹æ¥ï¼Œé¿å…æ¯æ¬¡éƒ½è¦æŸ¥è¯¢ã€‚é€šè¿‡set +hå°†hé€‰
é¡¹å…³é—­
iï¼šinteractive-commentsï¼ŒåŒ…å«è¿™ä¸ªé€‰é¡¹è¯´æ˜å½“å‰çš„ shell æ˜¯ä¸€ä¸ªäº¤äº’å¼çš„ shellã€‚æ‰€è°“çš„äº¤äº’å¼shell,
åœ¨è„šæœ¬ä¸­ï¼Œié€‰é¡¹æ˜¯å…³é—­çš„
mï¼šmonitorï¼Œæ‰“å¼€ç›‘æ§æ¨¡å¼ï¼Œå°±å¯ä»¥é€šè¿‡Job controlæ¥æ§åˆ¶è¿›ç¨‹çš„åœæ­¢ã€ç»§ç»­ï¼Œåå°æˆ–è€…å‰å°æ‰§è¡Œç­‰
Bï¼šbraceexpandï¼Œå¤§æ‹¬å·æ‰©å±•
Hï¼šhistoryï¼ŒHé€‰é¡¹æ‰“å¼€ï¼Œå¯ä»¥å±•å¼€å†å²åˆ—è¡¨ä¸­çš„å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡!æ„Ÿå¹å·æ¥å®Œæˆï¼Œä¾‹å¦‚â€œ!!â€è¿”å›ä¸Šæœ€è¿‘çš„
ä¸€ä¸ªå†å²å‘½ä»¤ï¼Œâ€œ!nâ€è¿”å›ç¬¬ n ä¸ªå†å²å‘½ä»¤</p>
<p><strong>set å‘½ä»¤å®ç°è„šæœ¬å®‰å…¨</strong>
-u åœ¨æ‰©å±•ä¸€ä¸ªæ²¡æœ‰è®¾ç½®çš„å˜é‡æ—¶ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œ ç­‰åŒset -o nounset
-e å¦‚æœä¸€ä¸ªå‘½ä»¤è¿”å›ä¸€ä¸ªé0é€€å‡ºçŠ¶æ€å€¼(å¤±è´¥)å°±é€€å‡ºï¼Œ ç­‰åŒset -o errexit
-o option æ˜¾ç¤ºï¼Œæ‰“å¼€æˆ–è€…å…³é—­é€‰é¡¹
æ˜¾ç¤ºé€‰é¡¹ï¼šset -o
æ‰“å¼€é€‰é¡¹ï¼šset -o é€‰é¡¹
å…³é—­é€‰é¡¹ï¼šset +o é€‰é¡¹
-x å½“æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œæ‰“å°å‘½ä»¤åŠå…¶å‚æ•°,ç±»ä¼¼ bash -x
èŒƒä¾‹ï¼š-e -u</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#******************</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#filename:hello.sh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Data:2022-08-06</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#author:admin</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#******************</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>set -e -u
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#echo &#34;ç»å…¸å†™æ³•&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;hello world!&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#39;******************&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æµè¡Œå†™æ³•</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#39;hello world!&#39;</span>
</span></span></code></pre></div><h2 id="28-ç®—æœ¯è¿ç®—">2.8 ç®—æœ¯è¿ç®—<a hidden class="anchor" aria-hidden="true" href="#28-ç®—æœ¯è¿ç®—">#</a></h2>
<p>Shellå…è®¸åœ¨æŸäº›æƒ…å†µä¸‹å¯¹ç®—æœ¯è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ï¼Œæ¯”å¦‚ï¼šletå’Œdeclare å†…ç½®å‘½ä»¤ï¼Œ(( ))å¤åˆå‘½ä»¤å’Œç®—æœ¯æ‰©
å±•ã€‚æ±‚å€¼ä»¥å›ºå®šå®½åº¦çš„æ•´æ•°è¿›è¡Œï¼Œä¸æ£€æŸ¥æº¢å‡ºï¼Œå°½ç®¡é™¤ä»¥0 è¢«å›°å¹¶æ ‡è®°ä¸ºé”™è¯¯ã€‚è¿ç®—ç¬¦åŠå…¶ä¼˜å…ˆçº§ï¼Œå…³è”æ€§å’Œå€¼ä¸Cè¯­è¨€ç›¸åŒã€‚ä»¥ä¸‹è¿ç®—ç¬¦åˆ—è¡¨åˆ†ç»„ä¸ºç­‰ä¼˜å…ˆçº§è¿ç®—ç¬¦çº§åˆ«ã€‚çº§åˆ«æŒ‰é™åºæ’åˆ—ä¼˜å…ˆã€‚
<strong>æ³¨æ„ï¼šbash åªæ”¯æŒæ•´æ•°ï¼Œä¸æ”¯æŒå°æ•°</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>+ - addition, subtraction
</span></span><span style="display:flex;"><span>* / % multiplication, division, remainder, %è¡¨ç¤ºå–æ¨¡ï¼Œå³å–ä½™æ•°ï¼Œç¤ºä¾‹ï¼š9%4=1ï¼Œ5%3=2
</span></span><span style="display:flex;"><span>i++ i-- variable post-increment and post-decrement
</span></span><span style="display:flex;"><span>++i --i variable pre-increment and pre-decrement
</span></span><span style="display:flex;"><span>= *= /= %= += -= &lt;&lt;= &gt;&gt;= &amp;= ^= |= assignment
</span></span><span style="display:flex;"><span>- + unary minus and plus
</span></span><span style="display:flex;"><span>! ~ logical and bitwise negation
</span></span><span style="display:flex;"><span>** exponentiation ä¹˜æ–¹,å³æŒ‡æ•°è¿ç®—
</span></span><span style="display:flex;"><span>&lt;&lt; &gt;&gt; left and right bitwise shifts
</span></span><span style="display:flex;"><span>&lt;= &gt;= &lt; &gt; comparison
</span></span><span style="display:flex;"><span>== != equality and inequality
</span></span><span style="display:flex;"><span>&amp; bitwise AND
</span></span><span style="display:flex;"><span>| bitwise OR
</span></span><span style="display:flex;"><span>^ bitwise exclusive OR
</span></span><span style="display:flex;"><span>&amp;&amp; logical AND
</span></span><span style="display:flex;"><span>|| logical OR
</span></span><span style="display:flex;"><span>expr?expr:expr conditional operator
</span></span><span style="display:flex;"><span>expr1 , expr2 comma
</span></span></code></pre></div><p><strong>ä¹˜æ³•ç¬¦å·æœ‰äº›åœºæ™¯ä¸­éœ€è¦è½¬ä¹‰</strong>
<strong>å®ç°ç®—æœ¯è¿ç®—ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>(1) let var=ç®—æœ¯è¡¨è¾¾å¼
</span></span><span style="display:flex;"><span>(2) ((var=ç®—æœ¯è¡¨è¾¾å¼)) å’Œä¸Šé¢ç­‰ä»·
</span></span><span style="display:flex;"><span>(3) var=$[ç®—æœ¯è¡¨è¾¾å¼]
</span></span><span style="display:flex;"><span>(4) var=$((ç®—æœ¯è¡¨è¾¾å¼))
</span></span><span style="display:flex;"><span>(5) var=$(expr arg1 arg2 arg3 ...)
</span></span><span style="display:flex;"><span>(6) declare -i var = æ•°å€¼
</span></span><span style="display:flex;"><span>(7) echo &#39;ç®—æœ¯è¡¨è¾¾å¼&#39; | bc
</span></span></code></pre></div><p><strong>å†…å»ºçš„éšæœºæ•°ç”Ÿæˆå™¨å˜é‡ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$RANDOM å–å€¼èŒƒå›´ï¼š0-32767
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#ç”Ÿæˆ 0 - 49 ä¹‹é—´éšæœºæ•°
</span></span><span style="display:flex;"><span>echo $[$RANDOM%50]
</span></span><span style="display:flex;"><span>#éšæœºå­—ä½“é¢œè‰²
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo -e &#34;\033[1;$[RANDOM%7+31]mhello\033[0m&#34;
</span></span><span style="display:flex;"><span>magedu
</span></span></code></pre></div><h2 id="29-é€»è¾‘è¿ç®—">2.9 é€»è¾‘è¿ç®—<a hidden class="anchor" aria-hidden="true" href="#29-é€»è¾‘è¿ç®—">#</a></h2>
<p><img loading="lazy" src="/posts.images/image.assets/1659774970166.png" alt="1659774970166"  />
</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>1,çœŸ
</span></span><span style="display:flex;"><span>0,å‡
</span></span><span style="display:flex;"><span>#æ³¨æ„,ä»¥ä¸Šä¸ºäºŒè¿›åˆ¶
</span></span></code></pre></div><p><strong>ä¸æˆ–éç¬¦å·ï¼š&amp; | ï¼</strong></p>
<p><strong>å¼‚æˆ–ï¼š^</strong></p>
<p>**å¼‚æˆ–ï¼š^ **
å¼‚æˆ–çš„ä¸¤ä¸ªå€¼ï¼Œç›¸åŒä¸ºå‡ï¼Œä¸åŒä¸ºçœŸã€‚ä¸¤ä¸ªæ•°å­—X,Yå¼‚æˆ–å¾—åˆ°ç»“æœZï¼ŒZå†å’Œä»»æ„ä¸¤è€…ä¹‹ä¸€Xå¼‚æˆ–ï¼Œå°†å¾—å‡ºå¦ä¸€ä¸ªå€¼Y</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>0 ^ 0 = 0
</span></span><span style="display:flex;"><span>0 ^ 1 = 1
</span></span><span style="display:flex;"><span>1 ^ 0 = 1
</span></span><span style="display:flex;"><span>1 ^ 1 = 0
</span></span></code></pre></div><h2 id="210-æ¡ä»¶æµ‹è¯•å‘½ä»¤">2.10 æ¡ä»¶æµ‹è¯•å‘½ä»¤<a hidden class="anchor" aria-hidden="true" href="#210-æ¡ä»¶æµ‹è¯•å‘½ä»¤">#</a></h2>
<p>æ¡ä»¶æµ‹è¯•ï¼šåˆ¤æ–­æŸéœ€æ±‚æ˜¯å¦æ»¡è¶³ï¼Œéœ€è¦ç”±æµ‹è¯•æœºåˆ¶æ¥å®ç°ï¼Œä¸“ç”¨çš„æµ‹è¯•è¡¨è¾¾å¼éœ€è¦ç”±æµ‹è¯•å‘½ä»¤è¾…åŠ©å®Œæˆ
æµ‹è¯•è¿‡ç¨‹ï¼Œå®ç°è¯„ä¼°å¸ƒå°”å£°æ˜ï¼Œä»¥ä¾¿ç”¨åœ¨æ¡ä»¶æ€§ç¯å¢ƒä¸‹è¿›è¡Œæ‰§è¡Œ
è‹¥çœŸï¼Œåˆ™çŠ¶æ€ç å˜é‡ $? è¿”å›0
è‹¥å‡ï¼Œåˆ™çŠ¶æ€ç å˜é‡ $? è¿”å›1
æ¡ä»¶æµ‹è¯•å‘½ä»¤</p>
<ul>
<li>test EXPRESSIO</li>
<li>[ EXPRESSION ] #å’Œtest ç­‰ä»·ï¼Œå»ºè®®ä½¿ç”¨ <input disabled="" type="checkbox"> </li>
<li>[[ EXPRESSION ]] ç›¸å…³äºå¢å¼ºç‰ˆçš„ <input disabled="" type="checkbox"> , æ”¯æŒ[]çš„ç”¨æ³•,ä¸”æ”¯æŒæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼å’Œé€šé…</li>
</ul>
<p><strong>æ³¨æ„ï¼šEXPRESSIONå‰åå¿…é¡»æœ‰ç©ºç™½å­—ç¬¦</strong></p>
<p><strong>å¸®åŠ©ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# type [
</span></span><span style="display:flex;"><span>[ is a shell builtin
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# help test
</span></span><span style="display:flex;"><span>test: test [expr]
</span></span><span style="display:flex;"><span>    Evaluate conditional expression.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Exits with a status of 0 (true) or 1 (false) depending on
</span></span><span style="display:flex;"><span>    the evaluation of EXPR.  Expressions may be unary or binary.  Unary
</span></span><span style="display:flex;"><span>    expressions are often used to examine the status of a file.  There
</span></span><span style="display:flex;"><span>    are string operators and numeric comparison operators as well.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    The behavior of test depends on the number of arguments.  Read the
</span></span><span style="display:flex;"><span>    bash manual page for the complete specification.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    File operators:
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      -a FILE        True if file exists.
</span></span><span style="display:flex;"><span>      -b FILE        True if file is block special.
</span></span><span style="display:flex;"><span>      -c FILE        True if file is character special.
</span></span><span style="display:flex;"><span>      -d FILE        True if file is a directory.
</span></span><span style="display:flex;"><span>      -e FILE        True if file exists.
</span></span><span style="display:flex;"><span>      -f FILE        True if file exists and is a regular file.
</span></span><span style="display:flex;"><span>      -g FILE        True if file is set-group-id.
</span></span><span style="display:flex;"><span>      -h FILE        True if file is a symbolic link.
</span></span><span style="display:flex;"><span>      -L FILE        True if file is a symbolic link.
</span></span><span style="display:flex;"><span>      -k FILE        True if file has its `sticky&#39; bit set.
</span></span><span style="display:flex;"><span>      -p FILE        True if file is a named pipe.
</span></span><span style="display:flex;"><span>      -r FILE        True if file is readable by you.
</span></span><span style="display:flex;"><span>      -s FILE        True if file exists and is not empty.
</span></span><span style="display:flex;"><span>      -S FILE        True if file is a socket.
</span></span><span style="display:flex;"><span>      -t FD          True if FD is opened on a terminal.
</span></span><span style="display:flex;"><span>      -u FILE        True if the file is set-user-id.
</span></span><span style="display:flex;"><span>      -w FILE        True if the file is writable by you.
</span></span><span style="display:flex;"><span>      -x FILE        True if the file is executable by you.
</span></span><span style="display:flex;"><span>      -O FILE        True if the file is effectively owned by you.
</span></span><span style="display:flex;"><span>      -G FILE        True if the file is effectively owned by your group.
</span></span><span style="display:flex;"><span>      -N FILE        True if the file has been modified since it was last read.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      FILE1 -nt FILE2  True if file1 is newer than file2 (according to
</span></span><span style="display:flex;"><span>                       modification date).
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      FILE1 -ot FILE2  True if file1 is older than file2.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      FILE1 -ef FILE2  True if file1 is a hard link to file2.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    All file operators except -h and -L are acting on the target of a symbolic
</span></span><span style="display:flex;"><span>    link, not on the symlink itself, if FILE is a symbolic link.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    String operators:
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      -z STRING      True if string is empty.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      -n STRING
</span></span><span style="display:flex;"><span>         STRING      True if string is not empty.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      STRING1 = STRING2
</span></span><span style="display:flex;"><span>                     True if the strings are equal.
</span></span><span style="display:flex;"><span>      STRING1 != STRING2
</span></span><span style="display:flex;"><span>                     True if the strings are not equal.
</span></span><span style="display:flex;"><span>      STRING1 &lt; STRING2
</span></span><span style="display:flex;"><span>                     True if STRING1 sorts before STRING2 lexicographically.
</span></span><span style="display:flex;"><span>      STRING1 &gt; STRING2
</span></span><span style="display:flex;"><span>                     True if STRING1 sorts after STRING2 lexicographically.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Other operators:
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      -o OPTION      True if the shell option OPTION is enabled.
</span></span><span style="display:flex;"><span>      -v VAR         True if the shell variable VAR is set.
</span></span><span style="display:flex;"><span>      -R VAR         True if the shell variable VAR is set and is a name
</span></span><span style="display:flex;"><span>                     reference.
</span></span><span style="display:flex;"><span>      ! EXPR         True if expr is false.
</span></span><span style="display:flex;"><span>      EXPR1 -a EXPR2 True if both expr1 AND expr2 are true.
</span></span><span style="display:flex;"><span>      EXPR1 -o EXPR2 True if either expr1 OR expr2 is true.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>      arg1 OP arg2   Arithmetic tests.  OP is one of -eq, -ne,
</span></span><span style="display:flex;"><span>                     -lt, -le, -gt, or -ge.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Arithmetic binary operators return true if ARG1 is equal, not-equal,
</span></span><span style="display:flex;"><span>    less-than, less-than-or-equal, greater-than, or greater-than-or-equal
</span></span><span style="display:flex;"><span>    than ARG2.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    See the bash manual page bash(1) for the handling of parameters (i.e.
</span></span><span style="display:flex;"><span>    missing parameters).
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Exit Status:
</span></span><span style="display:flex;"><span>    Returns success if EXPR evaluates to true; fails if EXPR evaluates to
</span></span><span style="display:flex;"><span>    false or an invalid argument is given.
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><h3 id="2101-å˜é‡æµ‹è¯•">2.10.1 å˜é‡æµ‹è¯•<a hidden class="anchor" aria-hidden="true" href="#2101-å˜é‡æµ‹è¯•">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#åˆ¤æ–­ NAME å˜é‡æ˜¯å¦å®šä¹‰
</span></span><span style="display:flex;"><span>[ -v NAME ]
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# NAME=&#39;tom&#39;
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# [ -v NAME ]
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $?
</span></span><span style="display:flex;"><span>0
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# [ -v AGE ]
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $?
</span></span><span style="display:flex;"><span>1
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><h3 id="2102-æ•°å€¼æµ‹è¯•">2.10.2 æ•°å€¼æµ‹è¯•<a hidden class="anchor" aria-hidden="true" href="#2102-æ•°å€¼æµ‹è¯•">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-eq æ˜¯å¦ç­‰äº
</span></span><span style="display:flex;"><span>-ne æ˜¯å¦ä¸ç­‰äº
</span></span><span style="display:flex;"><span>-gt æ˜¯å¦å¤§äº
</span></span><span style="display:flex;"><span>-ge æ˜¯å¦å¤§äºç­‰äº
</span></span><span style="display:flex;"><span>-lt æ˜¯å¦å°äº
</span></span><span style="display:flex;"><span>-le æ˜¯å¦å°äºç­‰äº
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#i=10</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#j=8</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#[ $i -lt $j ]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#echo $?</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h3 id="2103-ç®—æœ¯è¡¨è¾¾å¼æ¯”è¾ƒ">2.10.3 ç®—æœ¯è¡¨è¾¾å¼æ¯”è¾ƒ<a hidden class="anchor" aria-hidden="true" href="#2103-ç®—æœ¯è¡¨è¾¾å¼æ¯”è¾ƒ">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>== ç›¸ç­‰
</span></span><span style="display:flex;"><span>!= ä¸ç›¸ç­‰
</span></span><span style="display:flex;"><span>&lt;=
</span></span><span style="display:flex;"><span>&gt;=
</span></span><span style="display:flex;"><span>&lt;
</span></span><span style="display:flex;"><span>&gt;
</span></span></code></pre></div><p>èŒƒä¾‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos8 ~]#x=10;y=10;(( x == y ));echo $?
</span></span><span style="display:flex;"><span>0
</span></span><span style="display:flex;"><span>[root@centos8 ~]#x=10;y=20;(( x == y ));echo $?
</span></span><span style="display:flex;"><span>1
</span></span><span style="display:flex;"><span>[root@centos8 ~]#x=10;y=20;(( x != y ));echo $?
</span></span><span style="display:flex;"><span>0
</span></span><span style="display:flex;"><span>[root@centos8 ~]#x=10;y=10;(( x != y ));echo $?
</span></span><span style="display:flex;"><span>1
</span></span></code></pre></div><h3 id="2104-å­—ç¬¦çªœæµ‹è¯•">2.10.4 å­—ç¬¦çªœæµ‹è¯•<a hidden class="anchor" aria-hidden="true" href="#2104-å­—ç¬¦çªœæµ‹è¯•">#</a></h3>
<p><strong>testå’Œ [ ] å­—ç¬¦ä¸²æµ‹è¯•ç”¨æ³•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-z STRING å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œæ²¡å®šä¹‰æˆ–ç©ºä¸ºçœŸï¼Œä¸ç©ºä¸ºå‡ï¼Œ
</span></span><span style="display:flex;"><span>-n STRING å­—ç¬¦ä¸²æ˜¯å¦ä¸ç©ºï¼Œä¸ç©ºä¸ºçœŸï¼Œç©ºä¸ºå‡
</span></span><span style="display:flex;"><span>STRING åŒä¸Š
</span></span><span style="display:flex;"><span>STRING1 = STRING2 æ˜¯å¦ç­‰äºï¼Œæ³¨æ„ = å‰åæœ‰ç©ºæ ¼
</span></span><span style="display:flex;"><span>STRING1 != STRING2 æ˜¯å¦ä¸ç­‰äº
</span></span><span style="display:flex;"><span>&gt; asciiç æ˜¯å¦å¤§äºasciiç 
</span></span><span style="display:flex;"><span>&lt; æ˜¯å¦å°äº
</span></span></code></pre></div><p><strong>[[]] å­—ç¬¦ä¸²æµ‹è¯•ç”¨æ³•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[[ expression ]] ç”¨æ³•
</span></span><span style="display:flex;"><span>== å·¦ä¾§å­—ç¬¦ä¸²æ˜¯å¦å’Œå³ä¾§çš„PATTERNç›¸åŒ
</span></span><span style="display:flex;"><span>æ³¨æ„:æ­¤è¡¨è¾¾å¼ç”¨äº[[ ]]ä¸­ï¼ŒPATTERNä¸ºé€šé…ç¬¦
</span></span><span style="display:flex;"><span>=~ å·¦ä¾§å­—ç¬¦ä¸²æ˜¯å¦èƒ½å¤Ÿè¢«å³ä¾§çš„æ­£åˆ™è¡¨è¾¾å¼çš„PATTERNæ‰€åŒ¹é…
</span></span><span style="display:flex;"><span>æ³¨æ„: æ­¤è¡¨è¾¾å¼ç”¨äº[[ ]]ä¸­ä¸ºæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼
</span></span></code></pre></div><p><strong>å»ºè®®ï¼šå½“ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ–é€šé…ç¬¦ä½¿ç”¨[[ ]]ï¼Œå…¶å®ƒæƒ…å†µä¸€èˆ¬ä½¿ç”¨ [ ]</strong></p>
<hr>
<p><strong>èŒƒä¾‹ï¼šä½¿ç”¨ [ ]</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos8 ~]#unset str
</span></span><span style="display:flex;"><span>[root@centos8 ~]#[ -z &#34;$str&#34; ]
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo $?
</span></span><span style="display:flex;"><span>0
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼šåœ¨æ¯”è¾ƒå­—ç¬¦ä¸²æ—¶ï¼Œå»ºè®®å˜é‡æ”¾åœ¨â€œ â€ä¸­</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos8 ~]#[ &#34;$NAME&#34; ]
</span></span><span style="display:flex;"><span>[root@centos8 ~]#NAME=&#34;I love linux&#34;
</span></span><span style="display:flex;"><span>[root@centos8 ~]#[ $NAME ]
</span></span><span style="display:flex;"><span>-bash: [: love: binary operator expected
</span></span><span style="display:flex;"><span>[root@centos8 ~]#[ &#34;$NAME&#34; ]
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo $?
</span></span><span style="display:flex;"><span>0
</span></span></code></pre></div><p><em><em>[[]]ä¸­å¦‚æœä¸æƒ³ä½¿ç”¨é€šé…ç¬¦</em>,åªæƒ³è¡¨è¾¾*æœ¬èº«,å¯ä»¥ç”¨&quot; &ldquo;å¼•èµ·æ¥</em>*</p>
<hr>
<p>*<em>#[[]]ä¸­å¦‚æœä¸æƒ³ä½¿ç”¨é€šé…ç¬¦</em>,åªæƒ³è¡¨è¾¾<em>æœ¬èº«,ä¹Ÿå¯ä»¥ä½¿ç”¨è½¬ä¹‰ç¬¦*</em></p>
<h3 id="2105-æ–‡ä»¶æµ‹è¯•">2.10.5 æ–‡ä»¶æµ‹è¯•<a hidden class="anchor" aria-hidden="true" href="#2105-æ–‡ä»¶æµ‹è¯•">#</a></h3>
<p><strong>å­˜åœ¨æ€§æµ‹è¯•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-a FILEï¼šåŒ -e
</span></span><span style="display:flex;"><span>-e FILE: æ–‡ä»¶å­˜åœ¨æ€§æµ‹è¯•ï¼Œå­˜åœ¨ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡
</span></span><span style="display:flex;"><span>-b FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”ä¸ºå—è®¾å¤‡æ–‡ä»¶
</span></span><span style="display:flex;"><span>-c FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”ä¸ºå­—ç¬¦è®¾å¤‡æ–‡ä»¶
</span></span><span style="display:flex;"><span>-d FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”ä¸ºç›®å½•æ–‡ä»¶
</span></span><span style="display:flex;"><span>-f FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”ä¸ºæ™®é€šæ–‡ä»¶
</span></span><span style="display:flex;"><span>-h FILE æˆ– -L FILEï¼šå­˜åœ¨ä¸”ä¸ºç¬¦å·é“¾æ¥æ–‡ä»¶
</span></span><span style="display:flex;"><span>-p FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”ä¸ºå‘½åç®¡é“æ–‡ä»¶
</span></span><span style="display:flex;"><span>-S FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”ä¸ºå¥—æ¥å­—æ–‡ä»¶
</span></span></code></pre></div><p><strong>æ¡ˆä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# [ -e /data/scripts/rm.sh ]
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $?
</span></span><span style="display:flex;"><span>0
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>æ–‡ä»¶æƒé™æµ‹è¯•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-r FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”å¯è¯»
</span></span><span style="display:flex;"><span>-w FILE: æ˜¯å¦å­˜åœ¨ä¸”å¯å†™
</span></span><span style="display:flex;"><span>-x FILE: æ˜¯å¦å­˜åœ¨ä¸”å¯æ‰§è¡Œ
</span></span><span style="display:flex;"><span>-u FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”æ‹¥æœ‰suidæƒé™
</span></span><span style="display:flex;"><span>-g FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”æ‹¥æœ‰sgidæƒé™
</span></span><span style="display:flex;"><span>-k FILEï¼šæ˜¯å¦å­˜åœ¨ä¸”æ‹¥æœ‰stickyæƒé™
</span></span></code></pre></div><p><strong>æ³¨æ„ï¼šæœ€ç»ˆç»“æœç”±ç”¨æˆ·å¯¹æ–‡ä»¶çš„å®é™…æƒé™å†³å®šï¼Œè€Œéæ–‡ä»¶å±æ€§å†³å®š</strong></p>
<hr>
<p><strong>èŒƒä¾‹:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# [ -w /data/scripts/rm.sh ]
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $?
</span></span><span style="display:flex;"><span>0
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><p><strong>æ–‡ä»¶å±æ€§æµ‹è¯•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-s FILE #æ˜¯å¦å­˜åœ¨ä¸”éç©º
</span></span><span style="display:flex;"><span>-t fd #fd æ–‡ä»¶æè¿°ç¬¦æ˜¯å¦åœ¨æŸç»ˆç«¯å·²ç»æ‰“å¼€
</span></span><span style="display:flex;"><span>-N FILE #æ–‡ä»¶è‡ªä»ä¸Šä¸€æ¬¡è¢«è¯»å–ä¹‹åæ˜¯å¦è¢«ä¿®æ”¹è¿‡
</span></span><span style="display:flex;"><span>-O FILE #å½“å‰æœ‰æ•ˆç”¨æˆ·æ˜¯å¦ä¸ºæ–‡ä»¶å±ä¸»
</span></span><span style="display:flex;"><span>-G FILE #å½“å‰æœ‰æ•ˆç”¨æˆ·æ˜¯å¦ä¸ºæ–‡ä»¶å±ç»„
</span></span><span style="display:flex;"><span>FILE1 -ef FILE2 #FILE1æ˜¯å¦æ˜¯FILE2çš„ç¡¬é“¾æ¥
</span></span><span style="display:flex;"><span>FILE1 -nt FILE2 #FILE1æ˜¯å¦æ–°äºFILE2ï¼ˆmtimeï¼‰
</span></span><span style="display:flex;"><span>FILE1 -ot FILE2 #FILE1æ˜¯å¦æ—§äºFILE2
</span></span></code></pre></div><p><strong>æ¡ˆä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# [ -s /data/scripts/rm.sh ]
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# echo $?
</span></span><span style="display:flex;"><span>0
</span></span><span style="display:flex;"><span>root@ubuntu200404:/data/scripts# 
</span></span></code></pre></div><h2 id="211-å…³äºå’Œ">2.11 å…³äºï¼ˆï¼‰å’Œ<a hidden class="anchor" aria-hidden="true" href="#211-å…³äºå’Œ">#</a></h2>
<p><strong>ï¼ˆCMD1;CMD2;&hellip;ï¼‰å’Œ { CMD1;CMD2;&hellip;; } éƒ½å¯ä»¥å°†å¤šä¸ªå‘½ä»¤ç»„åˆåœ¨ä¸€èµ·ï¼Œæ‰¹é‡æ‰§è¡Œ</strong>**</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>( list ) ä¼šå¼€å¯å­shell,å¹¶ä¸”listä¸­å˜é‡èµ‹å€¼åŠå†…éƒ¨å‘½ä»¤æ‰§è¡Œå,å°†ä¸å†å½±å“åç»­çš„ç¯å¢ƒ
</span></span><span style="display:flex;"><span>å¸®åŠ©å‚çœ‹:man bash æœç´¢(list)
</span></span><span style="display:flex;"><span>{ list; } ä¸ä¼šå¯å­shell, åœ¨å½“å‰shellä¸­è¿è¡Œ,ä¼šå½±å“å½“å‰shellç¯å¢ƒ
</span></span><span style="display:flex;"><span>å¸®åŠ©å‚çœ‹:man bash æœç´¢{ list; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>( list ) ä¼šå¼€å¯å­shell,å¹¶ä¸”listä¸­å˜é‡èµ‹å€¼åŠå†…éƒ¨å‘½ä»¤æ‰§è¡Œå,å°†ä¸å†å½±å“åç»­çš„ç¯å¢ƒ
</span></span><span style="display:flex;"><span>å¸®åŠ©å‚çœ‹:man bash æœç´¢(list)
</span></span><span style="display:flex;"><span>{ list; } ä¸ä¼šå¯å­shell, åœ¨å½“å‰shellä¸­è¿è¡Œ,ä¼šå½±å“å½“å‰shellç¯å¢ƒ
</span></span><span style="display:flex;"><span>å¸®åŠ©å‚çœ‹:man bash æœç´¢{ list; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#ï¼ˆï¼‰ä¼šå¼€å¯å­shell
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo $BASHPID
</span></span><span style="display:flex;"><span>1920
</span></span><span style="display:flex;"><span>[root@centos8 ~]#( echo $BASHPID;sleep 100)
</span></span><span style="display:flex;"><span>1979
</span></span><span style="display:flex;"><span>[root@centos8 ~]#pstree -p
</span></span><span style="display:flex;"><span>â”œâ”€sshd(719)â”€â”€â”€sshd(1906)â”€â”€â”€sshd(1919)â”€â”¬â”€bash(1920)â”€â”€â”€bash(1979)â”€â”€â”€sleep(1980)
</span></span><span style="display:flex;"><span>#{ } ä¸ä¼šå¼€å¯å­shell
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo $BASHPID
</span></span><span style="display:flex;"><span>1920
</span></span></code></pre></div><h2 id="212-ç»„åˆæµ‹è¯•">2.12 ç»„åˆæµ‹è¯•<a hidden class="anchor" aria-hidden="true" href="#212-ç»„åˆæµ‹è¯•">#</a></h2>
<h3 id="2121-ç¬¬ä¸€ç§æ–¹å¼">2.12.1 ç¬¬ä¸€ç§æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#2121-ç¬¬ä¸€ç§æ–¹å¼">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[ EXPRESSION1 -a EXPRESSION2 ] #å¹¶ä¸”ï¼ŒEXPRESSION1å’ŒEXPRESSION2éƒ½æ˜¯çœŸï¼Œç»“æœæ‰ä¸ºçœŸ
</span></span><span style="display:flex;"><span>[ EXPRESSION1 -o EXPRESSION2 ] #æˆ–è€…ï¼ŒEXPRESSION1å’ŒEXPRESSION2åªè¦æœ‰ä¸€ä¸ªçœŸï¼Œç»“æœå°±ä¸º
</span></span><span style="display:flex;"><span>çœŸ
</span></span><span style="display:flex;"><span>[ ! EXPRESSION ] #å–å
</span></span></code></pre></div><p><strong>è¯´æ˜ï¼š -a å’Œ -o éœ€è¦ä½¿ç”¨æµ‹è¯•å‘½ä»¤è¿›è¡Œï¼Œ[[ ]] ä¸æ”¯æŒ</strong></p>
<h3 id="2122-ç¬¬äºŒç§æ–¹å¼">2.12.2 ç¬¬äºŒç§æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#2122-ç¬¬äºŒç§æ–¹å¼">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>COMMAND1 &amp;&amp; COMMAND2 #å¹¶ä¸”ï¼ŒçŸ­è·¯ä¸ï¼Œä»£è¡¨æ¡ä»¶æ€§çš„AND THEN
</span></span><span style="display:flex;"><span>å¦‚æœCOMMAND1 æˆåŠŸ,å°†æ‰§è¡ŒCOMMAND2,å¦åˆ™,å°†ä¸æ‰§è¡ŒCOMMAND2
</span></span><span style="display:flex;"><span>COMMAND1 || COMMAND2 #æˆ–è€…ï¼ŒçŸ­è·¯æˆ–ï¼Œä»£è¡¨æ¡ä»¶æ€§çš„OR ELSE
</span></span><span style="display:flex;"><span>å¦‚æœCOMMAND1 æˆåŠŸ,å°†ä¸æ‰§è¡ŒCOMMAND2,å¦åˆ™,å°†æ‰§è¡ŒCOMMAND2
</span></span><span style="display:flex;"><span>! COMMAND #é,å–å
</span></span></code></pre></div><p><strong>å¦‚æœ&amp;&amp; å’Œ || æ··åˆä½¿ç”¨ï¼Œ&amp;&amp; è¦åœ¨å‰ï¼Œ|| æ”¾åœ¨å</strong></p>
<hr>
<p><strong>ç»ƒä¹ </strong>
1ã€ç¼–å†™è„šæœ¬ argsnum.shï¼Œæ¥å—ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°ï¼›å¦‚æœå‚æ•°ä¸ªæ•°å°äº1ï¼Œåˆ™æç¤ºç”¨æˆ·â€œè‡³å°‘åº”è¯¥ç»™ä¸€ä¸ªå‚æ•°â€ï¼Œå¹¶ç«‹å³é€€å‡ºï¼›å¦‚æœå‚æ•°ä¸ªæ•°ä¸å°äº1ï¼Œåˆ™æ˜¾ç¤ºç¬¬ä¸€ä¸ªå‚æ•°æ‰€æŒ‡å‘çš„æ–‡ä»¶ä¸­çš„ç©ºç™½è¡Œæ•°
2ã€ç¼–å†™è„šæœ¬ hostping.shï¼Œæ¥å—ä¸€ä¸ªä¸»æœºçš„IPv4åœ°å€åšä¸ºå‚æ•°ï¼Œæµ‹è¯•æ˜¯å¦å¯è¿é€šã€‚å¦‚æœèƒ½pingé€šï¼Œåˆ™æç¤ºç”¨æˆ·â€œè¯¥IPåœ°å€å¯è®¿é—®â€ï¼›å¦‚æœä¸å¯pingé€šï¼Œåˆ™æç¤ºç”¨æˆ·â€œè¯¥IPåœ°å€ä¸å¯è®¿é—®â€
3ã€ç¼–å†™è„šæœ¬ checkdisk.shï¼Œæ£€æŸ¥ç£ç›˜åˆ†åŒºç©ºé—´å’Œinodeä½¿ç”¨ç‡ï¼Œå¦‚æœè¶…è¿‡80%ï¼Œå°±å‘å¹¿æ’­è­¦å‘Šç©ºé—´å°†æ»¡
4ã€ç¼–å†™è„šæœ¬ per.shï¼Œåˆ¤æ–­å½“å‰ç”¨æˆ·å¯¹æŒ‡å®šå‚æ•°æ–‡ä»¶ï¼Œæ˜¯å¦ä¸å¯è¯»å¹¶ä¸”ä¸å¯å†™
5ã€ç¼–å†™è„šæœ¬ excute.sh ï¼Œåˆ¤æ–­å‚æ•°æ–‡ä»¶æ˜¯å¦ä¸ºshåç¼€çš„æ™®é€šæ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œæ·»åŠ æ‰€æœ‰äººå¯æ‰§è¡Œæƒé™ï¼Œå¦åˆ™æç¤ºç”¨æˆ·éè„šæœ¬æ–‡ä»¶
6ã€ç¼–å†™è„šæœ¬ nologin.shå’Œ login.shï¼Œå®ç°ç¦æ­¢å’Œå…è®¸æ™®é€šç”¨æˆ·ç™»å½•ç³»ç»Ÿ</p>
<h2 id="213-ä½¿ç”¨readå‘½ä»¤æ¥æ¥å—è¾“å…¥">2.13 ä½¿ç”¨readå‘½ä»¤æ¥æ¥å—è¾“å…¥<a hidden class="anchor" aria-hidden="true" href="#213-ä½¿ç”¨readå‘½ä»¤æ¥æ¥å—è¾“å…¥">#</a></h2>
<p>ä½¿ç”¨readæ¥æŠŠè¾“å…¥å€¼åˆ†é…ç»™ä¸€ä¸ªæˆ–å¤šä¸ªshellå˜é‡ï¼Œreadä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–å€¼ï¼Œç»™æ¯ä¸ªå•è¯åˆ†é…ä¸€ä¸ªå˜é‡ï¼Œæ‰€æœ‰å‰©ä½™å•è¯éƒ½è¢«åˆ†é…ç»™æœ€åä¸€ä¸ªå˜é‡ï¼Œå¦‚æœå˜é‡åæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤æ ‡å‡†è¾“å…¥çš„å€¼èµ‹å€¼ç»™ç³»ç»Ÿå†…ç½®å˜é‡REPLY
æ ¼å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>read [options] [name ...]
</span></span></code></pre></div><p><strong>å¸¸ç”¨é€‰é¡¹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-p æŒ‡å®šè¦æ˜¾ç¤ºçš„æç¤º
</span></span><span style="display:flex;"><span>-s é™é»˜è¾“å…¥ï¼Œä¸€èˆ¬ç”¨äºå¯†ç 
</span></span><span style="display:flex;"><span>-n N æŒ‡å®šè¾“å…¥çš„å­—ç¬¦é•¿åº¦N
</span></span><span style="display:flex;"><span>-d &#39;å­—ç¬¦&#39; è¾“å…¥ç»“æŸç¬¦
</span></span><span style="display:flex;"><span>-t N TIMEOUTä¸ºNç§’
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@rocky ~]# read -p &#39;è¯·è¾“å…¥ä»»æ„å†…å®¹&#39; NAME
</span></span><span style="display:flex;"><span>è¯·è¾“å…¥ä»»æ„å†…å®¹yuan
</span></span><span style="display:flex;"><span>[root@rocky ~]# echo ${NAME}
</span></span><span style="display:flex;"><span>yuan
</span></span><span style="display:flex;"><span>[root@rocky ~]# 
</span></span></code></pre></div><h1 id="3--æ¡ä»¶é€‰æ‹©if">3  æ¡ä»¶é€‰æ‹©if<a hidden class="anchor" aria-hidden="true" href="#3--æ¡ä»¶é€‰æ‹©if">#</a></h1>
<p><strong>æ ¼å¼ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>if COMMANDS; then COMMANDS; [ elif COMMANDS; then COMMANDS; ]... [ else
</span></span><span style="display:flex;"><span>COMMANDS; ] fi
</span></span></code></pre></div><p><strong>å•åˆ†æ”¯ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>if åˆ¤æ–­æ¡ä»¶;then
</span></span><span style="display:flex;"><span>æ¡ä»¶ä¸ºçœŸçš„åˆ†æ”¯ä»£ç 
</span></span><span style="display:flex;"><span>fi
</span></span></code></pre></div><p><strong>åŒåˆ†æ”¯ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>if åˆ¤æ–­æ¡ä»¶; then
</span></span><span style="display:flex;"><span>æ¡ä»¶ä¸ºçœŸçš„åˆ†æ”¯ä»£ç 
</span></span><span style="display:flex;"><span>else
</span></span><span style="display:flex;"><span>æ¡ä»¶ä¸ºå‡çš„åˆ†æ”¯ä»£ç 
</span></span><span style="display:flex;"><span>fi
</span></span></code></pre></div><p><strong>å¤šåˆ†æ”¯ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>if åˆ¤æ–­æ¡ä»¶1; then
</span></span><span style="display:flex;"><span>æ¡ä»¶1ä¸ºçœŸçš„åˆ†æ”¯ä»£ç 
</span></span><span style="display:flex;"><span>elif åˆ¤æ–­æ¡ä»¶2; then
</span></span><span style="display:flex;"><span>æ¡ä»¶2ä¸ºçœŸçš„åˆ†æ”¯ä»£ç 
</span></span><span style="display:flex;"><span>elif åˆ¤æ–­æ¡ä»¶3; then
</span></span><span style="display:flex;"><span>æ¡ä»¶3ä¸ºçœŸçš„åˆ†æ”¯ä»£ç 
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>else
</span></span><span style="display:flex;"><span>ä»¥ä¸Šæ¡ä»¶éƒ½ä¸ºå‡çš„åˆ†æ”¯ä»£ç 
</span></span><span style="display:flex;"><span>fi
</span></span></code></pre></div><h1 id="4-å¾ªç¯">4 å¾ªç¯<a hidden class="anchor" aria-hidden="true" href="#4-å¾ªç¯">#</a></h1>
<h2 id="41-forå¾ªç¯">4.1 forå¾ªç¯<a hidden class="anchor" aria-hidden="true" href="#41-forå¾ªç¯">#</a></h2>
<p><strong>å¸®åŠ©ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>help for
</span></span></code></pre></div><p><strong>æ ¼å¼ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>for NAME [in WORDS ... ] ; do COMMANDS; done
</span></span><span style="display:flex;"><span>#æ–¹å¼1
</span></span><span style="display:flex;"><span>for å˜é‡å in åˆ—è¡¨;do
</span></span><span style="display:flex;"><span>å¾ªç¯ä½“
</span></span><span style="display:flex;"><span>done
</span></span><span style="display:flex;"><span>#æ–¹å¼2
</span></span><span style="display:flex;"><span>for å˜é‡å in åˆ—è¡¨
</span></span><span style="display:flex;"><span>do
</span></span><span style="display:flex;"><span>å¾ªç¯ä½“
</span></span><span style="display:flex;"><span>done
</span></span></code></pre></div><p><strong>æ‰§è¡Œæœºåˆ¶ï¼š</strong></p>
<ul>
<li>ä¾æ¬¡å°†åˆ—è¡¨ä¸­çš„å…ƒç´ èµ‹å€¼ç»™â€œå˜é‡åâ€; æ¯æ¬¡èµ‹å€¼åå³æ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“; ç›´åˆ°åˆ—è¡¨ä¸­çš„å…ƒç´ è€—å°½ï¼Œå¾ªç¯ç»“æŸ</li>
<li>å¦‚æœçœç•¥ [in WORDS &hellip; ] ï¼Œæ­¤æ—¶ä½¿ç”¨ä½ç½®å‚æ•°å˜é‡ in &ldquo;$@&rdquo;</li>
</ul>
<p><strong>for å¾ªç¯åˆ—è¡¨ç”Ÿæˆæ–¹å¼ï¼š</strong></p>
<ul>
<li>ç›´æ¥ç»™å‡ºåˆ—è¡¨</li>
<li>æ•´æ•°åˆ—è¡¨ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>{start..end}
</span></span><span style="display:flex;"><span>$(seq [start [step]] end)
</span></span></code></pre></div><ul>
<li>è¿”å›åˆ—è¡¨çš„å‘½ä»¤</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$(COMMAND)
</span></span></code></pre></div><ul>
<li>ä½¿ç”¨globï¼Œå¦‚ï¼š<em>.sh</em></li>
<li><em>å˜é‡å¼•ç”¨ï¼Œå¦‚ï¼š$@ï¼Œ$</em>ï¼Œ$#</li>
</ul>
<p><strong>èŒƒä¾‹ï¼šè®¡ç®—1+Â·Â·Â·+100çš„å€¼</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#sum=0;for i in {1..100};do let sum+=i;done ;echo sum=$sum</span>
</span></span><span style="display:flex;"><span>sum<span style="color:#f92672">=</span><span style="color:#ae81ff">5050</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#seq -s+ 100|bc5050</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5050</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#echo {1..100}|tr &#39; &#39; +|bc</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5050</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@centos8 ~<span style="color:#f92672">]</span><span style="color:#75715e">#seq 100|paste -sd +|bc</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5050</span>
</span></span></code></pre></div><h2 id="42-whileå¾ªç¯">4.2 whileå¾ªç¯<a hidden class="anchor" aria-hidden="true" href="#42-whileå¾ªç¯">#</a></h2>
<p><strong>æ ¼å¼</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> COMMANDS; <span style="color:#66d9ef">do</span> COMMANDS; <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> CONDITION; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>å¾ªç¯ä½“
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p><strong>æ‰©å±•:ncå‘½ä»¤</strong></p>
<p>ncå‘½ä»¤ å…¨ç§°netcatï¼Œç”¨äºè®¾ç½®è·¯ç”±å™¨ã€‚å®ƒèƒ½é€šè¿‡ TCP å’Œ UDP åœ¨ç½‘ç»œä¸­è¯»å†™æ•°æ®ã€‚é€šè¿‡ä¸å…¶ä»–å·¥å…·ç»“åˆå’Œé‡å®šå‘ï¼Œä½ å¯ä»¥åœ¨è„šæœ¬ä¸­ä»¥å¤šç§æ–¹å¼ä½¿ç”¨å®ƒã€‚ä½¿ç”¨ netcat å‘½ä»¤æ‰€èƒ½å®Œæˆçš„äº‹æƒ…ä»¤äººæƒŠè®¶ã€‚</p>
<p><strong>é€‰é¡¹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-g&lt;ç½‘å…³&gt; è®¾ç½®è·¯ç”±å™¨è·ƒç¨‹é€šä¿¡ç½‘å…³ï¼Œæœ€å¤šå¯è®¾ç½®8ä¸ªã€‚
</span></span><span style="display:flex;"><span>-G&lt;æŒ‡å‘å™¨æ•°ç›®&gt; è®¾ç½®æ¥æºè·¯ç”±æŒ‡å‘å™¨ï¼Œå…¶æ•°å€¼ä¸º4çš„å€æ•°ã€‚
</span></span><span style="display:flex;"><span>-h åœ¨çº¿å¸®åŠ©ã€‚
</span></span><span style="display:flex;"><span>-i&lt;å»¶è¿Ÿç§’æ•°&gt; è®¾ç½®æ—¶é—´é—´éš”ï¼Œä»¥ä¾¿ä¼ é€ä¿¡æ¯åŠæ‰«æé€šä¿¡ç«¯å£ã€‚
</span></span><span style="display:flex;"><span>-l ä½¿ç”¨ç›‘å¬æ¨¡å¼ï¼Œç®¡æ§ä¼ å…¥çš„èµ„æ–™ã€‚
</span></span><span style="display:flex;"><span>-n ç›´æ¥ä½¿ç”¨IPåœ°å€ï¼Œè€Œä¸é€šè¿‡åŸŸåæœåŠ¡å™¨ã€‚
</span></span><span style="display:flex;"><span>-o&lt;è¾“å‡ºæ–‡ä»¶&gt; æŒ‡å®šæ–‡ä»¶åç§°ï¼ŒæŠŠå¾€æ¥ä¼ è¾“çš„æ•°æ®ä»¥16è¿›åˆ¶å­—ç å€¾å€’æˆè¯¥æ–‡ä»¶ä¿å­˜ã€‚
</span></span><span style="display:flex;"><span>-p&lt;é€šä¿¡ç«¯å£&gt; è®¾ç½®æœ¬åœ°ä¸»æœºä½¿ç”¨çš„é€šä¿¡ç«¯å£ã€‚
</span></span><span style="display:flex;"><span>-r ä¹±æ•°æŒ‡å®šæœ¬åœ°ä¸è¿œç«¯ä¸»æœºçš„é€šä¿¡ç«¯å£ã€‚
</span></span><span style="display:flex;"><span>-s&lt;æ¥æºä½å€&gt; è®¾ç½®æœ¬åœ°ä¸»æœºé€å‡ºæ•°æ®åŒ…çš„IPåœ°å€ã€‚
</span></span><span style="display:flex;"><span>-u ä½¿ç”¨UDPä¼ è¾“åè®®ã€‚
</span></span><span style="display:flex;"><span>-v æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ã€‚
</span></span><span style="display:flex;"><span>-w&lt;è¶…æ—¶ç§’æ•°&gt; è®¾ç½®ç­‰å¾…è¿çº¿çš„æ—¶é—´ã€‚
</span></span><span style="display:flex;"><span>-z ä½¿ç”¨0è¾“å…¥/è¾“å‡ºæ¨¡å¼ï¼Œåªåœ¨æ‰«æé€šä¿¡ç«¯å£æ—¶ä½¿ç”¨ã€‚
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># TCPç«¯å£æ‰«æ</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@rocky ~<span style="color:#f92672">]</span><span style="color:#75715e"># nc -zv 192.168.179.129 80</span>
</span></span><span style="display:flex;"><span>Ncat: Version 7.70 <span style="color:#f92672">(</span> https://nmap.org/ncat <span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Ncat: Connected to 192.168.179.129:80.
</span></span><span style="display:flex;"><span>Ncat: <span style="color:#ae81ff">0</span> bytes sent, <span style="color:#ae81ff">0</span> bytes received in 0.01 seconds.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@rocky ~<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span></code></pre></div><p><strong>èŒƒä¾‹:å†™ä¸€ä¸ªæ‰«ææŸä¸ªä¸»æœºç«¯å£çš„çŠ¶æ€çš„è„šæœ¬</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e"># å˜é‡</span>
</span></span><span style="display:flex;"><span>i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä¸»æœºIP</span>
</span></span><span style="display:flex;"><span>host<span style="color:#f92672">=</span>192.168.179.138
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ¸…ç©ºæ–‡ä»¶å†…å®¹</span>
</span></span><span style="display:flex;"><span>cat /dev/null &gt;port.TXT
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¾ªç¯ç«¯å£1-100</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#f92672">[</span> $i -le <span style="color:#ae81ff">100</span> <span style="color:#f92672">]</span>;<span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># æ‰«æç«¯å£å¹¶å°†ä¿¡æ¯æ”¾å…¥åƒåœ¾ç®±</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> nc -z <span style="color:#e6db74">${</span>host<span style="color:#e6db74">}</span> <span style="color:#e6db74">${</span>i<span style="color:#e6db74">}</span> &amp;&gt; /dev/null;<span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># å±å¹•æ‰“å°IP+port,è¾“å‡ºé‡å®šå‘åˆ°port.TXT</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">${</span>host<span style="color:#e6db74">}</span>:<span style="color:#e6db74">${</span>i<span style="color:#e6db74">}</span> | tee -a port.TXT
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># i++</span>
</span></span><span style="display:flex;"><span>    let i++
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><h1 id="5-å…¶ä»–è„šæœ¬ç›¸å…³å·¥å…·">5 å…¶ä»–è„šæœ¬ç›¸å…³å·¥å…·<a hidden class="anchor" aria-hidden="true" href="#5-å…¶ä»–è„šæœ¬ç›¸å…³å·¥å…·">#</a></h1>
<h2 id="51-trapå‘½ä»¤">5.1 trapå‘½ä»¤<a hidden class="anchor" aria-hidden="true" href="#51-trapå‘½ä»¤">#</a></h2>
<p>trapå‘½ä»¤å¯ä»¥æ•æ‰ä¿¡å·ï¼Œä¿®æ”¹ä¿¡å·åŸæœ‰çš„åŠŸèƒ½ï¼Œå®ç°è‡ªå®šä¹‰åŠŸèƒ½</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># æŸ¥çœ‹ä¿¡å·trap -l æˆ–è€…kill -l
</span></span><span style="display:flex;"><span>root@ubuntu200404-1:/data/scripts# kill -l
</span></span><span style="display:flex;"><span> 1) SIGHUP	 2) SIGINT	 3) SIGQUIT	 4) SIGILL	 5) SIGTRAP
</span></span><span style="display:flex;"><span> 6) SIGABRT	 7) SIGBUS	 8) SIGFPE	 9) SIGKILL	10) SIGUSR1
</span></span><span style="display:flex;"><span>11) SIGSEGV	12) SIGUSR2	13) SIGPIPE	14) SIGALRM	15) SIGTERM
</span></span><span style="display:flex;"><span>16) SIGSTKFLT	17) SIGCHLD	18) SIGCONT	19) SIGSTOP	20) SIGTSTP
</span></span><span style="display:flex;"><span>21) SIGTTIN	22) SIGTTOU	23) SIGURG	24) SIGXCPU	25) SIGXFSZ
</span></span><span style="display:flex;"><span>26) SIGVTALRM	27) SIGPROF	28) SIGWINCH	29) SIGIO	30) SIGPWR
</span></span><span style="display:flex;"><span>31) SIGSYS	34) SIGRTMIN	35) SIGRTMIN+1	36) SIGRTMIN+2	37) SIGRTMIN+3
</span></span><span style="display:flex;"><span>38) SIGRTMIN+4	39) SIGRTMIN+5	40) SIGRTMIN+6	41) SIGRTMIN+7	42) SIGRTMIN+8
</span></span><span style="display:flex;"><span>43) SIGRTMIN+9	44) SIGRTMIN+10	45) SIGRTMIN+11	46) SIGRTMIN+12	47) SIGRTMIN+13
</span></span><span style="display:flex;"><span>48) SIGRTMIN+14	49) SIGRTMIN+15	50) SIGRTMAX-14	51) SIGRTMAX-13	52) SIGRTMAX-12
</span></span><span style="display:flex;"><span>53) SIGRTMAX-11	54) SIGRTMAX-10	55) SIGRTMAX-9	56) SIGRTMAX-8	57) SIGRTMAX-7
</span></span><span style="display:flex;"><span>58) SIGRTMAX-6	59) SIGRTMAX-5	60) SIGRTMAX-4	61) SIGRTMAX-3	62) SIGRTMAX-2
</span></span><span style="display:flex;"><span>63) SIGRTMAX-1	64) SIGRTMAX	
</span></span><span style="display:flex;"><span>root@ubuntu200404-1:/data/scripts#
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># è¿›ç¨‹æ”¶åˆ°ç³»ç»Ÿå‘å‡ºçš„åˆ¶å®šä¿¡å·åï¼Œå°†æ‰§è¡Œè‡ªå®šä¹‰æŒ‡ä»¤ï¼Œè€Œä¸ä¼šæ‰§åŸæ“ä½œ
</span></span><span style="display:flex;"><span>trap &#39;è§¦å‘æŒ‡ä»¤&#39; ä¿¡å·
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å¿½ç•¥ä¿¡å·çš„æ“ä½œ
</span></span><span style="display:flex;"><span>trap &#39;&#39; ä¿¡å·
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># æ¢å¤åŸä¿¡å·çš„æ“ä½œ
</span></span><span style="display:flex;"><span>trap &#39;-&#39; ä¿¡å·
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># åˆ—å‡ºè‡ªå®šä¹‰çš„æ“ä½œ
</span></span><span style="display:flex;"><span>trap -p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å½“è„šæœ¬é€€å‡ºæ—¶ï¼Œæ‰§è¡Œfinishå‡½æ•°
</span></span><span style="display:flex;"><span>trap finish exit
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰“å°press ctrl+c or ctrl+\   replace int quit</span>
</span></span><span style="display:flex;"><span>trap <span style="color:#e6db74">&#34;echo &#39;press ctrl+c or ctrl+\ &#39;&#34;</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ—å‡º è‡ªå®šä¹‰çš„æ“ä½œ    </span>
</span></span><span style="display:flex;"><span>trap -p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¾ªç¯å¹¶æ‰“å°1-10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰“å°1-10é”®ç›˜æŒ‰ctrl+cæ‰“å°press ctrl+c or ctrl</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#f92672">((</span>i<span style="color:#f92672">=</span>1;i&lt;<span style="color:#f92672">=</span>10;i++<span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	sleep <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">${</span>i<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¿½ç•¥2 3ä¿¡å·æ“ä½œ</span>
</span></span><span style="display:flex;"><span>trap <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰“å°å‡ºè‡ªå®šä¹‰æ“ä½œ</span>
</span></span><span style="display:flex;"><span>trap -p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰“å°11-20</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰“å°11-20çš„æ—¶å€™é”®ç›˜æŒ‰ctrl+cæ²¡æœ‰ä»»ä½•æ“ä½œ</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span><span style="color:#f92672">((</span>i<span style="color:#f92672">=</span>11;i&lt;<span style="color:#f92672">=</span>20;i++<span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	sleep <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">${</span>i<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ¢å¤åŸä¿¡å·æ“ä½œ</span>
</span></span><span style="display:flex;"><span>trap <span style="color:#e6db74">&#39;-&#39;</span> int
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ—å‡ºä¿¡å·æ“ä½œ</span>
</span></span><span style="display:flex;"><span>trap -p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰“å°21-30é”®ç›˜æŒ‰ctrl+c é€€å‡º</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span><span style="color:#f92672">((</span>i<span style="color:#f92672">=</span>21;i&lt;<span style="color:#f92672">=</span>30;i++<span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>        sleep <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">${</span>i<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>finsh<span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">`</span>date +%F-%T<span style="color:#e6db74">`</span>-finsh | tee -a /data/finsh.log
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ•æ‰åˆ°é€€å‡ºæ‰§è¡Œfinsh   trapæˆ–è€…exit</span>
</span></span><span style="display:flex;"><span>trap finsh exit
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> true;<span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	echo running
</span></span><span style="display:flex;"><span>	sleep <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p><strong>åˆ›å»ºä¸´æ—¶æ–‡ä»¶</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># mktemp testXXXX
</span></span><span style="display:flex;"><span>root@ubuntu200404-1:/data/scripts# mktemp testXXXXXX.log
</span></span><span style="display:flex;"><span>testdnlqM9.log
</span></span><span style="display:flex;"><span>root@ubuntu200404-1:/data/scripts# 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># åˆ›å»ºä¸´æ—¶ç›®å½•
</span></span><span style="display:flex;"><span>root@ubuntu200404-1:/data/scripts# mktemp -d testXXX
</span></span><span style="display:flex;"><span>testGio
</span></span><span style="display:flex;"><span>root@ubuntu200404-1:/data/scripts#
</span></span></code></pre></div><h2 id="5-2-exceptå®ç°è‡ªåŠ¨åŒ–çš„éäº¤äº’æ“ä½œ">5. 2 exceptå®ç°è‡ªåŠ¨åŒ–çš„éäº¤äº’æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#5-2-exceptå®ç°è‡ªåŠ¨åŒ–çš„éäº¤äº’æ“ä½œ">#</a></h2>
<p>expect æ˜¯ç”±Don LibesåŸºäº Tclï¼ˆ Tool Command Language ï¼‰è¯­è¨€å¼€å‘çš„ï¼Œä¸»è¦åº”ç”¨äºè‡ªåŠ¨åŒ–äº¤äº’å¼
æ“ä½œçš„åœºæ™¯ï¼Œå€ŸåŠ© expect å¤„ç†äº¤äº’çš„å‘½ä»¤ï¼Œå¯ä»¥å°†äº¤äº’è¿‡ç¨‹å¦‚ï¼šsshç™»å½•ï¼Œftpç™»å½•ç­‰å†™åœ¨ä¸€ä¸ªè„šæœ¬
ä¸Šï¼Œä½¿ä¹‹è‡ªåŠ¨åŒ–å®Œæˆã€‚å°¤å…¶é€‚ç”¨äºéœ€è¦å¯¹å¤šå°æœåŠ¡å™¨æ‰§è¡Œç›¸åŒæ“ä½œçš„ç¯å¢ƒä¸­ï¼Œå¯ä»¥å¤§å¤§æé«˜ç³»ç»Ÿç®¡ç†äºº
å‘˜çš„å·¥ä½œæ•ˆç‡ã€‚</p>
<p><strong>expectè¯­æ³•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>expect [é€‰é¡¹] [ -c cmds ] [ [ -[f|b] ] cmdfile ] [ args ]
</span></span></code></pre></div><p><strong>å¸¸è§é€‰é¡¹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-cï¼šä»å‘½ä»¤è¡Œæ‰§è¡Œexpectè„šæœ¬ï¼Œé»˜è®¤expectæ˜¯äº¤äº’åœ°æ‰§è¡Œçš„
</span></span><span style="display:flex;"><span>-dï¼šå¯ä»¥è°ƒè¯•ä¿¡æ¯	
</span></span></code></pre></div><p><strong>expectä¸­ç›¸å…³å‘½ä»¤</strong></p>
<ul>
<li>spawn	å¯åŠ¨æ–°çš„è¿›ç¨‹</li>
<li>expect    ä»è¿›ç¨‹æ¥æ”¶å­—ç¬¦ä¸²</li>
<li>send ç”¨äºå‘è¿›ç¨‹å‘é€å­—ç¬¦ä¸²</li>
<li>interact å…è®¸ç”¨æˆ·äº¤äº’</li>
<li>exp_continue åŒ¹é…å¤šä¸ªå­—ç¬¦ä¸²åœ¨æ‰§è¡ŒåŠ¨ä½œååŠ æ­¤å‘½ä»¤</li>
</ul>
<p><strong>èŒƒä¾‹1:è‡ªåŠ¨ç™»å½•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># åˆ›å»ºæ–‡ä»¶
</span></span><span style="display:flex;"><span>vim filename
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># è„šæœ¬å†…å®¹
</span></span><span style="display:flex;"><span>#!/usr/bin/expect
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å¯åŠ¨æ–°çš„è¿›ç¨‹
</span></span><span style="display:flex;"><span>spawn ssh 192.168.179.138
</span></span><span style="display:flex;"><span># ä»è¿›ç¨‹æ¥æ”¶å­—ç¬¦ä¸²
</span></span><span style="display:flex;"><span>expect {
</span></span><span style="display:flex;"><span>	# åŒ¹é…åˆ°yse/noï¼Œè¾“å…¥yes
</span></span><span style="display:flex;"><span>	&#34;yes/no&#34; {send &#34;yes\n&#34;;exp_continue }
</span></span><span style="display:flex;"><span>	&#34;password&#34; { send &#34;123456\n&#34; }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span># å…è®¸ç”¨æˆ·äº¤äº’
</span></span><span style="display:flex;"><span>interact
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># æ·»åŠ å¯æ‰§è¡Œæƒé™
</span></span><span style="display:flex;"><span>chmod +x filename
</span></span><span style="display:flex;"><span># æ‰§è¡Œ
</span></span><span style="display:flex;"><span>./filename
</span></span></code></pre></div><p><strong>æ‰©å±•ï¼šscpå‘½ä»¤</strong></p>
<p><strong>è¯­æ³•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>scp é€‰é¡¹ å‚æ•°
</span></span></code></pre></div><p><strong>é€‰é¡¹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-1ï¼šä½¿ç”¨sshåè®®ç‰ˆæœ¬1ï¼›
</span></span><span style="display:flex;"><span>-2ï¼šä½¿ç”¨sshåè®®ç‰ˆæœ¬2ï¼›
</span></span><span style="display:flex;"><span>-4ï¼šä½¿ç”¨ipv4ï¼›
</span></span><span style="display:flex;"><span>-6ï¼šä½¿ç”¨ipv6ï¼›
</span></span><span style="display:flex;"><span>-Bï¼šä»¥æ‰¹å¤„ç†æ¨¡å¼è¿è¡Œï¼›
</span></span><span style="display:flex;"><span>-Cï¼šä½¿ç”¨å‹ç¼©ï¼›
</span></span><span style="display:flex;"><span>-Fï¼šæŒ‡å®šsshé…ç½®æ–‡ä»¶ï¼›
</span></span><span style="display:flex;"><span>-iï¼šidentity_file ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ä¼ è¾“æ—¶ä½¿ç”¨çš„å¯†é’¥æ–‡ä»¶ï¼ˆä¾‹å¦‚äºšé©¬é€Šäº‘pemï¼‰ï¼Œæ­¤å‚æ•°ç›´æ¥ä¼ é€’ç»™sshï¼›
</span></span><span style="display:flex;"><span>-lï¼šæŒ‡å®šå®½å¸¦é™åˆ¶ï¼›
</span></span><span style="display:flex;"><span>-oï¼šæŒ‡å®šä½¿ç”¨çš„sshé€‰é¡¹ï¼›
</span></span><span style="display:flex;"><span>-Pï¼šæŒ‡å®šè¿œç¨‹ä¸»æœºçš„ç«¯å£å·ï¼›
</span></span><span style="display:flex;"><span>-pï¼šä¿ç•™æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œæœ€åè®¿é—®æ—¶é—´å’Œæƒé™æ¨¡å¼ï¼›
</span></span><span style="display:flex;"><span>-qï¼šä¸æ˜¾ç¤ºå¤åˆ¶è¿›åº¦ï¼›
</span></span><span style="display:flex;"><span>-rï¼šä»¥é€’å½’æ–¹å¼å¤åˆ¶ã€‚
</span></span></code></pre></div><p><strong>å®ä¾‹</strong>
ä»è¿œç¨‹å¤åˆ¶åˆ°æœ¬åœ°çš„scpå‘½ä»¤ä¸ä¸Šé¢çš„å‘½ä»¤é›·åŒï¼Œåªè¦å°†ä»æœ¬åœ°å¤åˆ¶åˆ°è¿œç¨‹çš„å‘½ä»¤åé¢2ä¸ªå‚æ•°äº’æ¢é¡ºåºå°±è¡Œäº†ã€‚</p>
<p><strong>ä»è¿œç¨‹æœºå™¨å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°ç›®å½•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>scp root@10.10.10.10:/opt/soft/nginx-0.5.38.tar.gz /opt/soft/
</span></span></code></pre></div><p>ä»10.10.10.10æœºå™¨ä¸Šçš„/opt/soft/çš„ç›®å½•ä¸­ä¸‹è½½nginx-0.5.38.tar.gz æ–‡ä»¶åˆ°æœ¬åœ°/opt/soft/ç›®å½•ä¸­ã€‚</p>
<p><strong>ä»è¿œç¨‹æœºå™¨å¤åˆ¶ç›®å½•åˆ°æœ¬åœ°</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>scp -r root@10.10.10.10:/opt/soft/mongodb /opt/soft/
</span></span></code></pre></div><p>ä»10.10.10.10æœºå™¨ä¸Šçš„/opt/soft/ä¸­ä¸‹è½½mongodbç›®å½•åˆ°æœ¬åœ°çš„/opt/soft/ç›®å½•æ¥ã€‚</p>
<p><strong>ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°è¿œç¨‹æœºå™¨æŒ‡å®šç›®å½•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>scp /opt/soft/nginx-0.5.38.tar.gz root@10.10.10.10:/opt/soft/scptest
</span></span><span style="display:flex;"><span># æŒ‡å®šç«¯å£ 2222
</span></span><span style="display:flex;"><span>scp -rp -P 2222 /opt/soft/nginx-0.5.38.tar.gz root@10.10.10.10:/opt/soft/scptest
</span></span></code></pre></div><p>å¤åˆ¶æœ¬åœ°/opt/soft/ç›®å½•ä¸‹çš„æ–‡ä»¶nginx-0.5.38.tar.gzåˆ°è¿œç¨‹æœºå™¨10.10.10.10çš„opt/soft/scptestç›®å½•ã€‚</p>
<p><strong>ä¸Šä¼ æœ¬åœ°ç›®å½•åˆ°è¿œç¨‹æœºå™¨æŒ‡å®šç›®å½•</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>scp -r /opt/soft/mongodb root@10.10.10.10:/opt/soft/scptest
</span></span></code></pre></div><p>ä¸Šä¼ æœ¬åœ°ç›®å½•/opt/soft/mongodbåˆ°è¿œç¨‹æœºå™¨10.10.10.10ä¸Š/opt/soft/scptestçš„ç›®å½•ä¸­å»ã€‚</p>
<p><strong>èŒƒä¾‹2:éäº¤äº’å¼å¤åˆ¶æ–‡ä»¶</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#!/usr/bin/expect
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å¼€å¯æ–°çš„è¿›ç¨‹,å¤åˆ¶å½“å‰ä¸»æœºä¸‹çš„/root/hello.shåˆ°è¿œç¨‹ä¸»æœº
</span></span><span style="display:flex;"><span>spawn scp /root/hello.sh root@192.168.179.129:/root
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>expect {
</span></span><span style="display:flex;"><span>	# åŒ¹é…åˆ°yes/noï¼Œè¾“å…¥yes
</span></span><span style="display:flex;"><span>	&#34;yes/no&#34; { send &#34;yes\n&#34;;exp_continue}
</span></span><span style="display:flex;"><span>	&#34;password&#34; { send &#34;123456\n&#34;}	
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>expect eof
</span></span></code></pre></div><p><strong>èŒƒä¾‹3:å˜é‡</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#!/usr/bin/expect
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># æ·»åŠ å˜é‡
</span></span><span style="display:flex;"><span>set ip 192.168.179.138
</span></span><span style="display:flex;"><span>set user root
</span></span><span style="display:flex;"><span>set passwd 123456
</span></span><span style="display:flex;"><span>set timeout 10
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å¯åŠ¨æ–°çš„è¿›ç¨‹
</span></span><span style="display:flex;"><span>spawn ssh ${user}@${ip}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>expect {
</span></span><span style="display:flex;"><span>	&#34;yes/no&#34; { send &#34;yes\n&#34;;exp_continue}
</span></span><span style="display:flex;"><span>	&#34;password&#34; { send &#34;$passwd\n&#34; }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å…è®¸äº¤äº’å¼æ“ä½œ
</span></span><span style="display:flex;"><span>interact
</span></span></code></pre></div><p><strong>èŒƒä¾‹4:ä½ç½®å‚æ•°</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#!/usr/bin/expect
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># æ·»åŠ å˜é‡
</span></span><span style="display:flex;"><span>set ip [lindex $argv 0]
</span></span><span style="display:flex;"><span>set user [lindex $argv 1]
</span></span><span style="display:flex;"><span>set passwd [lindex $argv 2]
</span></span><span style="display:flex;"><span>set timeout 10
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å¯åŠ¨æ–°çš„è¿›ç¨‹
</span></span><span style="display:flex;"><span>spawn ssh ${user}@${ip}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>expect {
</span></span><span style="display:flex;"><span>	&#34;yes/no&#34; { send &#34;yes\n&#34;;exp_continue}
</span></span><span style="display:flex;"><span>	&#34;password&#34; { send &#34;$passwd\n&#34; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span># å…è®¸äº¤äº’å¼æ“ä½œ
</span></span><span style="display:flex;"><span>interact
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># æ·»åŠ æ‰§è¡Œæƒé™
</span></span><span style="display:flex;"><span>[root@centos7 ~]# chmmod +x expect3
</span></span><span style="display:flex;"><span># åé¢è·Ÿä¸‰ä¸ªå‚æ•°
</span></span><span style="display:flex;"><span>[root@centos7 ~]# ./expect3 192.168.179.138 root 123456
</span></span></code></pre></div><p><strong>èŒƒä¾‹5:æ‰§è¡Œå¤šä¸ªå‘½ä»¤</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#!/usr/bin/expect
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># æ·»åŠ å˜é‡
</span></span><span style="display:flex;"><span>set ip [lindex $argv 0]
</span></span><span style="display:flex;"><span>set user [lindex $argv 1]
</span></span><span style="display:flex;"><span>set passwd [lindex $argv 2]
</span></span><span style="display:flex;"><span>set timeout 10
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å¯åŠ¨æ–°çš„è¿›ç¨‹
</span></span><span style="display:flex;"><span>spawn ssh ${user}@${ip}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>expect {
</span></span><span style="display:flex;"><span>	&#34;yes/no&#34; { send &#34;yes\n&#34;;exp_continue}
</span></span><span style="display:flex;"><span>	&#34;password&#34; { send &#34;$passwd\n&#34; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span># adduser haha
</span></span><span style="display:flex;"><span>expect &#34;]#&#34; { send &#34;useradd haha\n&#34; }
</span></span><span style="display:flex;"><span># passwd set 123456
</span></span><span style="display:flex;"><span>expect &#34;]#&#34; { send &#34;echo 123456 |passwd --stdin haha\n&#34; }
</span></span><span style="display:flex;"><span># logout
</span></span><span style="display:flex;"><span>send &#34;exit\n&#34;
</span></span><span style="display:flex;"><span>expect eof
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[root@centos7 ~]# ./expect4 192.168.179.141 root 123456
</span></span></code></pre></div><p><strong>èŒƒä¾‹6:shellè„šæœ¬è°ƒç”¨expect</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>ip<span style="color:#f92672">=</span>$1
</span></span><span style="display:flex;"><span>user<span style="color:#f92672">=</span>$2
</span></span><span style="display:flex;"><span>password<span style="color:#f92672">=</span>$3
</span></span><span style="display:flex;"><span>expect <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">set timeout 20
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># å¼€å¯æ–°çš„è¿›ç¨‹ï¼Œç™»å½•è¿œç¨‹ä¸»æœº
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">spawn ssh $user@$ip
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">expect {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;yes/no&#34; { send &#34;yes\n&#34;;exp_continue }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;password&#34; { send &#34;$password\n&#34; }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># æ·»åŠ æ–°çš„ç”¨æˆ·
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">expect &#34;]#&#34; { send &#34;useradd hehe\n&#34; }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># è®¾ç½®æ–°å¯†ç 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">expect &#34;]#&#34; { send &#34;echo 123456 |passwd --stdin hehe\n&#34; }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># logout
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">expect &#34;]#&#34; { send &#34;exit\n&#34; }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">expect eof
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos7 ~]# bash expect5.sh 192.168.179.141 root 123456
</span></span></code></pre></div><p><strong>èŒƒä¾‹7: shellè„šæœ¬åˆ©ç”¨å¾ªç¯è°ƒç”¨expectåœ¨CentOSå’ŒUbuntuä¸Šæ‰¹é‡åˆ›å»ºç”¨æˆ·</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>NET=10.0.0
</span></span><span style="display:flex;"><span>user=root
</span></span><span style="display:flex;"><span>password=magedu
</span></span><span style="display:flex;"><span>IPLIST=&#34;
</span></span><span style="display:flex;"><span>7
</span></span><span style="display:flex;"><span>18
</span></span><span style="display:flex;"><span>101
</span></span><span style="display:flex;"><span>&#34;
</span></span><span style="display:flex;"><span>for ID in $IPLIST;do
</span></span><span style="display:flex;"><span>ip=$NET.$ID
</span></span><span style="display:flex;"><span>expect &lt;&lt;EOF
</span></span><span style="display:flex;"><span>set timeout 20
</span></span><span style="display:flex;"><span>spawn ssh $user@$ip
</span></span><span style="display:flex;"><span>expect {
</span></span><span style="display:flex;"><span>&#34;yes/no&#34; { send &#34;yes\n&#34;;exp_continue }
</span></span><span style="display:flex;"><span>&#34;password&#34; { send &#34;$password\n&#34; }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>expect &#34;#&#34; { send &#34;useradd test\n&#34; }
</span></span><span style="display:flex;"><span>expect &#34;#&#34; { send &#34;exit\n&#34; }
</span></span><span style="display:flex;"><span>expect eof
</span></span><span style="display:flex;"><span>EOF
</span></span><span style="display:flex;"><span>done
</span></span></code></pre></div><h1 id="6-æ•°ç»„">6 æ•°ç»„<a hidden class="anchor" aria-hidden="true" href="#6-æ•°ç»„">#</a></h1>
<h2 id="61-æ•°ç»„ä»‹ç»">6.1 æ•°ç»„ä»‹ç»<a hidden class="anchor" aria-hidden="true" href="#61-æ•°ç»„ä»‹ç»">#</a></h2>
<p>å˜é‡ï¼šå­˜å‚¨å•ä¸ªå…ƒç´ çš„å†…å­˜ç©ºé—´
æ•°ç»„ï¼šå­˜å‚¨å¤šä¸ªå…ƒç´ çš„è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œç›¸å½“äºå¤šä¸ªå˜é‡çš„é›†åˆ
æ•°ç»„åå’Œç´¢å¼•</p>
<ul>
<li>ç´¢å¼•çš„ç¼–å·ä»0å¼€å§‹ï¼Œå±äºæ•°å€¼ç´¢å¼•</li>
<li>ç´¢å¼•å¯æ”¯æŒä½¿ç”¨è‡ªå®šä¹‰çš„æ ¼å¼ï¼Œè€Œä¸ä»…æ˜¯æ•°å€¼æ ¼å¼ï¼Œå³ä¸ºå…³è”ç´¢å¼•ï¼Œbash 4.0ç‰ˆæœ¬ä¹‹åå¼€å§‹æ”¯æŒ</li>
<li>bashçš„æ•°ç»„æ”¯æŒç¨€ç–æ ¼å¼ï¼ˆç´¢å¼•ä¸è¿ç»­ï¼‰</li>
</ul>
<h2 id="62-å£°æ˜æ•°ç»„">6.2 å£°æ˜æ•°ç»„<a hidden class="anchor" aria-hidden="true" href="#62-å£°æ˜æ•°ç»„">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#æ™®é€šæ•°ç»„å¯ä»¥ä¸äº‹å…ˆå£°æ˜,ç›´æ¥ä½¿ç”¨
</span></span><span style="display:flex;"><span>declare -a ARRAY_NAME
</span></span><span style="display:flex;"><span>#å…³è”æ•°ç»„å¿…é¡»å…ˆå£°æ˜,å†ä½¿ç”¨
</span></span><span style="display:flex;"><span>declare -A ARRAY_NAME
</span></span></code></pre></div><p><strong>æ³¨:ä¸¤è€…ä¸å¯ç›¸äº’è½¬æ¢</strong></p>
<h2 id="63-æ•°ç»„èµ‹å€¼">6.3 æ•°ç»„èµ‹å€¼<a hidden class="anchor" aria-hidden="true" href="#63-æ•°ç»„èµ‹å€¼">#</a></h2>
<p>æ•°ç»„å…ƒç´ çš„èµ‹å€¼
**(1) ä¸€æ¬¡åªèµ‹å€¼ä¸€ä¸ªå…ƒç´   **</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ARRAY_NAME[INDEX]=VALUE
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>weekdays[0]=&#34;Sunday&#34;
</span></span><span style="display:flex;"><span>weekdays[4]=&#34;Thursday&#34;
</span></span></code></pre></div><p><strong>(2) ä¸€æ¬¡èµ‹å€¼å…¨éƒ¨å…ƒç´ </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ARRAY_NAME=(&#34;VAL1&#34; &#34;VAL2&#34; &#34;VAL3&#34; ...)
</span></span></code></pre></div><p><strong>èŒƒä¾‹:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>title=(&#34;ceo&#34; &#34;coo&#34; &#34;cto&#34;)
</span></span><span style="display:flex;"><span>num=({0..10})
</span></span><span style="display:flex;"><span>alpha=({a..g})
</span></span><span style="display:flex;"><span>file=( *.sh )
</span></span></code></pre></div><p><strong>(3)åªèµ‹å€¼ç‰¹å®šå…ƒç´ </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ARRAY_NAME=([0]=&#34;VAL1&#34; [3]=&#34;VAL2&#34; ...)
</span></span></code></pre></div><p><strong>(4)äº¤äº’å¼èµ‹å€¼å…ƒç´ </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>read -a ARRAY
</span></span></code></pre></div><h2 id="64-æ˜¾ç¤ºæ‰€æœ‰æ•°ç»„">6.4 æ˜¾ç¤ºæ‰€æœ‰æ•°ç»„<a hidden class="anchor" aria-hidden="true" href="#64-æ˜¾ç¤ºæ‰€æœ‰æ•°ç»„">#</a></h2>
<p><strong>æ˜¾ç¤ºæ‰€æœ‰æ•°ç»„</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>declare -a
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos7 ~]# declare -a
</span></span><span style="display:flex;"><span>declare -a BASH_ARGC=&#39;()&#39;
</span></span><span style="display:flex;"><span>declare -a BASH_ARGV=&#39;()&#39;
</span></span><span style="display:flex;"><span>declare -a BASH_LINENO=&#39;()&#39;
</span></span><span style="display:flex;"><span>declare -a BASH_SOURCE=&#39;()&#39;
</span></span><span style="display:flex;"><span>declare -ar BASH_VERSINFO=&#39;([0]=&#34;4&#34; [1]=&#34;2&#34; [2]=&#34;46&#34; [3]=&#34;2&#34; [4]=&#34;release&#34; [5]=&#34;x86_64-redhat-linux-gnu&#34;)&#39;
</span></span><span style="display:flex;"><span>declare -a DIRSTACK=&#39;()&#39;
</span></span><span style="display:flex;"><span>declare -a FUNCNAME=&#39;()&#39;
</span></span><span style="display:flex;"><span>declare -a GROUPS=&#39;()&#39;
</span></span><span style="display:flex;"><span>declare -a PIPESTATUS=&#39;([0]=&#34;0&#34;)&#39;
</span></span><span style="display:flex;"><span>[root@centos7 ~]# 
</span></span></code></pre></div><h2 id="65-å¼•ç”¨æ•°ç»„">6.5 å¼•ç”¨æ•°ç»„<a hidden class="anchor" aria-hidden="true" href="#65-å¼•ç”¨æ•°ç»„">#</a></h2>
<p><strong>å¼•ç”¨ç‰¹å®šçš„æ•°ç»„å…ƒç´ </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${ARRAY_NAME[INDEX]}
</span></span><span style="display:flex;"><span>#å¦‚æœçœç•¥[INDEX]è¡¨ç¤ºå¼•ç”¨ä¸‹æ ‡ä¸º0çš„å…ƒç´ 
</span></span></code></pre></div><p><strong>å¼•ç”¨æ‰€æœ‰æ•°ç»„å…ƒç´ </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${ARRAY_NAME[*]}
</span></span><span style="display:flex;"><span>${ARRAY_NAME[@]}
</span></span></code></pre></div><p><strong>æ•°ç»„çš„é•¿åº¦ï¼Œå³æ•°ç»„çš„å…ƒç´ çš„ä¸ªæ•°</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${#ARRAY_NAME[*]}
</span></span><span style="display:flex;"><span>${#ARRAY_NAME[@]}
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos7 ~]# title[0]=1
</span></span><span style="display:flex;"><span>[root@centos7 ~]# title[1]=1
</span></span><span style="display:flex;"><span>[root@centos7 ~]# title[2]=1
</span></span><span style="display:flex;"><span>[root@centos7 ~]# echo ${#title[*]}
</span></span><span style="display:flex;"><span>3
</span></span><span style="display:flex;"><span>[root@centos7 ~]# 
</span></span></code></pre></div><p><strong>æ•°ç»„çš„æ‰€æœ‰ä¸‹æ ‡</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${!ARRAY_NAME[*]}
</span></span><span style="display:flex;"><span>${!ARRAY_NAME[@]}
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos7 ~]# title[0]=1
</span></span><span style="display:flex;"><span>[root@centos7 ~]# title[1]=1
</span></span><span style="display:flex;"><span>[root@centos7 ~]# title[2]=1
</span></span><span style="display:flex;"><span>[root@centos7 ~]# echo ${!title[*]}
</span></span><span style="display:flex;"><span>0 1 2
</span></span><span style="display:flex;"><span>[root@centos7 ~]# 
</span></span></code></pre></div><h2 id="66-åˆ é™¤æ•°ç»„">6.6 åˆ é™¤æ•°ç»„<a hidden class="anchor" aria-hidden="true" href="#66-åˆ é™¤æ•°ç»„">#</a></h2>
<p><strong>åˆ é™¤æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>unset ARRAY[INDEX]
</span></span></code></pre></div><p><strong>åˆ é™¤æ•´ä¸ªæ•°ç»„</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>unset ARRAY
</span></span></code></pre></div><h2 id="67-æ•°ç»„æ•°æ®å¤„ç†">6.7 æ•°ç»„æ•°æ®å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#67-æ•°ç»„æ•°æ®å¤„ç†">#</a></h2>
<p><strong>æ•°æ®åˆ‡ç‰‡</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${ARRAY[@]:offset:number}
</span></span><span style="display:flex;"><span>${ARRAY[*]:offset:number}
</span></span><span style="display:flex;"><span>offset #è¦è·³è¿‡çš„å…ƒç´ ä¸ªæ•°
</span></span><span style="display:flex;"><span>number #è¦å–å‡ºçš„å…ƒç´ ä¸ªæ•°
</span></span><span style="display:flex;"><span>#å–åç§»é‡ä¹‹åçš„æ‰€æœ‰å…ƒç´ 
</span></span><span style="display:flex;"><span>{ARRAY[@]:offset}
</span></span><span style="display:flex;"><span>{ARRAY[*]:offset}
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos8 ~]#num=({0..10})
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo ${num[*]:2:3}
</span></span><span style="display:flex;"><span>2 3 4
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo ${num[*]:6}
</span></span><span style="display:flex;"><span>6 7 8 9 10
</span></span></code></pre></div><p><strong>å‘æ•°ç»„ä¸­è¿½åŠ å…ƒç´ </strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ARRAY[${#ARRAY[*]}]=value
</span></span><span style="display:flex;"><span>ARRAY[${#ARRAY[@]}]=value
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos8 ~]#num[${#num[@]}]=11
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo ${#num[@]}
</span></span><span style="display:flex;"><span>12
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo ${num[@]}
</span></span><span style="display:flex;"><span>0 1 2 3 4 5 6 7 8 9 10 11
</span></span></code></pre></div><p><strong>èŒƒä¾‹ï¼šç”Ÿæˆ10ä¸ªéšæœºæ•°ä¿å­˜äºæ•°ç»„ä¸­ï¼Œå¹¶æ‰¾å‡ºå…¶æœ€å¤§å€¼å’Œæœ€å°å€¼</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>declare -i min max
</span></span><span style="display:flex;"><span>declare -a nums
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#f92672">((</span>i<span style="color:#f92672">=</span>0;i&lt;10;i++<span style="color:#f92672">))</span>;<span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>nums<span style="color:#f92672">[</span>$i<span style="color:#f92672">]=</span>$RANDOM
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> $i -eq <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> min<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>nums[0]<span style="color:#e6db74">}</span> <span style="color:#f92672">&amp;&amp;</span> max<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>nums[0]<span style="color:#e6db74">}</span><span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> <span style="color:#e6db74">${</span>nums[$i]<span style="color:#e6db74">}</span> -gt $max <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> max<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>nums[$i]<span style="color:#e6db74">}</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> <span style="color:#e6db74">${</span>nums[$i]<span style="color:#e6db74">}</span> -lt $min <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> min<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>nums[$i]<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;All numbers are </span><span style="color:#e6db74">${</span>nums[*]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo Max is $max
</span></span><span style="display:flex;"><span>echo Min is $min
</span></span></code></pre></div><h1 id="7-å­—ç¬¦ä¸²å¤„ç†">7 å­—ç¬¦ä¸²å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#7-å­—ç¬¦ä¸²å¤„ç†">#</a></h1>
<h2 id="71-å­—ç¬¦ä¸²åˆ‡ç‰‡">7.1 å­—ç¬¦ä¸²åˆ‡ç‰‡<a hidden class="anchor" aria-hidden="true" href="#71-å­—ç¬¦ä¸²åˆ‡ç‰‡">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#è¿”å›å­—ç¬¦ä¸²å˜é‡varçš„å­—ç¬¦çš„é•¿åº¦,ä¸€ä¸ªæ±‰å­—ç®—ä¸€ä¸ªå­—ç¬¦
</span></span><span style="display:flex;"><span>${#var}
</span></span><span style="display:flex;"><span>#è¿”å›å­—ç¬¦ä¸²å˜é‡varä¸­ä»ç¬¬offsetä¸ªå­—ç¬¦åï¼ˆä¸åŒ…æ‹¬ç¬¬offsetä¸ªå­—ç¬¦ï¼‰çš„å­—ç¬¦å¼€å§‹ï¼Œåˆ°æœ€åçš„éƒ¨åˆ†ï¼Œ
</span></span><span style="display:flex;"><span>offsetçš„å–å€¼åœ¨0 åˆ° ${#var}-1 ä¹‹é—´(bash4.2åï¼Œå…è®¸ä¸ºè´Ÿå€¼)
</span></span><span style="display:flex;"><span>${var:offset}
</span></span><span style="display:flex;"><span>#è¿”å›å­—ç¬¦ä¸²å˜é‡varä¸­ä»ç¬¬offsetä¸ªå­—ç¬¦åï¼ˆä¸åŒ…æ‹¬ç¬¬offsetä¸ªå­—ç¬¦ï¼‰çš„å­—ç¬¦å¼€å§‹ï¼Œé•¿åº¦ä¸ºnumberçš„éƒ¨åˆ†
</span></span><span style="display:flex;"><span>${var:offset:number}
</span></span><span style="display:flex;"><span>#å–å­—ç¬¦ä¸²çš„æœ€å³ä¾§å‡ ä¸ªå­—ç¬¦,å–å­—ç¬¦ä¸²çš„æœ€å³ä¾§å‡ ä¸ªå­—ç¬¦, æ³¨æ„ï¼šå†’å·åå¿…é¡»æœ‰ä¸€ç©ºç™½å­—ç¬¦
</span></span><span style="display:flex;"><span>${var: -length}
</span></span><span style="display:flex;"><span>#ä»æœ€å·¦ä¾§è·³è¿‡offsetå­—ç¬¦ï¼Œä¸€ç›´å‘å³å–åˆ°è·ç¦»æœ€å³ä¾§lenghä¸ªå­—ç¬¦ä¹‹å‰çš„å†…å®¹,å³:æå¤´å»å°¾
</span></span><span style="display:flex;"><span>${var:offset:-length}
</span></span><span style="display:flex;"><span>#å…ˆä»æœ€å³ä¾§å‘å·¦å–åˆ°lengthä¸ªå­—ç¬¦å¼€å§‹ï¼Œå†å‘å³å–åˆ°è·ç¦»æœ€å³ä¾§offsetä¸ªå­—ç¬¦ä¹‹é—´çš„å†…å®¹,æ³¨æ„ï¼š-
</span></span><span style="display:flex;"><span>lengthå‰ç©ºæ ¼,å¹¶ä¸”lengthå¿…é¡»å¤§äºoffset
</span></span><span style="display:flex;"><span>${var: -length:-offset}
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos8 script40]#str=abcdefæˆ‘ä½ ä»–
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${#str}
</span></span><span style="display:flex;"><span>9
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str:2}
</span></span><span style="display:flex;"><span>cdefæˆ‘ä½ ä»–
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str:2:3}
</span></span><span style="display:flex;"><span>cde
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str:-3}
</span></span><span style="display:flex;"><span>abcdefæˆ‘ä½ ä»–
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str: -3}
</span></span><span style="display:flex;"><span>æˆ‘ä½ ä»–
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str:2:-3}
</span></span><span style="display:flex;"><span>cdef
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str: -2:-3}
</span></span><span style="display:flex;"><span>-bash: -3: substring expression &lt; 0
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str: -3:-2}
</span></span><span style="display:flex;"><span>æˆ‘
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str:-3:-2}
</span></span><span style="display:flex;"><span>abcdefæˆ‘ä½ ä»–
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str: -3:-2}
</span></span><span style="display:flex;"><span>æˆ‘
</span></span><span style="display:flex;"><span>[root@centos8 script40]#echo ${str: -5:-2}
</span></span><span style="display:flex;"><span>efæˆ‘
</span></span></code></pre></div><h2 id="72-åŸºäºæ¨¡å¼å–å­ä¸²">7.2 åŸºäºæ¨¡å¼å–å­ä¸²<a hidden class="anchor" aria-hidden="true" href="#72-åŸºäºæ¨¡å¼å–å­ä¸²">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#å…¶ä¸­wordå¯ä»¥æ˜¯æŒ‡å®šçš„ä»»æ„å­—ç¬¦,è‡ªå·¦è€Œå³ï¼ŒæŸ¥æ‰¾varå˜é‡æ‰€å­˜å‚¨çš„å­—ç¬¦ä¸²ä¸­ï¼Œç¬¬ä¸€æ¬¡å‡ºç°çš„word, åˆ é™¤å­—
</span></span><span style="display:flex;"><span>ç¬¦ä¸²å¼€å¤´è‡³ç¬¬ä¸€æ¬¡å‡ºç°wordå­—ç¬¦ä¸²ï¼ˆå«ï¼‰ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦,å³æ‡’æƒ°æ¨¡å¼,ä»¥ç¬¬ä¸€ä¸ªwordä¸ºç•Œåˆ å·¦ç•™å³
</span></span><span style="display:flex;"><span>${var#*word}
</span></span><span style="display:flex;"><span>#ä»varå˜é‡çš„å€¼ä¸­åˆ é™¤ä»¥wordå¼€å¤´çš„éƒ¨åˆ†
</span></span><span style="display:flex;"><span>${var#word}
</span></span><span style="display:flex;"><span>#åŒä¸Šï¼Œè´ªå©ªæ¨¡å¼ï¼Œä¸åŒçš„æ˜¯ï¼Œåˆ é™¤çš„æ˜¯å­—ç¬¦ä¸²å¼€å¤´è‡³æœ€åä¸€æ¬¡ç”±wordæŒ‡å®šçš„å­—ç¬¦ä¹‹é—´çš„æ‰€æœ‰å†…å®¹,å³è´ªå©ªæ¨¡
</span></span><span style="display:flex;"><span>å¼,ä»¥æœ€åä¸€ä¸ªwordä¸ºç•Œåˆ å·¦ç•™å³
</span></span><span style="display:flex;"><span>${var##*word}
</span></span><span style="display:flex;"><span>${var##word}
</span></span></code></pre></div><p><strong>èŒƒä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[root@centos8 ~]#file=&#34;var/log/messages&#34;
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo ${file#*/}
</span></span><span style="display:flex;"><span>log/messages
</span></span><span style="display:flex;"><span>[root@centos8 ~]#echo ${file##*/}
</span></span><span style="display:flex;"><span>messages
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#å…¶ä¸­wordå¯ä»¥æ˜¯æŒ‡å®šçš„ä»»æ„å­—ç¬¦,åŠŸèƒ½ï¼šè‡ªå³è€Œå·¦ï¼ŒæŸ¥æ‰¾varå˜é‡æ‰€å­˜å‚¨çš„å­—ç¬¦ä¸²ä¸­ï¼Œç¬¬ä¸€æ¬¡å‡ºç°çš„word,
</span></span><span style="display:flex;"><span>åˆ é™¤å­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦å‘å·¦è‡³ç¬¬ä¸€æ¬¡å‡ºç°wordå­—ç¬¦ä¸²ï¼ˆå«ï¼‰ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦,å³æ‡’æƒ°æ¨¡å¼,ä»¥ä»å³å‘å·¦çš„ç¬¬
</span></span><span style="display:flex;"><span>ä¸€ä¸ªwordä¸ºç•Œåˆ å³ç•™å·¦
</span></span><span style="display:flex;"><span>${var%word*}
</span></span><span style="display:flex;"><span>${var%word}
</span></span><span style="display:flex;"><span>#åŒä¸Šï¼Œåªä¸è¿‡åˆ é™¤å­—ç¬¦ä¸²æœ€å³ä¾§çš„å­—ç¬¦å‘å·¦è‡³æœ€åä¸€æ¬¡å‡ºç°wordå­—ç¬¦ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦,å³è´ªå©ªæ¨¡å¼,ä»¥ä»å³å‘
</span></span><span style="display:flex;"><span>å·¦çš„æœ€åä¸€ä¸ªwordä¸ºç•Œåˆ å³ç•™å·¦
</span></span><span style="display:flex;"><span>${var%%word*}
</span></span><span style="display:flex;"><span>${var%%word}
</span></span></code></pre></div><h2 id="73-æŸ¥æ‰¾å’Œæ›¿æ¢">7.3 æŸ¥æ‰¾å’Œæ›¿æ¢<a hidden class="anchor" aria-hidden="true" href="#73-æŸ¥æ‰¾å’Œæ›¿æ¢">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#æŸ¥æ‰¾varæ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸²ä¸­ï¼Œç¬¬ä¸€æ¬¡è¢«patternæ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œä»¥substræ›¿æ¢ä¹‹
</span></span><span style="display:flex;"><span>${var/pattern/substr}
</span></span><span style="display:flex;"><span>#æŸ¥æ‰¾varæ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸²ä¸­ï¼Œæ‰€æœ‰èƒ½è¢«patternæ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œä»¥substræ›¿æ¢ä¹‹
</span></span><span style="display:flex;"><span>${var//pattern/substr}
</span></span><span style="display:flex;"><span>#æŸ¥æ‰¾varæ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸²ä¸­ï¼Œè¡Œé¦–è¢«patternæ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œä»¥substræ›¿æ¢ä¹‹
</span></span><span style="display:flex;"><span>${var/#pattern/substr}
</span></span><span style="display:flex;"><span>#æŸ¥æ‰¾varæ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸²ä¸­ï¼Œè¡Œå°¾è¢«patternæ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œä»¥substræ›¿æ¢ä¹‹
</span></span><span style="display:flex;"><span>${var/%pattern/substr}
</span></span></code></pre></div><h2 id="74-æŸ¥æ‰¾å’Œåˆ é™¤">7.4 æŸ¥æ‰¾å’Œåˆ é™¤<a hidden class="anchor" aria-hidden="true" href="#74-æŸ¥æ‰¾å’Œåˆ é™¤">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#åˆ é™¤varè¡¨ç¤ºçš„å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡è¢«patternåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²
</span></span><span style="display:flex;"><span>${var/pattern}
</span></span><span style="display:flex;"><span>#åˆ é™¤varè¡¨ç¤ºçš„å­—ç¬¦ä¸²ä¸­æ‰€æœ‰è¢«patternåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²
</span></span><span style="display:flex;"><span>${var//pattern}
</span></span><span style="display:flex;"><span>#åˆ é™¤varè¡¨ç¤ºçš„å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä»¥patternä¸ºè¡Œé¦–åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²
</span></span><span style="display:flex;"><span>${var/#pattern}
</span></span><span style="display:flex;"><span>#åˆ é™¤varæ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä»¥patternä¸ºè¡Œå°¾æ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²
</span></span><span style="display:flex;"><span>${var/%pattern}
</span></span></code></pre></div><h2 id="75-å­—ç¬¦å¤§å°å†™è½¬æ¢">7.5 å­—ç¬¦å¤§å°å†™è½¬æ¢<a hidden class="anchor" aria-hidden="true" href="#75-å­—ç¬¦å¤§å°å†™è½¬æ¢">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#æŠŠvarä¸­çš„æ‰€æœ‰å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™
</span></span><span style="display:flex;"><span>${var^^}
</span></span><span style="display:flex;"><span>#æŠŠvarä¸­çš„æ‰€æœ‰å¤§å†™å­—æ¯è½¬æ¢ä¸ºå°å†™
</span></span><span style="display:flex;"><span>${var,,}
</span></span></code></pre></div>

        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="http://hugo.itshare.work/archivist/disk/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>ç£ç›˜å­˜å‚¨å’Œæ–‡ä»¶ç³»ç»Ÿç®¡ç†</span>
  </a>
  <a class="next" href="http://hugo.itshare.work/archivist/%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE%E5%92%8C%E6%89%93%E5%8C%85%E5%8E%8B%E7%BC%A9/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>æ–‡ä»¶æŸ¥æ‰¾å’Œæ‰“åŒ…å‹ç¼©</span>
  </a>
</nav>

        </footer>
    </div>
</article>
</main>

<footer class="footer">
    <span>
        Copyright
        &copy;
        2022-2023
        <a href="http://hugo.itshare.work/" style="color:#939393;">Cookie</a>
        All Rights Reserved
    </span>
    <a href="https://beian.miit.gov.cn/" target="_blank" style="color:#939393;"></a>&nbsp;
    <span>
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null"
           style="display:inline-block;text-decoration:none;height:20px;color:#939393;">
            <img src="" style="float:left;margin: 0px 5px 0px 0px;"/>
            
        </a>
    </span>
    <span id="busuanzi_container">
        <span class="fa fa-user"></span> <span id="busuanzi_value_site_uv"></span>
        <span class="fa fa-eye"></span> <span id="busuanzi_value_site_pv"></span>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        (function() {
            document.cookie = "change-themes" + "="+ escape ("false");
        })()

        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    });
</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"Cookie"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"Cookie"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;
        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'ğŸ“„å¤åˆ¶';

        function copyingDone() {
            copybutton.innerText = 'ğŸ‘ŒğŸ»å·²å¤åˆ¶!';
            setTimeout(() => {
                copybutton.innerText = 'ğŸ“„å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent +
                    '\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"Cookie"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                navigator.clipboard.writeText(text);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {}
            selection.removeRange(range);
        });

        let language = codeblock.className.replaceAll("language-", "")
        let macTool = document.createElement("div")
        let macTool1 = document.createElement("div")
        let macTool2 = document.createElement("div")
        let macTool3 = document.createElement("div")
        let languageType = document.createElement("div")
        languageType.innerText = language
        macTool.setAttribute('class', 'mac-tool')
        macTool1.setAttribute('class', 'mac bb1')
        macTool2.setAttribute('class', 'mac bb2')
        macTool3.setAttribute('class', 'mac bb3')
        languageType.setAttribute('class', 'language-type')
        macTool.appendChild(macTool1)
        macTool.appendChild(macTool2)
        macTool.appendChild(macTool3)
        macTool.appendChild(languageType)

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
            container.appendChild(macTool)
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        }
    });
</script>
</body>

</html>
